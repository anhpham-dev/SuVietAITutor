(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(r){if(r.ep)return;r.ep=!0;const l=n(r);fetch(r.href,l)}})();function j_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var nh={exports:{}},el={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ov;function lC(){if(ov)return el;ov=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,r,l){var c=null;if(l!==void 0&&(c=""+l),r.key!==void 0&&(c=""+r.key),"key"in r){l={};for(var g in r)g!=="key"&&(l[g]=r[g])}else l=r;return r=l.ref,{$$typeof:t,type:s,key:c,ref:r!==void 0?r:null,props:l}}return el.Fragment=e,el.jsx=n,el.jsxs=n,el}var sv;function uC(){return sv||(sv=1,nh.exports=lC()),nh.exports}var C=uC(),ih={exports:{}},Se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rv;function cC(){if(rv)return Se;rv=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),T=Symbol.iterator;function x(G){return G===null||typeof G!="object"?null:(G=T&&G[T]||G["@@iterator"],typeof G=="function"?G:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,k={};function F(G,ne,ue){this.props=G,this.context=ne,this.refs=k,this.updater=ue||M}F.prototype.isReactComponent={},F.prototype.setState=function(G,ne){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,ne,"setState")},F.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function Y(){}Y.prototype=F.prototype;function B(G,ne,ue){this.props=G,this.context=ne,this.refs=k,this.updater=ue||M}var oe=B.prototype=new Y;oe.constructor=B,U(oe,F.prototype),oe.isPureReactComponent=!0;var se=Array.isArray;function ae(){}var D={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function I(G,ne,ue){var de=ue.ref;return{$$typeof:t,type:G,key:ne,ref:de!==void 0?de:null,props:ue}}function O(G,ne){return I(G.type,ne,G.props)}function L(G){return typeof G=="object"&&G!==null&&G.$$typeof===t}function z(G){var ne={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(ue){return ne[ue]})}var P=/\/+/g;function Ae(G,ne){return typeof G=="object"&&G!==null&&G.key!=null?z(""+G.key):ne.toString(36)}function He(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(ae,ae):(G.status="pending",G.then(function(ne){G.status==="pending"&&(G.status="fulfilled",G.value=ne)},function(ne){G.status==="pending"&&(G.status="rejected",G.reason=ne)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function j(G,ne,ue,de,Ee){var xe=typeof G;(xe==="undefined"||xe==="boolean")&&(G=null);var Ue=!1;if(G===null)Ue=!0;else switch(xe){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(G.$$typeof){case t:case e:Ue=!0;break;case v:return Ue=G._init,j(Ue(G._payload),ne,ue,de,Ee)}}if(Ue)return Ee=Ee(G),Ue=de===""?"."+Ae(G,0):de,se(Ee)?(ue="",Ue!=null&&(ue=Ue.replace(P,"$&/")+"/"),j(Ee,ne,ue,"",function($o){return $o})):Ee!=null&&(L(Ee)&&(Ee=O(Ee,ue+(Ee.key==null||G&&G.key===Ee.key?"":(""+Ee.key).replace(P,"$&/")+"/")+Ue)),ne.push(Ee)),1;Ue=0;var xt=de===""?".":de+":";if(se(G))for(var ot=0;ot<G.length;ot++)de=G[ot],xe=xt+Ae(de,ot),Ue+=j(de,ne,ue,xe,Ee);else if(ot=x(G),typeof ot=="function")for(G=ot.call(G),ot=0;!(de=G.next()).done;)de=de.value,xe=xt+Ae(de,ot++),Ue+=j(de,ne,ue,xe,Ee);else if(xe==="object"){if(typeof G.then=="function")return j(He(G),ne,ue,de,Ee);throw ne=String(G),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function re(G,ne,ue){if(G==null)return G;var de=[],Ee=0;return j(G,de,"","",function(xe){return ne.call(ue,xe,Ee++)}),de}function pe(G){if(G._status===-1){var ne=G._result;ne=ne(),ne.then(function(ue){(G._status===0||G._status===-1)&&(G._status=1,G._result=ue)},function(ue){(G._status===0||G._status===-1)&&(G._status=2,G._result=ue)}),G._status===-1&&(G._status=0,G._result=ne)}if(G._status===1)return G._result.default;throw G._result}var Me=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)},Ge={map:re,forEach:function(G,ne,ue){re(G,function(){ne.apply(this,arguments)},ue)},count:function(G){var ne=0;return re(G,function(){ne++}),ne},toArray:function(G){return re(G,function(ne){return ne})||[]},only:function(G){if(!L(G))throw Error("React.Children.only expected to receive a single React element child.");return G}};return Se.Activity=E,Se.Children=Ge,Se.Component=F,Se.Fragment=n,Se.Profiler=r,Se.PureComponent=B,Se.StrictMode=s,Se.Suspense=p,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Se.__COMPILER_RUNTIME={__proto__:null,c:function(G){return D.H.useMemoCache(G)}},Se.cache=function(G){return function(){return G.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(G,ne,ue){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var de=U({},G.props),Ee=G.key;if(ne!=null)for(xe in ne.key!==void 0&&(Ee=""+ne.key),ne)!N.call(ne,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&ne.ref===void 0||(de[xe]=ne[xe]);var xe=arguments.length-2;if(xe===1)de.children=ue;else if(1<xe){for(var Ue=Array(xe),xt=0;xt<xe;xt++)Ue[xt]=arguments[xt+2];de.children=Ue}return I(G.type,Ee,de)},Se.createContext=function(G){return G={$$typeof:c,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:l,_context:G},G},Se.createElement=function(G,ne,ue){var de,Ee={},xe=null;if(ne!=null)for(de in ne.key!==void 0&&(xe=""+ne.key),ne)N.call(ne,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(Ee[de]=ne[de]);var Ue=arguments.length-2;if(Ue===1)Ee.children=ue;else if(1<Ue){for(var xt=Array(Ue),ot=0;ot<Ue;ot++)xt[ot]=arguments[ot+2];Ee.children=xt}if(G&&G.defaultProps)for(de in Ue=G.defaultProps,Ue)Ee[de]===void 0&&(Ee[de]=Ue[de]);return I(G,xe,Ee)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(G){return{$$typeof:g,render:G}},Se.isValidElement=L,Se.lazy=function(G){return{$$typeof:v,_payload:{_status:-1,_result:G},_init:pe}},Se.memo=function(G,ne){return{$$typeof:f,type:G,compare:ne===void 0?null:ne}},Se.startTransition=function(G){var ne=D.T,ue={};D.T=ue;try{var de=G(),Ee=D.S;Ee!==null&&Ee(ue,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(ae,Me)}catch(xe){Me(xe)}finally{ne!==null&&ue.types!==null&&(ne.types=ue.types),D.T=ne}},Se.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Se.use=function(G){return D.H.use(G)},Se.useActionState=function(G,ne,ue){return D.H.useActionState(G,ne,ue)},Se.useCallback=function(G,ne){return D.H.useCallback(G,ne)},Se.useContext=function(G){return D.H.useContext(G)},Se.useDebugValue=function(){},Se.useDeferredValue=function(G,ne){return D.H.useDeferredValue(G,ne)},Se.useEffect=function(G,ne){return D.H.useEffect(G,ne)},Se.useEffectEvent=function(G){return D.H.useEffectEvent(G)},Se.useId=function(){return D.H.useId()},Se.useImperativeHandle=function(G,ne,ue){return D.H.useImperativeHandle(G,ne,ue)},Se.useInsertionEffect=function(G,ne){return D.H.useInsertionEffect(G,ne)},Se.useLayoutEffect=function(G,ne){return D.H.useLayoutEffect(G,ne)},Se.useMemo=function(G,ne){return D.H.useMemo(G,ne)},Se.useOptimistic=function(G,ne){return D.H.useOptimistic(G,ne)},Se.useReducer=function(G,ne,ue){return D.H.useReducer(G,ne,ue)},Se.useRef=function(G){return D.H.useRef(G)},Se.useState=function(G){return D.H.useState(G)},Se.useSyncExternalStore=function(G,ne,ue){return D.H.useSyncExternalStore(G,ne,ue)},Se.useTransition=function(){return D.H.useTransition()},Se.version="19.2.3",Se}var av;function jh(){return av||(av=1,ih.exports=cC()),ih.exports}var J=jh();const Ct=j_(J);var oh={exports:{}},tl={},sh={exports:{}},rh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lv;function dC(){return lv||(lv=1,(function(t){function e(j,re){var pe=j.length;j.push(re);e:for(;0<pe;){var Me=pe-1>>>1,Ge=j[Me];if(0<r(Ge,re))j[Me]=re,j[pe]=Ge,pe=Me;else break e}}function n(j){return j.length===0?null:j[0]}function s(j){if(j.length===0)return null;var re=j[0],pe=j.pop();if(pe!==re){j[0]=pe;e:for(var Me=0,Ge=j.length,G=Ge>>>1;Me<G;){var ne=2*(Me+1)-1,ue=j[ne],de=ne+1,Ee=j[de];if(0>r(ue,pe))de<Ge&&0>r(Ee,ue)?(j[Me]=Ee,j[de]=pe,Me=de):(j[Me]=ue,j[ne]=pe,Me=ne);else if(de<Ge&&0>r(Ee,pe))j[Me]=Ee,j[de]=pe,Me=de;else break e}}return re}function r(j,re){var pe=j.sortIndex-re.sortIndex;return pe!==0?pe:j.id-re.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,g=c.now();t.unstable_now=function(){return c.now()-g}}var p=[],f=[],v=1,E=null,T=3,x=!1,M=!1,U=!1,k=!1,F=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function oe(j){for(var re=n(f);re!==null;){if(re.callback===null)s(f);else if(re.startTime<=j)s(f),re.sortIndex=re.expirationTime,e(p,re);else break;re=n(f)}}function se(j){if(U=!1,oe(j),!M)if(n(p)!==null)M=!0,ae||(ae=!0,z());else{var re=n(f);re!==null&&He(se,re.startTime-j)}}var ae=!1,D=-1,N=5,I=-1;function O(){return k?!0:!(t.unstable_now()-I<N)}function L(){if(k=!1,ae){var j=t.unstable_now();I=j;var re=!0;try{e:{M=!1,U&&(U=!1,Y(D),D=-1),x=!0;var pe=T;try{t:{for(oe(j),E=n(p);E!==null&&!(E.expirationTime>j&&O());){var Me=E.callback;if(typeof Me=="function"){E.callback=null,T=E.priorityLevel;var Ge=Me(E.expirationTime<=j);if(j=t.unstable_now(),typeof Ge=="function"){E.callback=Ge,oe(j),re=!0;break t}E===n(p)&&s(p),oe(j)}else s(p);E=n(p)}if(E!==null)re=!0;else{var G=n(f);G!==null&&He(se,G.startTime-j),re=!1}}break e}finally{E=null,T=pe,x=!1}re=void 0}}finally{re?z():ae=!1}}}var z;if(typeof B=="function")z=function(){B(L)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,Ae=P.port2;P.port1.onmessage=L,z=function(){Ae.postMessage(null)}}else z=function(){F(L,0)};function He(j,re){D=F(function(){j(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_next=function(j){switch(T){case 1:case 2:case 3:var re=3;break;default:re=T}var pe=T;T=re;try{return j()}finally{T=pe}},t.unstable_requestPaint=function(){k=!0},t.unstable_runWithPriority=function(j,re){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var pe=T;T=j;try{return re()}finally{T=pe}},t.unstable_scheduleCallback=function(j,re,pe){var Me=t.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Me+pe:Me):pe=Me,j){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=pe+Ge,j={id:v++,callback:re,priorityLevel:j,startTime:pe,expirationTime:Ge,sortIndex:-1},pe>Me?(j.sortIndex=pe,e(f,j),n(p)===null&&j===n(f)&&(U?(Y(D),D=-1):U=!0,He(se,pe-Me))):(j.sortIndex=Ge,e(p,j),M||x||(M=!0,ae||(ae=!0,z()))),j},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(j){var re=T;return function(){var pe=T;T=re;try{return j.apply(this,arguments)}finally{T=pe}}}})(rh)),rh}var uv;function fC(){return uv||(uv=1,sh.exports=dC()),sh.exports}var ah={exports:{}},Bt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cv;function hC(){if(cv)return Bt;cv=1;var t=jh();function e(p){var f="https://react.dev/errors/"+p;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)f+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function l(p,f,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:E==null?null:""+E,children:p,containerInfo:f,implementation:v}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,f){if(p==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Bt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Bt.createPortal=function(p,f){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return l(p,f,null,v)},Bt.flushSync=function(p){var f=c.T,v=s.p;try{if(c.T=null,s.p=2,p)return p()}finally{c.T=f,s.p=v,s.d.f()}},Bt.preconnect=function(p,f){typeof p=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,s.d.C(p,f))},Bt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Bt.preinit=function(p,f){if(typeof p=="string"&&f&&typeof f.as=="string"){var v=f.as,E=g(v,f.crossOrigin),T=typeof f.integrity=="string"?f.integrity:void 0,x=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;v==="style"?s.d.S(p,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:E,integrity:T,fetchPriority:x}):v==="script"&&s.d.X(p,{crossOrigin:E,integrity:T,fetchPriority:x,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Bt.preinitModule=function(p,f){if(typeof p=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var v=g(f.as,f.crossOrigin);s.d.M(p,{crossOrigin:v,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&s.d.M(p)},Bt.preload=function(p,f){if(typeof p=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var v=f.as,E=g(v,f.crossOrigin);s.d.L(p,v,{crossOrigin:E,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Bt.preloadModule=function(p,f){if(typeof p=="string")if(f){var v=g(f.as,f.crossOrigin);s.d.m(p,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:v,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else s.d.m(p)},Bt.requestFormReset=function(p){s.d.r(p)},Bt.unstable_batchedUpdates=function(p,f){return p(f)},Bt.useFormState=function(p,f,v){return c.H.useFormState(p,f,v)},Bt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Bt.version="19.2.3",Bt}var dv;function pC(){if(dv)return ah.exports;dv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ah.exports=hC(),ah.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fv;function mC(){if(fv)return tl;fv=1;var t=fC(),e=jh(),n=pC();function s(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)o+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var o=i,a=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(a=o.return),i=o.return;while(i)}return o.tag===3?a:null}function c(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function g(i){if(i.tag===31){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function p(i){if(l(i)!==i)throw Error(s(188))}function f(i){var o=i.alternate;if(!o){if(o=l(i),o===null)throw Error(s(188));return o!==i?null:i}for(var a=i,u=o;;){var y=a.return;if(y===null)break;var _=y.alternate;if(_===null){if(u=y.return,u!==null){a=u;continue}break}if(y.child===_.child){for(_=y.child;_;){if(_===a)return p(y),i;if(_===u)return p(y),o;_=_.sibling}throw Error(s(188))}if(a.return!==u.return)a=y,u=_;else{for(var A=!1,b=y.child;b;){if(b===a){A=!0,a=y,u=_;break}if(b===u){A=!0,u=y,a=_;break}b=b.sibling}if(!A){for(b=_.child;b;){if(b===a){A=!0,a=_,u=y;break}if(b===u){A=!0,u=_,a=y;break}b=b.sibling}if(!A)throw Error(s(189))}}if(a.alternate!==u)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?i:o}function v(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=v(i),o!==null)return o;i=i.sibling}return null}var E=Object.assign,T=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),Y=Symbol.for("react.consumer"),B=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function z(i){return i===null||typeof i!="object"?null:(i=L&&i[L]||i["@@iterator"],typeof i=="function"?i:null)}var P=Symbol.for("react.client.reference");function Ae(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===P?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case U:return"Fragment";case F:return"Profiler";case k:return"StrictMode";case se:return"Suspense";case ae:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case M:return"Portal";case B:return i.displayName||"Context";case Y:return(i._context.displayName||"Context")+".Consumer";case oe:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case D:return o=i.displayName||null,o!==null?o:Ae(i.type)||"Memo";case N:o=i._payload,i=i._init;try{return Ae(i(o))}catch{}}return null}var He=Array.isArray,j=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Me=[],Ge=-1;function G(i){return{current:i}}function ne(i){0>Ge||(i.current=Me[Ge],Me[Ge]=null,Ge--)}function ue(i,o){Ge++,Me[Ge]=i.current,i.current=o}var de=G(null),Ee=G(null),xe=G(null),Ue=G(null);function xt(i,o){switch(ue(xe,o),ue(Ee,i),ue(de,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?by(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=by(o),i=Ry(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ne(de),ue(de,i)}function ot(){ne(de),ne(Ee),ne(xe)}function $o(i){i.memoizedState!==null&&ue(Ue,i);var o=de.current,a=Ry(o,i.type);o!==a&&(ue(Ee,i),ue(de,a))}function Vs(i){Ee.current===i&&(ne(de),ne(Ee)),Ue.current===i&&(ne(Ue),Qa._currentValue=pe)}var Hs,Gs;function Kn(i){if(Hs===void 0)try{throw Error()}catch(a){var o=a.stack.trim().match(/\n( *(at )?)/);Hs=o&&o[1]||"",Gs=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Hs+i+Gs}var Qr=!1;function Ko(i,o){if(!i||Qr)return"";Qr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(o){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(Z){var Q=Z}Reflect.construct(i,[],ie)}else{try{ie.call()}catch(Z){Q=Z}i.call(ie.prototype)}}else{try{throw Error()}catch(Z){Q=Z}(ie=i())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(Z){if(Z&&Q&&typeof Z.stack=="string")return[Z.stack,Q.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=u.DetermineComponentFrameRoot(),A=_[0],b=_[1];if(A&&b){var V=A.split(`
`),X=b.split(`
`);for(y=u=0;u<V.length&&!V[u].includes("DetermineComponentFrameRoot");)u++;for(;y<X.length&&!X[y].includes("DetermineComponentFrameRoot");)y++;if(u===V.length||y===X.length)for(u=V.length-1,y=X.length-1;1<=u&&0<=y&&V[u]!==X[y];)y--;for(;1<=u&&0<=y;u--,y--)if(V[u]!==X[y]){if(u!==1||y!==1)do if(u--,y--,0>y||V[u]!==X[y]){var ee=`
`+V[u].replace(" at new "," at ");return i.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",i.displayName)),ee}while(1<=u&&0<=y);break}}}finally{Qr=!1,Error.prepareStackTrace=a}return(a=i?i.displayName||i.name:"")?Kn(a):""}function Wr(i,o){switch(i.tag){case 26:case 27:case 5:return Kn(i.type);case 16:return Kn("Lazy");case 13:return i.child!==o&&o!==null?Kn("Suspense Fallback"):Kn("Suspense");case 19:return Kn("SuspenseList");case 0:case 15:return Ko(i.type,!1);case 11:return Ko(i.type.render,!1);case 1:return Ko(i.type,!0);case 31:return Kn("Activity");default:return""}}function Zr(i){try{var o="",a=null;do o+=Wr(i,a),a=i,i=i.return;while(i);return o}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var pt=Object.prototype.hasOwnProperty,bt=t.unstable_scheduleCallback,ji=t.unstable_cancelCallback,nd=t.unstable_shouldYield,Ml=t.unstable_requestPaint,qt=t.unstable_now,Xo=t.unstable_getCurrentPriorityLevel,jr=t.unstable_ImmediatePriority,ea=t.unstable_UserBlockingPriority,eo=t.unstable_NormalPriority,id=t.unstable_LowPriority,Dl=t.unstable_IdlePriority,kl=t.log,od=t.unstable_setDisableYieldValue,In=null,kt=null;function hn(i){if(typeof kl=="function"&&od(i),kt&&typeof kt.setStrictMode=="function")try{kt.setStrictMode(In,i)}catch{}}var mt=Math.clz32?Math.clz32:Ul,Pl=Math.log,ta=Math.LN2;function Ul(i){return i>>>=0,i===0?32:31-(Pl(i)/ta|0)|0}var Xn=256,Qo=262144,gt=4194304;function Qn(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Wn(i,o,a){var u=i.pendingLanes;if(u===0)return 0;var y=0,_=i.suspendedLanes,A=i.pingedLanes;i=i.warmLanes;var b=u&134217727;return b!==0?(u=b&~_,u!==0?y=Qn(u):(A&=b,A!==0?y=Qn(A):a||(a=b&~i,a!==0&&(y=Qn(a))))):(b=u&~_,b!==0?y=Qn(b):A!==0?y=Qn(A):a||(a=u&~i,a!==0&&(y=Qn(a)))),y===0?0:o!==0&&o!==y&&(o&_)===0&&(_=y&-y,a=o&-o,_>=a||_===32&&(a&4194048)!==0)?o:y}function Nn(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function sd(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ll(){var i=gt;return gt<<=1,(gt&62914560)===0&&(gt=4194304),i}function Zn(i){for(var o=[],a=0;31>a;a++)o.push(i);return o}function Wo(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function rd(i,o,a,u,y,_){var A=i.pendingLanes;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=a,i.entangledLanes&=a,i.errorRecoveryDisabledLanes&=a,i.shellSuspendCounter=0;var b=i.entanglements,V=i.expirationTimes,X=i.hiddenUpdates;for(a=A&~a;0<a;){var ee=31-mt(a),ie=1<<ee;b[ee]=0,V[ee]=-1;var Q=X[ee];if(Q!==null)for(X[ee]=null,ee=0;ee<Q.length;ee++){var Z=Q[ee];Z!==null&&(Z.lane&=-536870913)}a&=~ie}u!==0&&Bs(i,u,0),_!==0&&y===0&&i.tag!==0&&(i.suspendedLanes|=_&~(A&~o))}function Bs(i,o,a){i.pendingLanes|=o,i.suspendedLanes&=~o;var u=31-mt(o);i.entangledLanes|=o,i.entanglements[u]=i.entanglements[u]|1073741824|a&261930}function Ol(i,o){var a=i.entangledLanes|=o;for(i=i.entanglements;a;){var u=31-mt(a),y=1<<u;y&o|i[u]&o&&(i[u]|=o),a&=~y}}function na(i,o){var a=o&-o;return a=(a&42)!==0?1:Zo(a),(a&(i.suspendedLanes|o))!==0?0:a}function Zo(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ti(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Vl(){var i=re.p;return i!==0?i:(i=window.event,i===void 0?32:Wy(i.type))}function Mn(i,o){var a=re.p;try{return re.p=i,o()}finally{re.p=a}}var Dn=Math.random().toString(36).slice(2),yt="__reactFiber$"+Dn,It="__reactProps$"+Dn,jn="__reactContainer$"+Dn,zs="__reactEvents$"+Dn,ad="__reactListeners$"+Dn,Hl="__reactHandles$"+Dn,Gl="__reactResources$"+Dn,ei="__reactMarker$"+Dn;function qs(i){delete i[yt],delete i[It],delete i[zs],delete i[ad],delete i[Hl]}function ti(i){var o=i[yt];if(o)return o;for(var a=i.parentNode;a;){if(o=a[jn]||a[yt]){if(a=o.alternate,o.child!==null||a!==null&&a.child!==null)for(i=Uy(i);i!==null;){if(a=i[yt])return a;i=Uy(i)}return o}i=a,a=i.parentNode}return null}function pn(i){if(i=i[yt]||i[jn]){var o=i.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return i}return null}function nn(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(s(33))}function ni(i){var o=i[Gl];return o||(o=i[Gl]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function vt(i){i[ei]=!0}var ia=new Set,oa={};function ii(i,o){oi(i,o),oi(i+"Capture",o)}function oi(i,o){for(oa[i]=o,i=0;i<o.length;i++)ia.add(o[i])}var sa=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ra={},aa={};function Bl(i){return pt.call(aa,i)?!0:pt.call(ra,i)?!1:sa.test(i)?aa[i]=!0:(ra[i]=!0,!1)}function Fs(i,o,a){if(Bl(o))if(a===null)i.removeAttribute(o);else{switch(typeof a){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var u=o.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+a)}}function on(i,o,a){if(a===null)i.removeAttribute(o);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+a)}}function _t(i,o,a,u){if(u===null)i.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttributeNS(o,a,""+u)}}function Nt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function to(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function la(i,o,a){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,o);if(!i.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,_=u.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return y.call(this)},set:function(A){a=""+A,_.call(this,A)}}),Object.defineProperty(i,o,{enumerable:u.enumerable}),{getValue:function(){return a},setValue:function(A){a=""+A},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Je(i){if(!i._valueTracker){var o=to(i)?"checked":"value";i._valueTracker=la(i,o,""+i[o])}}function jo(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var a=o.getValue(),u="";return i&&(u=to(i)?i.checked?"true":"false":i.value),i=u,i!==a?(o.setValue(i),!0):!1}function si(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var es=/[\n"\\]/g;function Xt(i){return i.replace(es,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Ys(i,o,a,u,y,_,A,b){i.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.type=A:i.removeAttribute("type"),o!=null?A==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+Nt(o)):i.value!==""+Nt(o)&&(i.value=""+Nt(o)):A!=="submit"&&A!=="reset"||i.removeAttribute("value"),o!=null?ua(i,A,Nt(o)):a!=null?ua(i,A,Nt(a)):u!=null&&i.removeAttribute("value"),y==null&&_!=null&&(i.defaultChecked=!!_),y!=null&&(i.checked=y&&typeof y!="function"&&typeof y!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.name=""+Nt(b):i.removeAttribute("name")}function zl(i,o,a,u,y,_,A,b){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.type=_),o!=null||a!=null){if(!(_!=="submit"&&_!=="reset"||o!=null)){Je(i);return}a=a!=null?""+Nt(a):"",o=o!=null?""+Nt(o):a,b||o===i.value||(i.value=o),i.defaultValue=o}u=u??y,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=b?i.checked:!!u,i.defaultChecked=!!u,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(i.name=A),Je(i)}function ua(i,o,a){o==="number"&&si(i.ownerDocument)===i||i.defaultValue===""+a||(i.defaultValue=""+a)}function no(i,o,a,u){if(i=i.options,o){o={};for(var y=0;y<a.length;y++)o["$"+a[y]]=!0;for(a=0;a<i.length;a++)y=o.hasOwnProperty("$"+i[a].value),i[a].selected!==y&&(i[a].selected=y),y&&u&&(i[a].defaultSelected=!0)}else{for(a=""+Nt(a),o=null,y=0;y<i.length;y++){if(i[y].value===a){i[y].selected=!0,u&&(i[y].defaultSelected=!0);return}o!==null||i[y].disabled||(o=i[y])}o!==null&&(o.selected=!0)}}function ql(i,o,a){if(o!=null&&(o=""+Nt(o),o!==i.value&&(i.value=o),a==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=a!=null?""+Nt(a):""}function io(i,o,a,u){if(o==null){if(u!=null){if(a!=null)throw Error(s(92));if(He(u)){if(1<u.length)throw Error(s(93));u=u[0]}a=u}a==null&&(a=""),o=a}a=Nt(o),i.defaultValue=a,u=i.textContent,u===a&&u!==""&&u!==null&&(i.value=u),Je(i)}function Qt(i,o){if(o){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=o;return}}i.textContent=o}var Fl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ca(i,o,a){var u=o.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":u?i.setProperty(o,a):typeof a!="number"||a===0||Fl.has(o)?o==="float"?i.cssFloat=a:i[o]=(""+a).trim():i[o]=a+"px"}function da(i,o,a){if(o!=null&&typeof o!="object")throw Error(s(62));if(i=i.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||o!=null&&o.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var y in o)u=o[y],o.hasOwnProperty(y)&&a[y]!==u&&ca(i,y,u)}else for(var _ in o)o.hasOwnProperty(_)&&ca(i,_,o[_])}function Js(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),oo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $s(i){return oo.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function kn(){}var fa=null;function mn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var so=null,ri=null;function ts(i){var o=pn(i);if(o&&(i=o.stateNode)){var a=i[It]||null;e:switch(i=o.stateNode,o.type){case"input":if(Ys(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),o=a.name,a.type==="radio"&&o!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Xt(""+o)+'"][type="radio"]'),o=0;o<a.length;o++){var u=a[o];if(u!==i&&u.form===i.form){var y=u[It]||null;if(!y)throw Error(s(90));Ys(u,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<a.length;o++)u=a[o],u.form===i.form&&jo(u)}break e;case"textarea":ql(i,a.value,a.defaultValue);break e;case"select":o=a.value,o!=null&&no(i,!!a.multiple,o,!1)}}}var Ks=!1;function ro(i,o,a){if(Ks)return i(o,a);Ks=!0;try{var u=i(o);return u}finally{if(Ks=!1,(so!==null||ri!==null)&&(Vu(),so&&(o=so,i=ri,ri=so=null,ts(o),i)))for(o=0;o<i.length;o++)ts(i[o])}}function Pn(i,o){var a=i.stateNode;if(a===null)return null;var u=a[It]||null;if(u===null)return null;a=u[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(s(231,o,typeof a));return a}var gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ns=!1;if(gn)try{var je={};Object.defineProperty(je,"passive",{get:function(){ns=!0}}),window.addEventListener("test",je,je),window.removeEventListener("test",je,je)}catch{ns=!1}var ai=null,ha=null,is=null;function pa(){if(is)return is;var i,o=ha,a=o.length,u,y="value"in ai?ai.value:ai.textContent,_=y.length;for(i=0;i<a&&o[i]===y[i];i++);var A=a-i;for(u=1;u<=A&&o[a-u]===y[_-u];u++);return is=y.slice(i,1<u?1-u:void 0)}function os(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Si(){return!0}function Un(){return!1}function Pt(i){function o(a,u,y,_,A){this._reactName=a,this._targetInst=y,this.type=u,this.nativeEvent=_,this.target=A,this.currentTarget=null;for(var b in i)i.hasOwnProperty(b)&&(a=i[b],this[b]=a?a(_):_[b]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Si:Un,this.isPropagationStopped=Un,this}return E(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Si)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Si)},persist:function(){},isPersistent:Si}),o}var Ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},li=Pt(Ai),ao=E({},Ai,{view:0,detail:0}),ma=Pt(ao),lo,Xs,ui,Qs=E({},ao,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ht,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ui&&(ui&&i.type==="mousemove"?(lo=i.screenX-ui.screenX,Xs=i.screenY-ui.screenY):Xs=lo=0,ui=i),lo)},movementY:function(i){return"movementY"in i?i.movementY:Xs}}),ga=Pt(Qs),ss=E({},Qs,{dataTransfer:0}),Jl=Pt(ss),$l=E({},ao,{relatedTarget:0}),rs=Pt($l),ya=E({},Ai,{animationName:0,elapsedTime:0,pseudoElement:0}),Kl=Pt(ya),Ws=E({},Ai,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Xl=Pt(Ws),Ql=E({},Ai,{data:0}),ci=Pt(Ql),Wl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eu(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=jl[i])?!!o[i]:!1}function Ht(){return eu}var tu=E({},ao,{key:function(i){if(i.key){var o=Wl[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=os(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Zl[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ht,charCode:function(i){return i.type==="keypress"?os(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?os(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),nu=Pt(tu),uo=E({},Qs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),m=Pt(uo),S=E({},ao,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ht}),w=Pt(S),R=E({},Ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),$=Pt(R),W=E({},Qs,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),le=Pt(W),Ce=E({},Ai,{newState:0,oldState:0}),dt=Pt(Ce),$e=[9,13,27,32],at=gn&&"CompositionEvent"in window,Gt=null;gn&&"documentMode"in document&&(Gt=document.documentMode);var Ci=gn&&"TextEvent"in window&&!Gt,Ln=gn&&(!at||Gt&&8<Gt&&11>=Gt),On=" ",as=!1;function Zs(i,o){switch(i){case"keyup":return $e.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Op(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var js=!1;function DS(i,o){switch(i){case"compositionend":return Op(o);case"keypress":return o.which!==32?null:(as=!0,On);case"textInput":return i=o.data,i===On&&as?null:i;default:return null}}function kS(i,o){if(js)return i==="compositionend"||!at&&Zs(i,o)?(i=pa(),is=ha=ai=null,js=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Ln&&o.locale!=="ko"?null:o.data;default:return null}}var PS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vp(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!PS[i.type]:o==="textarea"}function Hp(i,o,a,u){so?ri?ri.push(u):ri=[u]:so=u,o=Yu(o,"onChange"),0<o.length&&(a=new li("onChange","change",null,a,u),i.push({event:a,listeners:o}))}var va=null,_a=null;function US(i){Ty(i,0)}function iu(i){var o=nn(i);if(jo(o))return i}function Gp(i,o){if(i==="change")return o}var Bp=!1;if(gn){var ld;if(gn){var ud="oninput"in document;if(!ud){var zp=document.createElement("div");zp.setAttribute("oninput","return;"),ud=typeof zp.oninput=="function"}ld=ud}else ld=!1;Bp=ld&&(!document.documentMode||9<document.documentMode)}function qp(){va&&(va.detachEvent("onpropertychange",Fp),_a=va=null)}function Fp(i){if(i.propertyName==="value"&&iu(_a)){var o=[];Hp(o,_a,i,mn(i)),ro(US,o)}}function LS(i,o,a){i==="focusin"?(qp(),va=o,_a=a,va.attachEvent("onpropertychange",Fp)):i==="focusout"&&qp()}function OS(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return iu(_a)}function VS(i,o){if(i==="click")return iu(o)}function HS(i,o){if(i==="input"||i==="change")return iu(o)}function GS(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var sn=typeof Object.is=="function"?Object.is:GS;function Ea(i,o){if(sn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var a=Object.keys(i),u=Object.keys(o);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var y=a[u];if(!pt.call(o,y)||!sn(i[y],o[y]))return!1}return!0}function Yp(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Jp(i,o){var a=Yp(i);i=0;for(var u;a;){if(a.nodeType===3){if(u=i+a.textContent.length,i<=o&&u>=o)return{node:a,offset:o-i};i=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Yp(a)}}function $p(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?$p(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Kp(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=si(i.document);o instanceof i.HTMLIFrameElement;){try{var a=typeof o.contentWindow.location.href=="string"}catch{a=!1}if(a)i=o.contentWindow;else break;o=si(i.document)}return o}function cd(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var BS=gn&&"documentMode"in document&&11>=document.documentMode,er=null,dd=null,Ta=null,fd=!1;function Xp(i,o,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;fd||er==null||er!==si(u)||(u=er,"selectionStart"in u&&cd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ta&&Ea(Ta,u)||(Ta=u,u=Yu(dd,"onSelect"),0<u.length&&(o=new li("onSelect","select",null,o,a),i.push({event:o,listeners:u}),o.target=er)))}function ls(i,o){var a={};return a[i.toLowerCase()]=o.toLowerCase(),a["Webkit"+i]="webkit"+o,a["Moz"+i]="moz"+o,a}var tr={animationend:ls("Animation","AnimationEnd"),animationiteration:ls("Animation","AnimationIteration"),animationstart:ls("Animation","AnimationStart"),transitionrun:ls("Transition","TransitionRun"),transitionstart:ls("Transition","TransitionStart"),transitioncancel:ls("Transition","TransitionCancel"),transitionend:ls("Transition","TransitionEnd")},hd={},Qp={};gn&&(Qp=document.createElement("div").style,"AnimationEvent"in window||(delete tr.animationend.animation,delete tr.animationiteration.animation,delete tr.animationstart.animation),"TransitionEvent"in window||delete tr.transitionend.transition);function us(i){if(hd[i])return hd[i];if(!tr[i])return i;var o=tr[i],a;for(a in o)if(o.hasOwnProperty(a)&&a in Qp)return hd[i]=o[a];return i}var Wp=us("animationend"),Zp=us("animationiteration"),jp=us("animationstart"),zS=us("transitionrun"),qS=us("transitionstart"),FS=us("transitioncancel"),em=us("transitionend"),tm=new Map,pd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pd.push("scrollEnd");function Vn(i,o){tm.set(i,o),ii(o,[i])}var ou=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},yn=[],nr=0,md=0;function su(){for(var i=nr,o=md=nr=0;o<i;){var a=yn[o];yn[o++]=null;var u=yn[o];yn[o++]=null;var y=yn[o];yn[o++]=null;var _=yn[o];if(yn[o++]=null,u!==null&&y!==null){var A=u.pending;A===null?y.next=y:(y.next=A.next,A.next=y),u.pending=y}_!==0&&nm(a,y,_)}}function ru(i,o,a,u){yn[nr++]=i,yn[nr++]=o,yn[nr++]=a,yn[nr++]=u,md|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function gd(i,o,a,u){return ru(i,o,a,u),au(i)}function cs(i,o){return ru(i,null,null,o),au(i)}function nm(i,o,a){i.lanes|=a;var u=i.alternate;u!==null&&(u.lanes|=a);for(var y=!1,_=i.return;_!==null;)_.childLanes|=a,u=_.alternate,u!==null&&(u.childLanes|=a),_.tag===22&&(i=_.stateNode,i===null||i._visibility&1||(y=!0)),i=_,_=_.return;return i.tag===3?(_=i.stateNode,y&&o!==null&&(y=31-mt(a),i=_.hiddenUpdates,u=i[y],u===null?i[y]=[o]:u.push(o),o.lane=a|536870912),_):null}function au(i){if(50<qa)throw qa=0,xf=null,Error(s(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var ir={};function YS(i,o,a,u){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rn(i,o,a,u){return new YS(i,o,a,u)}function yd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function wi(i,o){var a=i.alternate;return a===null?(a=rn(i.tag,o,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=o,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&65011712,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,o=i.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a.refCleanup=i.refCleanup,a}function im(i,o){i.flags&=65011714;var a=i.alternate;return a===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,o=a.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function lu(i,o,a,u,y,_){var A=0;if(u=i,typeof i=="function")yd(i)&&(A=1);else if(typeof i=="string")A=QA(i,a,de.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case I:return i=rn(31,a,o,y),i.elementType=I,i.lanes=_,i;case U:return ds(a.children,y,_,o);case k:A=8,y|=24;break;case F:return i=rn(12,a,o,y|2),i.elementType=F,i.lanes=_,i;case se:return i=rn(13,a,o,y),i.elementType=se,i.lanes=_,i;case ae:return i=rn(19,a,o,y),i.elementType=ae,i.lanes=_,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case B:A=10;break e;case Y:A=9;break e;case oe:A=11;break e;case D:A=14;break e;case N:A=16,u=null;break e}A=29,a=Error(s(130,i===null?"null":typeof i,"")),u=null}return o=rn(A,a,o,y),o.elementType=i,o.type=u,o.lanes=_,o}function ds(i,o,a,u){return i=rn(7,i,u,o),i.lanes=a,i}function vd(i,o,a){return i=rn(6,i,null,o),i.lanes=a,i}function om(i){var o=rn(18,null,null,0);return o.stateNode=i,o}function _d(i,o,a){return o=rn(4,i.children!==null?i.children:[],i.key,o),o.lanes=a,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var sm=new WeakMap;function vn(i,o){if(typeof i=="object"&&i!==null){var a=sm.get(i);return a!==void 0?a:(o={value:i,source:o,stack:Zr(o)},sm.set(i,o),o)}return{value:i,source:o,stack:Zr(o)}}var or=[],sr=0,uu=null,Sa=0,_n=[],En=0,co=null,di=1,fi="";function xi(i,o){or[sr++]=Sa,or[sr++]=uu,uu=i,Sa=o}function rm(i,o,a){_n[En++]=di,_n[En++]=fi,_n[En++]=co,co=i;var u=di;i=fi;var y=32-mt(u)-1;u&=~(1<<y),a+=1;var _=32-mt(o)+y;if(30<_){var A=y-y%5;_=(u&(1<<A)-1).toString(32),u>>=A,y-=A,di=1<<32-mt(o)+y|a<<y|u,fi=_+i}else di=1<<_|a<<y|u,fi=i}function Ed(i){i.return!==null&&(xi(i,1),rm(i,1,0))}function Td(i){for(;i===uu;)uu=or[--sr],or[sr]=null,Sa=or[--sr],or[sr]=null;for(;i===co;)co=_n[--En],_n[En]=null,fi=_n[--En],_n[En]=null,di=_n[--En],_n[En]=null}function am(i,o){_n[En++]=di,_n[En++]=fi,_n[En++]=co,di=o.id,fi=o.overflow,co=i}var Ut=null,nt=null,Pe=!1,fo=null,Tn=!1,Sd=Error(s(519));function ho(i){var o=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Aa(vn(o,i)),Sd}function lm(i){var o=i.stateNode,a=i.type,u=i.memoizedProps;switch(o[yt]=i,o[It]=u,a){case"dialog":Ie("cancel",o),Ie("close",o);break;case"iframe":case"object":case"embed":Ie("load",o);break;case"video":case"audio":for(a=0;a<Ya.length;a++)Ie(Ya[a],o);break;case"source":Ie("error",o);break;case"img":case"image":case"link":Ie("error",o),Ie("load",o);break;case"details":Ie("toggle",o);break;case"input":Ie("invalid",o),zl(o,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Ie("invalid",o);break;case"textarea":Ie("invalid",o),io(o,u.value,u.defaultValue,u.children)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||o.textContent===""+a||u.suppressHydrationWarning===!0||wy(o.textContent,a)?(u.popover!=null&&(Ie("beforetoggle",o),Ie("toggle",o)),u.onScroll!=null&&Ie("scroll",o),u.onScrollEnd!=null&&Ie("scrollend",o),u.onClick!=null&&(o.onclick=kn),o=!0):o=!1,o||ho(i,!0)}function um(i){for(Ut=i.return;Ut;)switch(Ut.tag){case 5:case 31:case 13:Tn=!1;return;case 27:case 3:Tn=!0;return;default:Ut=Ut.return}}function rr(i){if(i!==Ut)return!1;if(!Pe)return um(i),Pe=!0,!1;var o=i.tag,a;if((a=o!==3&&o!==27)&&((a=o===5)&&(a=i.type,a=!(a!=="form"&&a!=="button")||Bf(i.type,i.memoizedProps)),a=!a),a&&nt&&ho(i),um(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));nt=Py(i)}else if(o===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));nt=Py(i)}else o===27?(o=nt,bo(i.type)?(i=Jf,Jf=null,nt=i):nt=o):nt=Ut?An(i.stateNode.nextSibling):null;return!0}function fs(){nt=Ut=null,Pe=!1}function Ad(){var i=fo;return i!==null&&(en===null?en=i:en.push.apply(en,i),fo=null),i}function Aa(i){fo===null?fo=[i]:fo.push(i)}var Cd=G(null),hs=null,bi=null;function po(i,o,a){ue(Cd,o._currentValue),o._currentValue=a}function Ri(i){i._currentValue=Cd.current,ne(Cd)}function wd(i,o,a){for(;i!==null;){var u=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,u!==null&&(u.childLanes|=o)):u!==null&&(u.childLanes&o)!==o&&(u.childLanes|=o),i===a)break;i=i.return}}function xd(i,o,a,u){var y=i.child;for(y!==null&&(y.return=i);y!==null;){var _=y.dependencies;if(_!==null){var A=y.child;_=_.firstContext;e:for(;_!==null;){var b=_;_=y;for(var V=0;V<o.length;V++)if(b.context===o[V]){_.lanes|=a,b=_.alternate,b!==null&&(b.lanes|=a),wd(_.return,a,i),u||(A=null);break e}_=b.next}}else if(y.tag===18){if(A=y.return,A===null)throw Error(s(341));A.lanes|=a,_=A.alternate,_!==null&&(_.lanes|=a),wd(A,a,i),A=null}else A=y.child;if(A!==null)A.return=y;else for(A=y;A!==null;){if(A===i){A=null;break}if(y=A.sibling,y!==null){y.return=A.return,A=y;break}A=A.return}y=A}}function ar(i,o,a,u){i=null;for(var y=o,_=!1;y!==null;){if(!_){if((y.flags&524288)!==0)_=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var A=y.alternate;if(A===null)throw Error(s(387));if(A=A.memoizedProps,A!==null){var b=y.type;sn(y.pendingProps.value,A.value)||(i!==null?i.push(b):i=[b])}}else if(y===Ue.current){if(A=y.alternate,A===null)throw Error(s(387));A.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(i!==null?i.push(Qa):i=[Qa])}y=y.return}i!==null&&xd(o,i,a,u),o.flags|=262144}function cu(i){for(i=i.firstContext;i!==null;){if(!sn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ps(i){hs=i,bi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Lt(i){return cm(hs,i)}function du(i,o){return hs===null&&ps(i),cm(i,o)}function cm(i,o){var a=o._currentValue;if(o={context:o,memoizedValue:a,next:null},bi===null){if(i===null)throw Error(s(308));bi=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else bi=bi.next=o;return a}var JS=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(a,u){i.push(u)}};this.abort=function(){o.aborted=!0,i.forEach(function(a){return a()})}},$S=t.unstable_scheduleCallback,KS=t.unstable_NormalPriority,Et={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bd(){return{controller:new JS,data:new Map,refCount:0}}function Ca(i){i.refCount--,i.refCount===0&&$S(KS,function(){i.controller.abort()})}var wa=null,Rd=0,lr=0,ur=null;function XS(i,o){if(wa===null){var a=wa=[];Rd=0,lr=Df(),ur={status:"pending",value:void 0,then:function(u){a.push(u)}}}return Rd++,o.then(dm,dm),o}function dm(){if(--Rd===0&&wa!==null){ur!==null&&(ur.status="fulfilled");var i=wa;wa=null,lr=0,ur=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function QS(i,o){var a=[],u={status:"pending",value:null,reason:null,then:function(y){a.push(y)}};return i.then(function(){u.status="fulfilled",u.value=o;for(var y=0;y<a.length;y++)(0,a[y])(o)},function(y){for(u.status="rejected",u.reason=y,y=0;y<a.length;y++)(0,a[y])(void 0)}),u}var fm=j.S;j.S=function(i,o){Xg=qt(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&XS(i,o),fm!==null&&fm(i,o)};var ms=G(null);function Id(){var i=ms.current;return i!==null?i:et.pooledCache}function fu(i,o){o===null?ue(ms,ms.current):ue(ms,o.pool)}function hm(){var i=Id();return i===null?null:{parent:Et._currentValue,pool:i}}var cr=Error(s(460)),Nd=Error(s(474)),hu=Error(s(542)),pu={then:function(){}};function pm(i){return i=i.status,i==="fulfilled"||i==="rejected"}function mm(i,o,a){switch(a=i[a],a===void 0?i.push(o):a!==o&&(o.then(kn,kn),o=a),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,ym(i),i;default:if(typeof o.status=="string")o.then(kn,kn);else{if(i=et,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=o,i.status="pending",i.then(function(u){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=u}},function(u){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=u}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,ym(i),i}throw ys=o,cr}}function gs(i){try{var o=i._init;return o(i._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ys=a,cr):a}}var ys=null;function gm(){if(ys===null)throw Error(s(459));var i=ys;return ys=null,i}function ym(i){if(i===cr||i===hu)throw Error(s(483))}var dr=null,xa=0;function mu(i){var o=xa;return xa+=1,dr===null&&(dr=[]),mm(dr,i,o)}function ba(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function gu(i,o){throw o.$$typeof===T?Error(s(525)):(i=Object.prototype.toString.call(o),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function vm(i){function o(q,H){if(i){var K=q.deletions;K===null?(q.deletions=[H],q.flags|=16):K.push(H)}}function a(q,H){if(!i)return null;for(;H!==null;)o(q,H),H=H.sibling;return null}function u(q){for(var H=new Map;q!==null;)q.key!==null?H.set(q.key,q):H.set(q.index,q),q=q.sibling;return H}function y(q,H){return q=wi(q,H),q.index=0,q.sibling=null,q}function _(q,H,K){return q.index=K,i?(K=q.alternate,K!==null?(K=K.index,K<H?(q.flags|=67108866,H):K):(q.flags|=67108866,H)):(q.flags|=1048576,H)}function A(q){return i&&q.alternate===null&&(q.flags|=67108866),q}function b(q,H,K,te){return H===null||H.tag!==6?(H=vd(K,q.mode,te),H.return=q,H):(H=y(H,K),H.return=q,H)}function V(q,H,K,te){var me=K.type;return me===U?ee(q,H,K.props.children,te,K.key):H!==null&&(H.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===N&&gs(me)===H.type)?(H=y(H,K.props),ba(H,K),H.return=q,H):(H=lu(K.type,K.key,K.props,null,q.mode,te),ba(H,K),H.return=q,H)}function X(q,H,K,te){return H===null||H.tag!==4||H.stateNode.containerInfo!==K.containerInfo||H.stateNode.implementation!==K.implementation?(H=_d(K,q.mode,te),H.return=q,H):(H=y(H,K.children||[]),H.return=q,H)}function ee(q,H,K,te,me){return H===null||H.tag!==7?(H=ds(K,q.mode,te,me),H.return=q,H):(H=y(H,K),H.return=q,H)}function ie(q,H,K){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=vd(""+H,q.mode,K),H.return=q,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case x:return K=lu(H.type,H.key,H.props,null,q.mode,K),ba(K,H),K.return=q,K;case M:return H=_d(H,q.mode,K),H.return=q,H;case N:return H=gs(H),ie(q,H,K)}if(He(H)||z(H))return H=ds(H,q.mode,K,null),H.return=q,H;if(typeof H.then=="function")return ie(q,mu(H),K);if(H.$$typeof===B)return ie(q,du(q,H),K);gu(q,H)}return null}function Q(q,H,K,te){var me=H!==null?H.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return me!==null?null:b(q,H,""+K,te);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case x:return K.key===me?V(q,H,K,te):null;case M:return K.key===me?X(q,H,K,te):null;case N:return K=gs(K),Q(q,H,K,te)}if(He(K)||z(K))return me!==null?null:ee(q,H,K,te,null);if(typeof K.then=="function")return Q(q,H,mu(K),te);if(K.$$typeof===B)return Q(q,H,du(q,K),te);gu(q,K)}return null}function Z(q,H,K,te,me){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return q=q.get(K)||null,b(H,q,""+te,me);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case x:return q=q.get(te.key===null?K:te.key)||null,V(H,q,te,me);case M:return q=q.get(te.key===null?K:te.key)||null,X(H,q,te,me);case N:return te=gs(te),Z(q,H,K,te,me)}if(He(te)||z(te))return q=q.get(K)||null,ee(H,q,te,me,null);if(typeof te.then=="function")return Z(q,H,K,mu(te),me);if(te.$$typeof===B)return Z(q,H,K,du(H,te),me);gu(H,te)}return null}function fe(q,H,K,te){for(var me=null,Be=null,he=H,be=H=0,ke=null;he!==null&&be<K.length;be++){he.index>be?(ke=he,he=null):ke=he.sibling;var ze=Q(q,he,K[be],te);if(ze===null){he===null&&(he=ke);break}i&&he&&ze.alternate===null&&o(q,he),H=_(ze,H,be),Be===null?me=ze:Be.sibling=ze,Be=ze,he=ke}if(be===K.length)return a(q,he),Pe&&xi(q,be),me;if(he===null){for(;be<K.length;be++)he=ie(q,K[be],te),he!==null&&(H=_(he,H,be),Be===null?me=he:Be.sibling=he,Be=he);return Pe&&xi(q,be),me}for(he=u(he);be<K.length;be++)ke=Z(he,q,be,K[be],te),ke!==null&&(i&&ke.alternate!==null&&he.delete(ke.key===null?be:ke.key),H=_(ke,H,be),Be===null?me=ke:Be.sibling=ke,Be=ke);return i&&he.forEach(function(Do){return o(q,Do)}),Pe&&xi(q,be),me}function ve(q,H,K,te){if(K==null)throw Error(s(151));for(var me=null,Be=null,he=H,be=H=0,ke=null,ze=K.next();he!==null&&!ze.done;be++,ze=K.next()){he.index>be?(ke=he,he=null):ke=he.sibling;var Do=Q(q,he,ze.value,te);if(Do===null){he===null&&(he=ke);break}i&&he&&Do.alternate===null&&o(q,he),H=_(Do,H,be),Be===null?me=Do:Be.sibling=Do,Be=Do,he=ke}if(ze.done)return a(q,he),Pe&&xi(q,be),me;if(he===null){for(;!ze.done;be++,ze=K.next())ze=ie(q,ze.value,te),ze!==null&&(H=_(ze,H,be),Be===null?me=ze:Be.sibling=ze,Be=ze);return Pe&&xi(q,be),me}for(he=u(he);!ze.done;be++,ze=K.next())ze=Z(he,q,be,ze.value,te),ze!==null&&(i&&ze.alternate!==null&&he.delete(ze.key===null?be:ze.key),H=_(ze,H,be),Be===null?me=ze:Be.sibling=ze,Be=ze);return i&&he.forEach(function(aC){return o(q,aC)}),Pe&&xi(q,be),me}function Ze(q,H,K,te){if(typeof K=="object"&&K!==null&&K.type===U&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case x:e:{for(var me=K.key;H!==null;){if(H.key===me){if(me=K.type,me===U){if(H.tag===7){a(q,H.sibling),te=y(H,K.props.children),te.return=q,q=te;break e}}else if(H.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===N&&gs(me)===H.type){a(q,H.sibling),te=y(H,K.props),ba(te,K),te.return=q,q=te;break e}a(q,H);break}else o(q,H);H=H.sibling}K.type===U?(te=ds(K.props.children,q.mode,te,K.key),te.return=q,q=te):(te=lu(K.type,K.key,K.props,null,q.mode,te),ba(te,K),te.return=q,q=te)}return A(q);case M:e:{for(me=K.key;H!==null;){if(H.key===me)if(H.tag===4&&H.stateNode.containerInfo===K.containerInfo&&H.stateNode.implementation===K.implementation){a(q,H.sibling),te=y(H,K.children||[]),te.return=q,q=te;break e}else{a(q,H);break}else o(q,H);H=H.sibling}te=_d(K,q.mode,te),te.return=q,q=te}return A(q);case N:return K=gs(K),Ze(q,H,K,te)}if(He(K))return fe(q,H,K,te);if(z(K)){if(me=z(K),typeof me!="function")throw Error(s(150));return K=me.call(K),ve(q,H,K,te)}if(typeof K.then=="function")return Ze(q,H,mu(K),te);if(K.$$typeof===B)return Ze(q,H,du(q,K),te);gu(q,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,H!==null&&H.tag===6?(a(q,H.sibling),te=y(H,K),te.return=q,q=te):(a(q,H),te=vd(K,q.mode,te),te.return=q,q=te),A(q)):a(q,H)}return function(q,H,K,te){try{xa=0;var me=Ze(q,H,K,te);return dr=null,me}catch(he){if(he===cr||he===hu)throw he;var Be=rn(29,he,null,q.mode);return Be.lanes=te,Be.return=q,Be}finally{}}}var vs=vm(!0),_m=vm(!1),mo=!1;function Md(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Dd(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function go(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function yo(i,o,a){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Fe&2)!==0){var y=u.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),u.pending=o,o=au(i),nm(i,null,a),o}return ru(i,u,o,a),au(i)}function Ra(i,o,a){if(o=o.updateQueue,o!==null&&(o=o.shared,(a&4194048)!==0)){var u=o.lanes;u&=i.pendingLanes,a|=u,o.lanes=a,Ol(i,a)}}function kd(i,o){var a=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var y=null,_=null;if(a=a.firstBaseUpdate,a!==null){do{var A={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};_===null?y=_=A:_=_.next=A,a=a.next}while(a!==null);_===null?y=_=o:_=_.next=o}else y=_=o;a={baseState:u.baseState,firstBaseUpdate:y,lastBaseUpdate:_,shared:u.shared,callbacks:u.callbacks},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=o:i.next=o,a.lastBaseUpdate=o}var Pd=!1;function Ia(){if(Pd){var i=ur;if(i!==null)throw i}}function Na(i,o,a,u){Pd=!1;var y=i.updateQueue;mo=!1;var _=y.firstBaseUpdate,A=y.lastBaseUpdate,b=y.shared.pending;if(b!==null){y.shared.pending=null;var V=b,X=V.next;V.next=null,A===null?_=X:A.next=X,A=V;var ee=i.alternate;ee!==null&&(ee=ee.updateQueue,b=ee.lastBaseUpdate,b!==A&&(b===null?ee.firstBaseUpdate=X:b.next=X,ee.lastBaseUpdate=V))}if(_!==null){var ie=y.baseState;A=0,ee=X=V=null,b=_;do{var Q=b.lane&-536870913,Z=Q!==b.lane;if(Z?(De&Q)===Q:(u&Q)===Q){Q!==0&&Q===lr&&(Pd=!0),ee!==null&&(ee=ee.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var fe=i,ve=b;Q=o;var Ze=a;switch(ve.tag){case 1:if(fe=ve.payload,typeof fe=="function"){ie=fe.call(Ze,ie,Q);break e}ie=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=ve.payload,Q=typeof fe=="function"?fe.call(Ze,ie,Q):fe,Q==null)break e;ie=E({},ie,Q);break e;case 2:mo=!0}}Q=b.callback,Q!==null&&(i.flags|=64,Z&&(i.flags|=8192),Z=y.callbacks,Z===null?y.callbacks=[Q]:Z.push(Q))}else Z={lane:Q,tag:b.tag,payload:b.payload,callback:b.callback,next:null},ee===null?(X=ee=Z,V=ie):ee=ee.next=Z,A|=Q;if(b=b.next,b===null){if(b=y.shared.pending,b===null)break;Z=b,b=Z.next,Z.next=null,y.lastBaseUpdate=Z,y.shared.pending=null}}while(!0);ee===null&&(V=ie),y.baseState=V,y.firstBaseUpdate=X,y.lastBaseUpdate=ee,_===null&&(y.shared.lanes=0),So|=A,i.lanes=A,i.memoizedState=ie}}function Em(i,o){if(typeof i!="function")throw Error(s(191,i));i.call(o)}function Tm(i,o){var a=i.callbacks;if(a!==null)for(i.callbacks=null,i=0;i<a.length;i++)Em(a[i],o)}var fr=G(null),yu=G(0);function Sm(i,o){i=Oi,ue(yu,i),ue(fr,o),Oi=i|o.baseLanes}function Ud(){ue(yu,Oi),ue(fr,fr.current)}function Ld(){Oi=yu.current,ne(fr),ne(yu)}var an=G(null),Sn=null;function vo(i){var o=i.alternate;ue(ft,ft.current&1),ue(an,i),Sn===null&&(o===null||fr.current!==null||o.memoizedState!==null)&&(Sn=i)}function Od(i){ue(ft,ft.current),ue(an,i),Sn===null&&(Sn=i)}function Am(i){i.tag===22?(ue(ft,ft.current),ue(an,i),Sn===null&&(Sn=i)):_o()}function _o(){ue(ft,ft.current),ue(an,an.current)}function ln(i){ne(an),Sn===i&&(Sn=null),ne(ft)}var ft=G(0);function vu(i){for(var o=i;o!==null;){if(o.tag===13){var a=o.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Ff(a)||Yf(a)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Ii=0,we=null,Qe=null,Tt=null,_u=!1,hr=!1,_s=!1,Eu=0,Ma=0,pr=null,WS=0;function lt(){throw Error(s(321))}function Vd(i,o){if(o===null)return!1;for(var a=0;a<o.length&&a<i.length;a++)if(!sn(i[a],o[a]))return!1;return!0}function Hd(i,o,a,u,y,_){return Ii=_,we=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,j.H=i===null||i.memoizedState===null?rg:ef,_s=!1,_=a(u,y),_s=!1,hr&&(_=wm(o,a,u,y)),Cm(i),_}function Cm(i){j.H=Pa;var o=Qe!==null&&Qe.next!==null;if(Ii=0,Tt=Qe=we=null,_u=!1,Ma=0,pr=null,o)throw Error(s(300));i===null||St||(i=i.dependencies,i!==null&&cu(i)&&(St=!0))}function wm(i,o,a,u){we=i;var y=0;do{if(hr&&(pr=null),Ma=0,hr=!1,25<=y)throw Error(s(301));if(y+=1,Tt=Qe=null,i.updateQueue!=null){var _=i.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}j.H=ag,_=o(a,u)}while(hr);return _}function ZS(){var i=j.H,o=i.useState()[0];return o=typeof o.then=="function"?Da(o):o,i=i.useState()[0],(Qe!==null?Qe.memoizedState:null)!==i&&(we.flags|=1024),o}function Gd(){var i=Eu!==0;return Eu=0,i}function Bd(i,o,a){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~a}function zd(i){if(_u){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}_u=!1}Ii=0,Tt=Qe=we=null,hr=!1,Ma=Eu=0,pr=null}function Ft(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?we.memoizedState=Tt=i:Tt=Tt.next=i,Tt}function ht(){if(Qe===null){var i=we.alternate;i=i!==null?i.memoizedState:null}else i=Qe.next;var o=Tt===null?we.memoizedState:Tt.next;if(o!==null)Tt=o,Qe=i;else{if(i===null)throw we.alternate===null?Error(s(467)):Error(s(310));Qe=i,i={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},Tt===null?we.memoizedState=Tt=i:Tt=Tt.next=i}return Tt}function Tu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Da(i){var o=Ma;return Ma+=1,pr===null&&(pr=[]),i=mm(pr,i,o),o=we,(Tt===null?o.memoizedState:Tt.next)===null&&(o=o.alternate,j.H=o===null||o.memoizedState===null?rg:ef),i}function Su(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Da(i);if(i.$$typeof===B)return Lt(i)}throw Error(s(438,String(i)))}function qd(i){var o=null,a=we.updateQueue;if(a!==null&&(o=a.memoCache),o==null){var u=we.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(o={data:u.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),a===null&&(a=Tu(),we.updateQueue=a),a.memoCache=o,a=o.data[o.index],a===void 0)for(a=o.data[o.index]=Array(i),u=0;u<i;u++)a[u]=O;return o.index++,a}function Ni(i,o){return typeof o=="function"?o(i):o}function Au(i){var o=ht();return Fd(o,Qe,i)}function Fd(i,o,a){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=a;var y=i.baseQueue,_=u.pending;if(_!==null){if(y!==null){var A=y.next;y.next=_.next,_.next=A}o.baseQueue=y=_,u.pending=null}if(_=i.baseState,y===null)i.memoizedState=_;else{o=y.next;var b=A=null,V=null,X=o,ee=!1;do{var ie=X.lane&-536870913;if(ie!==X.lane?(De&ie)===ie:(Ii&ie)===ie){var Q=X.revertLane;if(Q===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),ie===lr&&(ee=!0);else if((Ii&Q)===Q){X=X.next,Q===lr&&(ee=!0);continue}else ie={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},V===null?(b=V=ie,A=_):V=V.next=ie,we.lanes|=Q,So|=Q;ie=X.action,_s&&a(_,ie),_=X.hasEagerState?X.eagerState:a(_,ie)}else Q={lane:ie,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},V===null?(b=V=Q,A=_):V=V.next=Q,we.lanes|=ie,So|=ie;X=X.next}while(X!==null&&X!==o);if(V===null?A=_:V.next=b,!sn(_,i.memoizedState)&&(St=!0,ee&&(a=ur,a!==null)))throw a;i.memoizedState=_,i.baseState=A,i.baseQueue=V,u.lastRenderedState=_}return y===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Yd(i){var o=ht(),a=o.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=i;var u=a.dispatch,y=a.pending,_=o.memoizedState;if(y!==null){a.pending=null;var A=y=y.next;do _=i(_,A.action),A=A.next;while(A!==y);sn(_,o.memoizedState)||(St=!0),o.memoizedState=_,o.baseQueue===null&&(o.baseState=_),a.lastRenderedState=_}return[_,u]}function xm(i,o,a){var u=we,y=ht(),_=Pe;if(_){if(a===void 0)throw Error(s(407));a=a()}else a=o();var A=!sn((Qe||y).memoizedState,a);if(A&&(y.memoizedState=a,St=!0),y=y.queue,Kd(Im.bind(null,u,y,i),[i]),y.getSnapshot!==o||A||Tt!==null&&Tt.memoizedState.tag&1){if(u.flags|=2048,mr(9,{destroy:void 0},Rm.bind(null,u,y,a,o),null),et===null)throw Error(s(349));_||(Ii&127)!==0||bm(u,o,a)}return a}function bm(i,o,a){i.flags|=16384,i={getSnapshot:o,value:a},o=we.updateQueue,o===null?(o=Tu(),we.updateQueue=o,o.stores=[i]):(a=o.stores,a===null?o.stores=[i]:a.push(i))}function Rm(i,o,a,u){o.value=a,o.getSnapshot=u,Nm(o)&&Mm(i)}function Im(i,o,a){return a(function(){Nm(o)&&Mm(i)})}function Nm(i){var o=i.getSnapshot;i=i.value;try{var a=o();return!sn(i,a)}catch{return!0}}function Mm(i){var o=cs(i,2);o!==null&&tn(o,i,2)}function Jd(i){var o=Ft();if(typeof i=="function"){var a=i;if(i=a(),_s){hn(!0);try{a()}finally{hn(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:i},o}function Dm(i,o,a,u){return i.baseState=a,Fd(i,Qe,typeof u=="function"?u:Ni)}function jS(i,o,a,u,y){if(xu(i))throw Error(s(485));if(i=o.action,i!==null){var _={payload:y,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){_.listeners.push(A)}};j.T!==null?a(!0):_.isTransition=!1,u(_),a=o.pending,a===null?(_.next=o.pending=_,km(o,_)):(_.next=a.next,o.pending=a.next=_)}}function km(i,o){var a=o.action,u=o.payload,y=i.state;if(o.isTransition){var _=j.T,A={};j.T=A;try{var b=a(y,u),V=j.S;V!==null&&V(A,b),Pm(i,o,b)}catch(X){$d(i,o,X)}finally{_!==null&&A.types!==null&&(_.types=A.types),j.T=_}}else try{_=a(y,u),Pm(i,o,_)}catch(X){$d(i,o,X)}}function Pm(i,o,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){Um(i,o,u)},function(u){return $d(i,o,u)}):Um(i,o,a)}function Um(i,o,a){o.status="fulfilled",o.value=a,Lm(o),i.state=a,o=i.pending,o!==null&&(a=o.next,a===o?i.pending=null:(a=a.next,o.next=a,km(i,a)))}function $d(i,o,a){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do o.status="rejected",o.reason=a,Lm(o),o=o.next;while(o!==u)}i.action=null}function Lm(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function Om(i,o){return o}function Vm(i,o){if(Pe){var a=et.formState;if(a!==null){e:{var u=we;if(Pe){if(nt){t:{for(var y=nt,_=Tn;y.nodeType!==8;){if(!_){y=null;break t}if(y=An(y.nextSibling),y===null){y=null;break t}}_=y.data,y=_==="F!"||_==="F"?y:null}if(y){nt=An(y.nextSibling),u=y.data==="F!";break e}}ho(u)}u=!1}u&&(o=a[0])}}return a=Ft(),a.memoizedState=a.baseState=o,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Om,lastRenderedState:o},a.queue=u,a=ig.bind(null,we,u),u.dispatch=a,u=Jd(!1),_=jd.bind(null,we,!1,u.queue),u=Ft(),y={state:o,dispatch:null,action:i,pending:null},u.queue=y,a=jS.bind(null,we,y,_,a),y.dispatch=a,u.memoizedState=i,[o,a,!1]}function Hm(i){var o=ht();return Gm(o,Qe,i)}function Gm(i,o,a){if(o=Fd(i,o,Om)[0],i=Au(Ni)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var u=Da(o)}catch(A){throw A===cr?hu:A}else u=o;o=ht();var y=o.queue,_=y.dispatch;return a!==o.memoizedState&&(we.flags|=2048,mr(9,{destroy:void 0},eA.bind(null,y,a),null)),[u,_,i]}function eA(i,o){i.action=o}function Bm(i){var o=ht(),a=Qe;if(a!==null)return Gm(o,a,i);ht(),o=o.memoizedState,a=ht();var u=a.queue.dispatch;return a.memoizedState=i,[o,u,!1]}function mr(i,o,a,u){return i={tag:i,create:a,deps:u,inst:o,next:null},o=we.updateQueue,o===null&&(o=Tu(),we.updateQueue=o),a=o.lastEffect,a===null?o.lastEffect=i.next=i:(u=a.next,a.next=i,i.next=u,o.lastEffect=i),i}function zm(){return ht().memoizedState}function Cu(i,o,a,u){var y=Ft();we.flags|=i,y.memoizedState=mr(1|o,{destroy:void 0},a,u===void 0?null:u)}function wu(i,o,a,u){var y=ht();u=u===void 0?null:u;var _=y.memoizedState.inst;Qe!==null&&u!==null&&Vd(u,Qe.memoizedState.deps)?y.memoizedState=mr(o,_,a,u):(we.flags|=i,y.memoizedState=mr(1|o,_,a,u))}function qm(i,o){Cu(8390656,8,i,o)}function Kd(i,o){wu(2048,8,i,o)}function tA(i){we.flags|=4;var o=we.updateQueue;if(o===null)o=Tu(),we.updateQueue=o,o.events=[i];else{var a=o.events;a===null?o.events=[i]:a.push(i)}}function Fm(i){var o=ht().memoizedState;return tA({ref:o,nextImpl:i}),function(){if((Fe&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}function Ym(i,o){return wu(4,2,i,o)}function Jm(i,o){return wu(4,4,i,o)}function $m(i,o){if(typeof o=="function"){i=i();var a=o(i);return function(){typeof a=="function"?a():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function Km(i,o,a){a=a!=null?a.concat([i]):null,wu(4,4,$m.bind(null,o,i),a)}function Xd(){}function Xm(i,o){var a=ht();o=o===void 0?null:o;var u=a.memoizedState;return o!==null&&Vd(o,u[1])?u[0]:(a.memoizedState=[i,o],i)}function Qm(i,o){var a=ht();o=o===void 0?null:o;var u=a.memoizedState;if(o!==null&&Vd(o,u[1]))return u[0];if(u=i(),_s){hn(!0);try{i()}finally{hn(!1)}}return a.memoizedState=[u,o],u}function Qd(i,o,a){return a===void 0||(Ii&1073741824)!==0&&(De&261930)===0?i.memoizedState=o:(i.memoizedState=a,i=Wg(),we.lanes|=i,So|=i,a)}function Wm(i,o,a,u){return sn(a,o)?a:fr.current!==null?(i=Qd(i,a,u),sn(i,o)||(St=!0),i):(Ii&42)===0||(Ii&1073741824)!==0&&(De&261930)===0?(St=!0,i.memoizedState=a):(i=Wg(),we.lanes|=i,So|=i,o)}function Zm(i,o,a,u,y){var _=re.p;re.p=_!==0&&8>_?_:8;var A=j.T,b={};j.T=b,jd(i,!1,o,a);try{var V=y(),X=j.S;if(X!==null&&X(b,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var ee=QS(V,u);ka(i,o,ee,dn(i))}else ka(i,o,u,dn(i))}catch(ie){ka(i,o,{then:function(){},status:"rejected",reason:ie},dn())}finally{re.p=_,A!==null&&b.types!==null&&(A.types=b.types),j.T=A}}function nA(){}function Wd(i,o,a,u){if(i.tag!==5)throw Error(s(476));var y=jm(i).queue;Zm(i,y,o,pe,a===null?nA:function(){return eg(i),a(u)})}function jm(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:pe},next:null};var a={};return o.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:a},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function eg(i){var o=jm(i);o.next===null&&(o=i.alternate.memoizedState),ka(i,o.next.queue,{},dn())}function Zd(){return Lt(Qa)}function tg(){return ht().memoizedState}function ng(){return ht().memoizedState}function iA(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var a=dn();i=go(a);var u=yo(o,i,a);u!==null&&(tn(u,o,a),Ra(u,o,a)),o={cache:bd()},i.payload=o;return}o=o.return}}function oA(i,o,a){var u=dn();a={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},xu(i)?og(o,a):(a=gd(i,o,a,u),a!==null&&(tn(a,i,u),sg(a,o,u)))}function ig(i,o,a){var u=dn();ka(i,o,a,u)}function ka(i,o,a,u){var y={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(xu(i))og(o,y);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=o.lastRenderedReducer,_!==null))try{var A=o.lastRenderedState,b=_(A,a);if(y.hasEagerState=!0,y.eagerState=b,sn(b,A))return ru(i,o,y,0),et===null&&su(),!1}catch{}finally{}if(a=gd(i,o,y,u),a!==null)return tn(a,i,u),sg(a,o,u),!0}return!1}function jd(i,o,a,u){if(u={lane:2,revertLane:Df(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},xu(i)){if(o)throw Error(s(479))}else o=gd(i,a,u,2),o!==null&&tn(o,i,2)}function xu(i){var o=i.alternate;return i===we||o!==null&&o===we}function og(i,o){hr=_u=!0;var a=i.pending;a===null?o.next=o:(o.next=a.next,a.next=o),i.pending=o}function sg(i,o,a){if((a&4194048)!==0){var u=o.lanes;u&=i.pendingLanes,a|=u,o.lanes=a,Ol(i,a)}}var Pa={readContext:Lt,use:Su,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useLayoutEffect:lt,useInsertionEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useSyncExternalStore:lt,useId:lt,useHostTransitionStatus:lt,useFormState:lt,useActionState:lt,useOptimistic:lt,useMemoCache:lt,useCacheRefresh:lt};Pa.useEffectEvent=lt;var rg={readContext:Lt,use:Su,useCallback:function(i,o){return Ft().memoizedState=[i,o===void 0?null:o],i},useContext:Lt,useEffect:qm,useImperativeHandle:function(i,o,a){a=a!=null?a.concat([i]):null,Cu(4194308,4,$m.bind(null,o,i),a)},useLayoutEffect:function(i,o){return Cu(4194308,4,i,o)},useInsertionEffect:function(i,o){Cu(4,2,i,o)},useMemo:function(i,o){var a=Ft();o=o===void 0?null:o;var u=i();if(_s){hn(!0);try{i()}finally{hn(!1)}}return a.memoizedState=[u,o],u},useReducer:function(i,o,a){var u=Ft();if(a!==void 0){var y=a(o);if(_s){hn(!0);try{a(o)}finally{hn(!1)}}}else y=o;return u.memoizedState=u.baseState=y,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:y},u.queue=i,i=i.dispatch=oA.bind(null,we,i),[u.memoizedState,i]},useRef:function(i){var o=Ft();return i={current:i},o.memoizedState=i},useState:function(i){i=Jd(i);var o=i.queue,a=ig.bind(null,we,o);return o.dispatch=a,[i.memoizedState,a]},useDebugValue:Xd,useDeferredValue:function(i,o){var a=Ft();return Qd(a,i,o)},useTransition:function(){var i=Jd(!1);return i=Zm.bind(null,we,i.queue,!0,!1),Ft().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,a){var u=we,y=Ft();if(Pe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=o(),et===null)throw Error(s(349));(De&127)!==0||bm(u,o,a)}y.memoizedState=a;var _={value:a,getSnapshot:o};return y.queue=_,qm(Im.bind(null,u,_,i),[i]),u.flags|=2048,mr(9,{destroy:void 0},Rm.bind(null,u,_,a,o),null),a},useId:function(){var i=Ft(),o=et.identifierPrefix;if(Pe){var a=fi,u=di;a=(u&~(1<<32-mt(u)-1)).toString(32)+a,o="_"+o+"R_"+a,a=Eu++,0<a&&(o+="H"+a.toString(32)),o+="_"}else a=WS++,o="_"+o+"r_"+a.toString(32)+"_";return i.memoizedState=o},useHostTransitionStatus:Zd,useFormState:Vm,useActionState:Vm,useOptimistic:function(i){var o=Ft();o.memoizedState=o.baseState=i;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=a,o=jd.bind(null,we,!0,a),a.dispatch=o,[i,o]},useMemoCache:qd,useCacheRefresh:function(){return Ft().memoizedState=iA.bind(null,we)},useEffectEvent:function(i){var o=Ft(),a={impl:i};return o.memoizedState=a,function(){if((Fe&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},ef={readContext:Lt,use:Su,useCallback:Xm,useContext:Lt,useEffect:Kd,useImperativeHandle:Km,useInsertionEffect:Ym,useLayoutEffect:Jm,useMemo:Qm,useReducer:Au,useRef:zm,useState:function(){return Au(Ni)},useDebugValue:Xd,useDeferredValue:function(i,o){var a=ht();return Wm(a,Qe.memoizedState,i,o)},useTransition:function(){var i=Au(Ni)[0],o=ht().memoizedState;return[typeof i=="boolean"?i:Da(i),o]},useSyncExternalStore:xm,useId:tg,useHostTransitionStatus:Zd,useFormState:Hm,useActionState:Hm,useOptimistic:function(i,o){var a=ht();return Dm(a,Qe,i,o)},useMemoCache:qd,useCacheRefresh:ng};ef.useEffectEvent=Fm;var ag={readContext:Lt,use:Su,useCallback:Xm,useContext:Lt,useEffect:Kd,useImperativeHandle:Km,useInsertionEffect:Ym,useLayoutEffect:Jm,useMemo:Qm,useReducer:Yd,useRef:zm,useState:function(){return Yd(Ni)},useDebugValue:Xd,useDeferredValue:function(i,o){var a=ht();return Qe===null?Qd(a,i,o):Wm(a,Qe.memoizedState,i,o)},useTransition:function(){var i=Yd(Ni)[0],o=ht().memoizedState;return[typeof i=="boolean"?i:Da(i),o]},useSyncExternalStore:xm,useId:tg,useHostTransitionStatus:Zd,useFormState:Bm,useActionState:Bm,useOptimistic:function(i,o){var a=ht();return Qe!==null?Dm(a,Qe,i,o):(a.baseState=i,[i,a.queue.dispatch])},useMemoCache:qd,useCacheRefresh:ng};ag.useEffectEvent=Fm;function tf(i,o,a,u){o=i.memoizedState,a=a(u,o),a=a==null?o:E({},o,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var nf={enqueueSetState:function(i,o,a){i=i._reactInternals;var u=dn(),y=go(u);y.payload=o,a!=null&&(y.callback=a),o=yo(i,y,u),o!==null&&(tn(o,i,u),Ra(o,i,u))},enqueueReplaceState:function(i,o,a){i=i._reactInternals;var u=dn(),y=go(u);y.tag=1,y.payload=o,a!=null&&(y.callback=a),o=yo(i,y,u),o!==null&&(tn(o,i,u),Ra(o,i,u))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var a=dn(),u=go(a);u.tag=2,o!=null&&(u.callback=o),o=yo(i,u,a),o!==null&&(tn(o,i,a),Ra(o,i,a))}};function lg(i,o,a,u,y,_,A){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,_,A):o.prototype&&o.prototype.isPureReactComponent?!Ea(a,u)||!Ea(y,_):!0}function ug(i,o,a,u){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(a,u),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(a,u),o.state!==i&&nf.enqueueReplaceState(o,o.state,null)}function Es(i,o){var a=o;if("ref"in o){a={};for(var u in o)u!=="ref"&&(a[u]=o[u])}if(i=i.defaultProps){a===o&&(a=E({},a));for(var y in i)a[y]===void 0&&(a[y]=i[y])}return a}function cg(i){ou(i)}function dg(i){console.error(i)}function fg(i){ou(i)}function bu(i,o){try{var a=i.onUncaughtError;a(o.value,{componentStack:o.stack})}catch(u){setTimeout(function(){throw u})}}function hg(i,o,a){try{var u=i.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function of(i,o,a){return a=go(a),a.tag=3,a.payload={element:null},a.callback=function(){bu(i,o)},a}function pg(i){return i=go(i),i.tag=3,i}function mg(i,o,a,u){var y=a.type.getDerivedStateFromError;if(typeof y=="function"){var _=u.value;i.payload=function(){return y(_)},i.callback=function(){hg(o,a,u)}}var A=a.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(i.callback=function(){hg(o,a,u),typeof y!="function"&&(Ao===null?Ao=new Set([this]):Ao.add(this));var b=u.stack;this.componentDidCatch(u.value,{componentStack:b!==null?b:""})})}function sA(i,o,a,u,y){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(o=a.alternate,o!==null&&ar(o,a,y,!0),a=an.current,a!==null){switch(a.tag){case 31:case 13:return Sn===null?Hu():a.alternate===null&&ut===0&&(ut=3),a.flags&=-257,a.flags|=65536,a.lanes=y,u===pu?a.flags|=16384:(o=a.updateQueue,o===null?a.updateQueue=new Set([u]):o.add(u),If(i,u,y)),!1;case 22:return a.flags|=65536,u===pu?a.flags|=16384:(o=a.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=o):(a=o.retryQueue,a===null?o.retryQueue=new Set([u]):a.add(u)),If(i,u,y)),!1}throw Error(s(435,a.tag))}return If(i,u,y),Hu(),!1}if(Pe)return o=an.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,u!==Sd&&(i=Error(s(422),{cause:u}),Aa(vn(i,a)))):(u!==Sd&&(o=Error(s(423),{cause:u}),Aa(vn(o,a))),i=i.current.alternate,i.flags|=65536,y&=-y,i.lanes|=y,u=vn(u,a),y=of(i.stateNode,u,y),kd(i,y),ut!==4&&(ut=2)),!1;var _=Error(s(520),{cause:u});if(_=vn(_,a),za===null?za=[_]:za.push(_),ut!==4&&(ut=2),o===null)return!0;u=vn(u,a),a=o;do{switch(a.tag){case 3:return a.flags|=65536,i=y&-y,a.lanes|=i,i=of(a.stateNode,u,i),kd(a,i),!1;case 1:if(o=a.type,_=a.stateNode,(a.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Ao===null||!Ao.has(_))))return a.flags|=65536,y&=-y,a.lanes|=y,y=pg(y),mg(y,i,a,u),kd(a,y),!1}a=a.return}while(a!==null);return!1}var sf=Error(s(461)),St=!1;function Ot(i,o,a,u){o.child=i===null?_m(o,null,a,u):vs(o,i.child,a,u)}function gg(i,o,a,u,y){a=a.render;var _=o.ref;if("ref"in u){var A={};for(var b in u)b!=="ref"&&(A[b]=u[b])}else A=u;return ps(o),u=Hd(i,o,a,A,_,y),b=Gd(),i!==null&&!St?(Bd(i,o,y),Mi(i,o,y)):(Pe&&b&&Ed(o),o.flags|=1,Ot(i,o,u,y),o.child)}function yg(i,o,a,u,y){if(i===null){var _=a.type;return typeof _=="function"&&!yd(_)&&_.defaultProps===void 0&&a.compare===null?(o.tag=15,o.type=_,vg(i,o,_,u,y)):(i=lu(a.type,null,u,o,o.mode,y),i.ref=o.ref,i.return=o,o.child=i)}if(_=i.child,!hf(i,y)){var A=_.memoizedProps;if(a=a.compare,a=a!==null?a:Ea,a(A,u)&&i.ref===o.ref)return Mi(i,o,y)}return o.flags|=1,i=wi(_,u),i.ref=o.ref,i.return=o,o.child=i}function vg(i,o,a,u,y){if(i!==null){var _=i.memoizedProps;if(Ea(_,u)&&i.ref===o.ref)if(St=!1,o.pendingProps=u=_,hf(i,y))(i.flags&131072)!==0&&(St=!0);else return o.lanes=i.lanes,Mi(i,o,y)}return rf(i,o,a,u,y)}function _g(i,o,a,u){var y=u.children,_=i!==null?i.memoizedState:null;if(i===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((o.flags&128)!==0){if(_=_!==null?_.baseLanes|a:a,i!==null){for(u=o.child=i.child,y=0;u!==null;)y=y|u.lanes|u.childLanes,u=u.sibling;u=y&~_}else u=0,o.child=null;return Eg(i,o,_,a,u)}if((a&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&fu(o,_!==null?_.cachePool:null),_!==null?Sm(o,_):Ud(),Am(o);else return u=o.lanes=536870912,Eg(i,o,_!==null?_.baseLanes|a:a,a,u)}else _!==null?(fu(o,_.cachePool),Sm(o,_),_o(),o.memoizedState=null):(i!==null&&fu(o,null),Ud(),_o());return Ot(i,o,y,a),o.child}function Ua(i,o){return i!==null&&i.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function Eg(i,o,a,u,y){var _=Id();return _=_===null?null:{parent:Et._currentValue,pool:_},o.memoizedState={baseLanes:a,cachePool:_},i!==null&&fu(o,null),Ud(),Am(o),i!==null&&ar(i,o,u,!0),o.childLanes=y,null}function Ru(i,o){return o=Nu({mode:o.mode,children:o.children},i.mode),o.ref=i.ref,i.child=o,o.return=i,o}function Tg(i,o,a){return vs(o,i.child,null,a),i=Ru(o,o.pendingProps),i.flags|=2,ln(o),o.memoizedState=null,i}function rA(i,o,a){var u=o.pendingProps,y=(o.flags&128)!==0;if(o.flags&=-129,i===null){if(Pe){if(u.mode==="hidden")return i=Ru(o,u),o.lanes=536870912,Ua(null,i);if(Od(o),(i=nt)?(i=ky(i,Tn),i=i!==null&&i.data==="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:co!==null?{id:di,overflow:fi}:null,retryLane:536870912,hydrationErrors:null},a=om(i),a.return=o,o.child=a,Ut=o,nt=null)):i=null,i===null)throw ho(o);return o.lanes=536870912,null}return Ru(o,u)}var _=i.memoizedState;if(_!==null){var A=_.dehydrated;if(Od(o),y)if(o.flags&256)o.flags&=-257,o=Tg(i,o,a);else if(o.memoizedState!==null)o.child=i.child,o.flags|=128,o=null;else throw Error(s(558));else if(St||ar(i,o,a,!1),y=(a&i.childLanes)!==0,St||y){if(u=et,u!==null&&(A=na(u,a),A!==0&&A!==_.retryLane))throw _.retryLane=A,cs(i,A),tn(u,i,A),sf;Hu(),o=Tg(i,o,a)}else i=_.treeContext,nt=An(A.nextSibling),Ut=o,Pe=!0,fo=null,Tn=!1,i!==null&&am(o,i),o=Ru(o,u),o.flags|=4096;return o}return i=wi(i.child,{mode:u.mode,children:u.children}),i.ref=o.ref,o.child=i,i.return=o,i}function Iu(i,o){var a=o.ref;if(a===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(i===null||i.ref!==a)&&(o.flags|=4194816)}}function rf(i,o,a,u,y){return ps(o),a=Hd(i,o,a,u,void 0,y),u=Gd(),i!==null&&!St?(Bd(i,o,y),Mi(i,o,y)):(Pe&&u&&Ed(o),o.flags|=1,Ot(i,o,a,y),o.child)}function Sg(i,o,a,u,y,_){return ps(o),o.updateQueue=null,a=wm(o,u,a,y),Cm(i),u=Gd(),i!==null&&!St?(Bd(i,o,_),Mi(i,o,_)):(Pe&&u&&Ed(o),o.flags|=1,Ot(i,o,a,_),o.child)}function Ag(i,o,a,u,y){if(ps(o),o.stateNode===null){var _=ir,A=a.contextType;typeof A=="object"&&A!==null&&(_=Lt(A)),_=new a(u,_),o.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=nf,o.stateNode=_,_._reactInternals=o,_=o.stateNode,_.props=u,_.state=o.memoizedState,_.refs={},Md(o),A=a.contextType,_.context=typeof A=="object"&&A!==null?Lt(A):ir,_.state=o.memoizedState,A=a.getDerivedStateFromProps,typeof A=="function"&&(tf(o,a,A,u),_.state=o.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(A=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),A!==_.state&&nf.enqueueReplaceState(_,_.state,null),Na(o,u,_,y),Ia(),_.state=o.memoizedState),typeof _.componentDidMount=="function"&&(o.flags|=4194308),u=!0}else if(i===null){_=o.stateNode;var b=o.memoizedProps,V=Es(a,b);_.props=V;var X=_.context,ee=a.contextType;A=ir,typeof ee=="object"&&ee!==null&&(A=Lt(ee));var ie=a.getDerivedStateFromProps;ee=typeof ie=="function"||typeof _.getSnapshotBeforeUpdate=="function",b=o.pendingProps!==b,ee||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(b||X!==A)&&ug(o,_,u,A),mo=!1;var Q=o.memoizedState;_.state=Q,Na(o,u,_,y),Ia(),X=o.memoizedState,b||Q!==X||mo?(typeof ie=="function"&&(tf(o,a,ie,u),X=o.memoizedState),(V=mo||lg(o,a,V,u,Q,X,A))?(ee||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(o.flags|=4194308)):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=u,o.memoizedState=X),_.props=u,_.state=X,_.context=A,u=V):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),u=!1)}else{_=o.stateNode,Dd(i,o),A=o.memoizedProps,ee=Es(a,A),_.props=ee,ie=o.pendingProps,Q=_.context,X=a.contextType,V=ir,typeof X=="object"&&X!==null&&(V=Lt(X)),b=a.getDerivedStateFromProps,(X=typeof b=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(A!==ie||Q!==V)&&ug(o,_,u,V),mo=!1,Q=o.memoizedState,_.state=Q,Na(o,u,_,y),Ia();var Z=o.memoizedState;A!==ie||Q!==Z||mo||i!==null&&i.dependencies!==null&&cu(i.dependencies)?(typeof b=="function"&&(tf(o,a,b,u),Z=o.memoizedState),(ee=mo||lg(o,a,ee,u,Q,Z,V)||i!==null&&i.dependencies!==null&&cu(i.dependencies))?(X||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(u,Z,V),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(u,Z,V)),typeof _.componentDidUpdate=="function"&&(o.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof _.componentDidUpdate!="function"||A===i.memoizedProps&&Q===i.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&Q===i.memoizedState||(o.flags|=1024),o.memoizedProps=u,o.memoizedState=Z),_.props=u,_.state=Z,_.context=V,u=ee):(typeof _.componentDidUpdate!="function"||A===i.memoizedProps&&Q===i.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&Q===i.memoizedState||(o.flags|=1024),u=!1)}return _=u,Iu(i,o),u=(o.flags&128)!==0,_||u?(_=o.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:_.render(),o.flags|=1,i!==null&&u?(o.child=vs(o,i.child,null,y),o.child=vs(o,null,a,y)):Ot(i,o,a,y),o.memoizedState=_.state,i=o.child):i=Mi(i,o,y),i}function Cg(i,o,a,u){return fs(),o.flags|=256,Ot(i,o,a,u),o.child}var af={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function lf(i){return{baseLanes:i,cachePool:hm()}}function uf(i,o,a){return i=i!==null?i.childLanes&~a:0,o&&(i|=cn),i}function wg(i,o,a){var u=o.pendingProps,y=!1,_=(o.flags&128)!==0,A;if((A=_)||(A=i!==null&&i.memoizedState===null?!1:(ft.current&2)!==0),A&&(y=!0,o.flags&=-129),A=(o.flags&32)!==0,o.flags&=-33,i===null){if(Pe){if(y?vo(o):_o(),(i=nt)?(i=ky(i,Tn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:co!==null?{id:di,overflow:fi}:null,retryLane:536870912,hydrationErrors:null},a=om(i),a.return=o,o.child=a,Ut=o,nt=null)):i=null,i===null)throw ho(o);return Yf(i)?o.lanes=32:o.lanes=536870912,null}var b=u.children;return u=u.fallback,y?(_o(),y=o.mode,b=Nu({mode:"hidden",children:b},y),u=ds(u,y,a,null),b.return=o,u.return=o,b.sibling=u,o.child=b,u=o.child,u.memoizedState=lf(a),u.childLanes=uf(i,A,a),o.memoizedState=af,Ua(null,u)):(vo(o),cf(o,b))}var V=i.memoizedState;if(V!==null&&(b=V.dehydrated,b!==null)){if(_)o.flags&256?(vo(o),o.flags&=-257,o=df(i,o,a)):o.memoizedState!==null?(_o(),o.child=i.child,o.flags|=128,o=null):(_o(),b=u.fallback,y=o.mode,u=Nu({mode:"visible",children:u.children},y),b=ds(b,y,a,null),b.flags|=2,u.return=o,b.return=o,u.sibling=b,o.child=u,vs(o,i.child,null,a),u=o.child,u.memoizedState=lf(a),u.childLanes=uf(i,A,a),o.memoizedState=af,o=Ua(null,u));else if(vo(o),Yf(b)){if(A=b.nextSibling&&b.nextSibling.dataset,A)var X=A.dgst;A=X,u=Error(s(419)),u.stack="",u.digest=A,Aa({value:u,source:null,stack:null}),o=df(i,o,a)}else if(St||ar(i,o,a,!1),A=(a&i.childLanes)!==0,St||A){if(A=et,A!==null&&(u=na(A,a),u!==0&&u!==V.retryLane))throw V.retryLane=u,cs(i,u),tn(A,i,u),sf;Ff(b)||Hu(),o=df(i,o,a)}else Ff(b)?(o.flags|=192,o.child=i.child,o=null):(i=V.treeContext,nt=An(b.nextSibling),Ut=o,Pe=!0,fo=null,Tn=!1,i!==null&&am(o,i),o=cf(o,u.children),o.flags|=4096);return o}return y?(_o(),b=u.fallback,y=o.mode,V=i.child,X=V.sibling,u=wi(V,{mode:"hidden",children:u.children}),u.subtreeFlags=V.subtreeFlags&65011712,X!==null?b=wi(X,b):(b=ds(b,y,a,null),b.flags|=2),b.return=o,u.return=o,u.sibling=b,o.child=u,Ua(null,u),u=o.child,b=i.child.memoizedState,b===null?b=lf(a):(y=b.cachePool,y!==null?(V=Et._currentValue,y=y.parent!==V?{parent:V,pool:V}:y):y=hm(),b={baseLanes:b.baseLanes|a,cachePool:y}),u.memoizedState=b,u.childLanes=uf(i,A,a),o.memoizedState=af,Ua(i.child,u)):(vo(o),a=i.child,i=a.sibling,a=wi(a,{mode:"visible",children:u.children}),a.return=o,a.sibling=null,i!==null&&(A=o.deletions,A===null?(o.deletions=[i],o.flags|=16):A.push(i)),o.child=a,o.memoizedState=null,a)}function cf(i,o){return o=Nu({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function Nu(i,o){return i=rn(22,i,null,o),i.lanes=0,i}function df(i,o,a){return vs(o,i.child,null,a),i=cf(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function xg(i,o,a){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o),wd(i.return,o,a)}function ff(i,o,a,u,y,_){var A=i.memoizedState;A===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:y,treeForkCount:_}:(A.isBackwards=o,A.rendering=null,A.renderingStartTime=0,A.last=u,A.tail=a,A.tailMode=y,A.treeForkCount=_)}function bg(i,o,a){var u=o.pendingProps,y=u.revealOrder,_=u.tail;u=u.children;var A=ft.current,b=(A&2)!==0;if(b?(A=A&1|2,o.flags|=128):A&=1,ue(ft,A),Ot(i,o,u,a),u=Pe?Sa:0,!b&&i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&xg(i,a,o);else if(i.tag===19)xg(i,a,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(y){case"forwards":for(a=o.child,y=null;a!==null;)i=a.alternate,i!==null&&vu(i)===null&&(y=a),a=a.sibling;a=y,a===null?(y=o.child,o.child=null):(y=a.sibling,a.sibling=null),ff(o,!1,y,a,_,u);break;case"backwards":case"unstable_legacy-backwards":for(a=null,y=o.child,o.child=null;y!==null;){if(i=y.alternate,i!==null&&vu(i)===null){o.child=y;break}i=y.sibling,y.sibling=a,a=y,y=i}ff(o,!0,a,null,_,u);break;case"together":ff(o,!1,null,null,void 0,u);break;default:o.memoizedState=null}return o.child}function Mi(i,o,a){if(i!==null&&(o.dependencies=i.dependencies),So|=o.lanes,(a&o.childLanes)===0)if(i!==null){if(ar(i,o,a,!1),(a&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(s(153));if(o.child!==null){for(i=o.child,a=wi(i,i.pendingProps),o.child=a,a.return=o;i.sibling!==null;)i=i.sibling,a=a.sibling=wi(i,i.pendingProps),a.return=o;a.sibling=null}return o.child}function hf(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&cu(i)))}function aA(i,o,a){switch(o.tag){case 3:xt(o,o.stateNode.containerInfo),po(o,Et,i.memoizedState.cache),fs();break;case 27:case 5:$o(o);break;case 4:xt(o,o.stateNode.containerInfo);break;case 10:po(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Od(o),null;break;case 13:var u=o.memoizedState;if(u!==null)return u.dehydrated!==null?(vo(o),o.flags|=128,null):(a&o.child.childLanes)!==0?wg(i,o,a):(vo(o),i=Mi(i,o,a),i!==null?i.sibling:null);vo(o);break;case 19:var y=(i.flags&128)!==0;if(u=(a&o.childLanes)!==0,u||(ar(i,o,a,!1),u=(a&o.childLanes)!==0),y){if(u)return bg(i,o,a);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),ue(ft,ft.current),u)break;return null;case 22:return o.lanes=0,_g(i,o,a,o.pendingProps);case 24:po(o,Et,i.memoizedState.cache)}return Mi(i,o,a)}function Rg(i,o,a){if(i!==null)if(i.memoizedProps!==o.pendingProps)St=!0;else{if(!hf(i,a)&&(o.flags&128)===0)return St=!1,aA(i,o,a);St=(i.flags&131072)!==0}else St=!1,Pe&&(o.flags&1048576)!==0&&rm(o,Sa,o.index);switch(o.lanes=0,o.tag){case 16:e:{var u=o.pendingProps;if(i=gs(o.elementType),o.type=i,typeof i=="function")yd(i)?(u=Es(i,u),o.tag=1,o=Ag(null,o,i,u,a)):(o.tag=0,o=rf(null,o,i,u,a));else{if(i!=null){var y=i.$$typeof;if(y===oe){o.tag=11,o=gg(null,o,i,u,a);break e}else if(y===D){o.tag=14,o=yg(null,o,i,u,a);break e}}throw o=Ae(i)||i,Error(s(306,o,""))}}return o;case 0:return rf(i,o,o.type,o.pendingProps,a);case 1:return u=o.type,y=Es(u,o.pendingProps),Ag(i,o,u,y,a);case 3:e:{if(xt(o,o.stateNode.containerInfo),i===null)throw Error(s(387));u=o.pendingProps;var _=o.memoizedState;y=_.element,Dd(i,o),Na(o,u,null,a);var A=o.memoizedState;if(u=A.cache,po(o,Et,u),u!==_.cache&&xd(o,[Et],a,!0),Ia(),u=A.element,_.isDehydrated)if(_={element:u,isDehydrated:!1,cache:A.cache},o.updateQueue.baseState=_,o.memoizedState=_,o.flags&256){o=Cg(i,o,u,a);break e}else if(u!==y){y=vn(Error(s(424)),o),Aa(y),o=Cg(i,o,u,a);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(nt=An(i.firstChild),Ut=o,Pe=!0,fo=null,Tn=!0,a=_m(o,null,u,a),o.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(fs(),u===y){o=Mi(i,o,a);break e}Ot(i,o,u,a)}o=o.child}return o;case 26:return Iu(i,o),i===null?(a=Hy(o.type,null,o.pendingProps,null))?o.memoizedState=a:Pe||(a=o.type,i=o.pendingProps,u=Ju(xe.current).createElement(a),u[yt]=o,u[It]=i,Vt(u,a,i),vt(u),o.stateNode=u):o.memoizedState=Hy(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return $o(o),i===null&&Pe&&(u=o.stateNode=Ly(o.type,o.pendingProps,xe.current),Ut=o,Tn=!0,y=nt,bo(o.type)?(Jf=y,nt=An(u.firstChild)):nt=y),Ot(i,o,o.pendingProps.children,a),Iu(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&Pe&&((y=u=nt)&&(u=OA(u,o.type,o.pendingProps,Tn),u!==null?(o.stateNode=u,Ut=o,nt=An(u.firstChild),Tn=!1,y=!0):y=!1),y||ho(o)),$o(o),y=o.type,_=o.pendingProps,A=i!==null?i.memoizedProps:null,u=_.children,Bf(y,_)?u=null:A!==null&&Bf(y,A)&&(o.flags|=32),o.memoizedState!==null&&(y=Hd(i,o,ZS,null,null,a),Qa._currentValue=y),Iu(i,o),Ot(i,o,u,a),o.child;case 6:return i===null&&Pe&&((i=a=nt)&&(a=VA(a,o.pendingProps,Tn),a!==null?(o.stateNode=a,Ut=o,nt=null,i=!0):i=!1),i||ho(o)),null;case 13:return wg(i,o,a);case 4:return xt(o,o.stateNode.containerInfo),u=o.pendingProps,i===null?o.child=vs(o,null,u,a):Ot(i,o,u,a),o.child;case 11:return gg(i,o,o.type,o.pendingProps,a);case 7:return Ot(i,o,o.pendingProps,a),o.child;case 8:return Ot(i,o,o.pendingProps.children,a),o.child;case 12:return Ot(i,o,o.pendingProps.children,a),o.child;case 10:return u=o.pendingProps,po(o,o.type,u.value),Ot(i,o,u.children,a),o.child;case 9:return y=o.type._context,u=o.pendingProps.children,ps(o),y=Lt(y),u=u(y),o.flags|=1,Ot(i,o,u,a),o.child;case 14:return yg(i,o,o.type,o.pendingProps,a);case 15:return vg(i,o,o.type,o.pendingProps,a);case 19:return bg(i,o,a);case 31:return rA(i,o,a);case 22:return _g(i,o,a,o.pendingProps);case 24:return ps(o),u=Lt(Et),i===null?(y=Id(),y===null&&(y=et,_=bd(),y.pooledCache=_,_.refCount++,_!==null&&(y.pooledCacheLanes|=a),y=_),o.memoizedState={parent:u,cache:y},Md(o),po(o,Et,y)):((i.lanes&a)!==0&&(Dd(i,o),Na(o,null,null,a),Ia()),y=i.memoizedState,_=o.memoizedState,y.parent!==u?(y={parent:u,cache:u},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),po(o,Et,u)):(u=_.cache,po(o,Et,u),u!==y.cache&&xd(o,[Et],a,!0))),Ot(i,o,o.pendingProps.children,a),o.child;case 29:throw o.pendingProps}throw Error(s(156,o.tag))}function Di(i){i.flags|=4}function pf(i,o,a,u,y){if((o=(i.mode&32)!==0)&&(o=!1),o){if(i.flags|=16777216,(y&335544128)===y)if(i.stateNode.complete)i.flags|=8192;else if(ty())i.flags|=8192;else throw ys=pu,Nd}else i.flags&=-16777217}function Ig(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Fy(o))if(ty())i.flags|=8192;else throw ys=pu,Nd}function Mu(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?Ll():536870912,i.lanes|=o,_r|=o)}function La(i,o){if(!Pe)switch(i.tailMode){case"hidden":o=i.tail;for(var a=null;o!==null;)o.alternate!==null&&(a=o),o=o.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function it(i){var o=i.alternate!==null&&i.alternate.child===i.child,a=0,u=0;if(o)for(var y=i.child;y!==null;)a|=y.lanes|y.childLanes,u|=y.subtreeFlags&65011712,u|=y.flags&65011712,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)a|=y.lanes|y.childLanes,u|=y.subtreeFlags,u|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=u,i.childLanes=a,o}function lA(i,o,a){var u=o.pendingProps;switch(Td(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(o),null;case 1:return it(o),null;case 3:return a=o.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Ri(Et),ot(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(rr(o)?Di(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Ad())),it(o),null;case 26:var y=o.type,_=o.memoizedState;return i===null?(Di(o),_!==null?(it(o),Ig(o,_)):(it(o),pf(o,y,null,u,a))):_?_!==i.memoizedState?(Di(o),it(o),Ig(o,_)):(it(o),o.flags&=-16777217):(i=i.memoizedProps,i!==u&&Di(o),it(o),pf(o,y,i,u,a)),null;case 27:if(Vs(o),a=xe.current,y=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==u&&Di(o);else{if(!u){if(o.stateNode===null)throw Error(s(166));return it(o),null}i=de.current,rr(o)?lm(o):(i=Ly(y,u,a),o.stateNode=i,Di(o))}return it(o),null;case 5:if(Vs(o),y=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==u&&Di(o);else{if(!u){if(o.stateNode===null)throw Error(s(166));return it(o),null}if(_=de.current,rr(o))lm(o);else{var A=Ju(xe.current);switch(_){case 1:_=A.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:_=A.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":_=A.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":_=A.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":_=A.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof u.is=="string"?A.createElement("select",{is:u.is}):A.createElement("select"),u.multiple?_.multiple=!0:u.size&&(_.size=u.size);break;default:_=typeof u.is=="string"?A.createElement(y,{is:u.is}):A.createElement(y)}}_[yt]=o,_[It]=u;e:for(A=o.child;A!==null;){if(A.tag===5||A.tag===6)_.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===o)break e;for(;A.sibling===null;){if(A.return===null||A.return===o)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}o.stateNode=_;e:switch(Vt(_,y,u),y){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Di(o)}}return it(o),pf(o,o.type,i===null?null:i.memoizedProps,o.pendingProps,a),null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==u&&Di(o);else{if(typeof u!="string"&&o.stateNode===null)throw Error(s(166));if(i=xe.current,rr(o)){if(i=o.stateNode,a=o.memoizedProps,u=null,y=Ut,y!==null)switch(y.tag){case 27:case 5:u=y.memoizedProps}i[yt]=o,i=!!(i.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||wy(i.nodeValue,a)),i||ho(o,!0)}else i=Ju(i).createTextNode(u),i[yt]=o,o.stateNode=i}return it(o),null;case 31:if(a=o.memoizedState,i===null||i.memoizedState!==null){if(u=rr(o),a!==null){if(i===null){if(!u)throw Error(s(318));if(i=o.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[yt]=o}else fs(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;it(o),i=!1}else a=Ad(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=a),i=!0;if(!i)return o.flags&256?(ln(o),o):(ln(o),null);if((o.flags&128)!==0)throw Error(s(558))}return it(o),null;case 13:if(u=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(y=rr(o),u!==null&&u.dehydrated!==null){if(i===null){if(!y)throw Error(s(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(s(317));y[yt]=o}else fs(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;it(o),y=!1}else y=Ad(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(ln(o),o):(ln(o),null)}return ln(o),(o.flags&128)!==0?(o.lanes=a,o):(a=u!==null,i=i!==null&&i.memoizedState!==null,a&&(u=o.child,y=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(y=u.alternate.memoizedState.cachePool.pool),_=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(_=u.memoizedState.cachePool.pool),_!==y&&(u.flags|=2048)),a!==i&&a&&(o.child.flags|=8192),Mu(o,o.updateQueue),it(o),null);case 4:return ot(),i===null&&Lf(o.stateNode.containerInfo),it(o),null;case 10:return Ri(o.type),it(o),null;case 19:if(ne(ft),u=o.memoizedState,u===null)return it(o),null;if(y=(o.flags&128)!==0,_=u.rendering,_===null)if(y)La(u,!1);else{if(ut!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(_=vu(i),_!==null){for(o.flags|=128,La(u,!1),i=_.updateQueue,o.updateQueue=i,Mu(o,i),o.subtreeFlags=0,i=a,a=o.child;a!==null;)im(a,i),a=a.sibling;return ue(ft,ft.current&1|2),Pe&&xi(o,u.treeForkCount),o.child}i=i.sibling}u.tail!==null&&qt()>Lu&&(o.flags|=128,y=!0,La(u,!1),o.lanes=4194304)}else{if(!y)if(i=vu(_),i!==null){if(o.flags|=128,y=!0,i=i.updateQueue,o.updateQueue=i,Mu(o,i),La(u,!0),u.tail===null&&u.tailMode==="hidden"&&!_.alternate&&!Pe)return it(o),null}else 2*qt()-u.renderingStartTime>Lu&&a!==536870912&&(o.flags|=128,y=!0,La(u,!1),o.lanes=4194304);u.isBackwards?(_.sibling=o.child,o.child=_):(i=u.last,i!==null?i.sibling=_:o.child=_,u.last=_)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=qt(),i.sibling=null,a=ft.current,ue(ft,y?a&1|2:a&1),Pe&&xi(o,u.treeForkCount),i):(it(o),null);case 22:case 23:return ln(o),Ld(),u=o.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(o.flags|=8192):u&&(o.flags|=8192),u?(a&536870912)!==0&&(o.flags&128)===0&&(it(o),o.subtreeFlags&6&&(o.flags|=8192)):it(o),a=o.updateQueue,a!==null&&Mu(o,a.retryQueue),a=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),u=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(u=o.memoizedState.cachePool.pool),u!==a&&(o.flags|=2048),i!==null&&ne(ms),null;case 24:return a=null,i!==null&&(a=i.memoizedState.cache),o.memoizedState.cache!==a&&(o.flags|=2048),Ri(Et),it(o),null;case 25:return null;case 30:return null}throw Error(s(156,o.tag))}function uA(i,o){switch(Td(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Ri(Et),ot(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return Vs(o),null;case 31:if(o.memoizedState!==null){if(ln(o),o.alternate===null)throw Error(s(340));fs()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 13:if(ln(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(s(340));fs()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return ne(ft),null;case 4:return ot(),null;case 10:return Ri(o.type),null;case 22:case 23:return ln(o),Ld(),i!==null&&ne(ms),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return Ri(Et),null;case 25:return null;default:return null}}function Ng(i,o){switch(Td(o),o.tag){case 3:Ri(Et),ot();break;case 26:case 27:case 5:Vs(o);break;case 4:ot();break;case 31:o.memoizedState!==null&&ln(o);break;case 13:ln(o);break;case 19:ne(ft);break;case 10:Ri(o.type);break;case 22:case 23:ln(o),Ld(),i!==null&&ne(ms);break;case 24:Ri(Et)}}function Oa(i,o){try{var a=o.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var y=u.next;a=y;do{if((a.tag&i)===i){u=void 0;var _=a.create,A=a.inst;u=_(),A.destroy=u}a=a.next}while(a!==y)}}catch(b){Xe(o,o.return,b)}}function Eo(i,o,a){try{var u=o.updateQueue,y=u!==null?u.lastEffect:null;if(y!==null){var _=y.next;u=_;do{if((u.tag&i)===i){var A=u.inst,b=A.destroy;if(b!==void 0){A.destroy=void 0,y=o;var V=a,X=b;try{X()}catch(ee){Xe(y,V,ee)}}}u=u.next}while(u!==_)}}catch(ee){Xe(o,o.return,ee)}}function Mg(i){var o=i.updateQueue;if(o!==null){var a=i.stateNode;try{Tm(o,a)}catch(u){Xe(i,i.return,u)}}}function Dg(i,o,a){a.props=Es(i.type,i.memoizedProps),a.state=i.memoizedState;try{a.componentWillUnmount()}catch(u){Xe(i,o,u)}}function Va(i,o){try{var a=i.ref;if(a!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof a=="function"?i.refCleanup=a(u):a.current=u}}catch(y){Xe(i,o,y)}}function hi(i,o){var a=i.ref,u=i.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(y){Xe(i,o,y)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(y){Xe(i,o,y)}else a.current=null}function kg(i){var o=i.type,a=i.memoizedProps,u=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break e;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(y){Xe(i,i.return,y)}}function mf(i,o,a){try{var u=i.stateNode;MA(u,i.type,a,o),u[It]=o}catch(y){Xe(i,i.return,y)}}function Pg(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&bo(i.type)||i.tag===4}function gf(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Pg(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&bo(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function yf(i,o,a){var u=i.tag;if(u===5||u===6)i=i.stateNode,o?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(i,o):(o=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,o.appendChild(i),a=a._reactRootContainer,a!=null||o.onclick!==null||(o.onclick=kn));else if(u!==4&&(u===27&&bo(i.type)&&(a=i.stateNode,o=null),i=i.child,i!==null))for(yf(i,o,a),i=i.sibling;i!==null;)yf(i,o,a),i=i.sibling}function Du(i,o,a){var u=i.tag;if(u===5||u===6)i=i.stateNode,o?a.insertBefore(i,o):a.appendChild(i);else if(u!==4&&(u===27&&bo(i.type)&&(a=i.stateNode),i=i.child,i!==null))for(Du(i,o,a),i=i.sibling;i!==null;)Du(i,o,a),i=i.sibling}function Ug(i){var o=i.stateNode,a=i.memoizedProps;try{for(var u=i.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);Vt(o,u,a),o[yt]=i,o[It]=a}catch(_){Xe(i,i.return,_)}}var ki=!1,At=!1,vf=!1,Lg=typeof WeakSet=="function"?WeakSet:Set,Mt=null;function cA(i,o){if(i=i.containerInfo,Hf=ju,i=Kp(i),cd(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else e:{a=(a=i.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var y=u.anchorOffset,_=u.focusNode;u=u.focusOffset;try{a.nodeType,_.nodeType}catch{a=null;break e}var A=0,b=-1,V=-1,X=0,ee=0,ie=i,Q=null;t:for(;;){for(var Z;ie!==a||y!==0&&ie.nodeType!==3||(b=A+y),ie!==_||u!==0&&ie.nodeType!==3||(V=A+u),ie.nodeType===3&&(A+=ie.nodeValue.length),(Z=ie.firstChild)!==null;)Q=ie,ie=Z;for(;;){if(ie===i)break t;if(Q===a&&++X===y&&(b=A),Q===_&&++ee===u&&(V=A),(Z=ie.nextSibling)!==null)break;ie=Q,Q=ie.parentNode}ie=Z}a=b===-1||V===-1?null:{start:b,end:V}}else a=null}a=a||{start:0,end:0}}else a=null;for(Gf={focusedElem:i,selectionRange:a},ju=!1,Mt=o;Mt!==null;)if(o=Mt,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,Mt=i;else for(;Mt!==null;){switch(o=Mt,_=o.alternate,i=o.flags,o.tag){case 0:if((i&4)!==0&&(i=o.updateQueue,i=i!==null?i.events:null,i!==null))for(a=0;a<i.length;a++)y=i[a],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&_!==null){i=void 0,a=o,y=_.memoizedProps,_=_.memoizedState,u=a.stateNode;try{var fe=Es(a.type,y);i=u.getSnapshotBeforeUpdate(fe,_),u.__reactInternalSnapshotBeforeUpdate=i}catch(ve){Xe(a,a.return,ve)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,a=i.nodeType,a===9)qf(i);else if(a===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":qf(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=o.sibling,i!==null){i.return=o.return,Mt=i;break}Mt=o.return}}function Og(i,o,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:Ui(i,a),u&4&&Oa(5,a);break;case 1:if(Ui(i,a),u&4)if(i=a.stateNode,o===null)try{i.componentDidMount()}catch(A){Xe(a,a.return,A)}else{var y=Es(a.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(y,o,i.__reactInternalSnapshotBeforeUpdate)}catch(A){Xe(a,a.return,A)}}u&64&&Mg(a),u&512&&Va(a,a.return);break;case 3:if(Ui(i,a),u&64&&(i=a.updateQueue,i!==null)){if(o=null,a.child!==null)switch(a.child.tag){case 27:case 5:o=a.child.stateNode;break;case 1:o=a.child.stateNode}try{Tm(i,o)}catch(A){Xe(a,a.return,A)}}break;case 27:o===null&&u&4&&Ug(a);case 26:case 5:Ui(i,a),o===null&&u&4&&kg(a),u&512&&Va(a,a.return);break;case 12:Ui(i,a);break;case 31:Ui(i,a),u&4&&Gg(i,a);break;case 13:Ui(i,a),u&4&&Bg(i,a),u&64&&(i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(a=_A.bind(null,a),HA(i,a))));break;case 22:if(u=a.memoizedState!==null||ki,!u){o=o!==null&&o.memoizedState!==null||At,y=ki;var _=At;ki=u,(At=o)&&!_?Li(i,a,(a.subtreeFlags&8772)!==0):Ui(i,a),ki=y,At=_}break;case 30:break;default:Ui(i,a)}}function Vg(i){var o=i.alternate;o!==null&&(i.alternate=null,Vg(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&qs(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var st=null,Wt=!1;function Pi(i,o,a){for(a=a.child;a!==null;)Hg(i,o,a),a=a.sibling}function Hg(i,o,a){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(In,a)}catch{}switch(a.tag){case 26:At||hi(a,o),Pi(i,o,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:At||hi(a,o);var u=st,y=Wt;bo(a.type)&&(st=a.stateNode,Wt=!1),Pi(i,o,a),$a(a.stateNode),st=u,Wt=y;break;case 5:At||hi(a,o);case 6:if(u=st,y=Wt,st=null,Pi(i,o,a),st=u,Wt=y,st!==null)if(Wt)try{(st.nodeType===9?st.body:st.nodeName==="HTML"?st.ownerDocument.body:st).removeChild(a.stateNode)}catch(_){Xe(a,o,_)}else try{st.removeChild(a.stateNode)}catch(_){Xe(a,o,_)}break;case 18:st!==null&&(Wt?(i=st,My(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.stateNode),br(i)):My(st,a.stateNode));break;case 4:u=st,y=Wt,st=a.stateNode.containerInfo,Wt=!0,Pi(i,o,a),st=u,Wt=y;break;case 0:case 11:case 14:case 15:Eo(2,a,o),At||Eo(4,a,o),Pi(i,o,a);break;case 1:At||(hi(a,o),u=a.stateNode,typeof u.componentWillUnmount=="function"&&Dg(a,o,u)),Pi(i,o,a);break;case 21:Pi(i,o,a);break;case 22:At=(u=At)||a.memoizedState!==null,Pi(i,o,a),At=u;break;default:Pi(i,o,a)}}function Gg(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{br(i)}catch(a){Xe(o,o.return,a)}}}function Bg(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{br(i)}catch(a){Xe(o,o.return,a)}}function dA(i){switch(i.tag){case 31:case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new Lg),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new Lg),o;default:throw Error(s(435,i.tag))}}function ku(i,o){var a=dA(i);o.forEach(function(u){if(!a.has(u)){a.add(u);var y=EA.bind(null,i,u);u.then(y,y)}})}function Zt(i,o){var a=o.deletions;if(a!==null)for(var u=0;u<a.length;u++){var y=a[u],_=i,A=o,b=A;e:for(;b!==null;){switch(b.tag){case 27:if(bo(b.type)){st=b.stateNode,Wt=!1;break e}break;case 5:st=b.stateNode,Wt=!1;break e;case 3:case 4:st=b.stateNode.containerInfo,Wt=!0;break e}b=b.return}if(st===null)throw Error(s(160));Hg(_,A,y),st=null,Wt=!1,_=y.alternate,_!==null&&(_.return=null),y.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)zg(o,i),o=o.sibling}var Hn=null;function zg(i,o){var a=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Zt(o,i),jt(i),u&4&&(Eo(3,i,i.return),Oa(3,i),Eo(5,i,i.return));break;case 1:Zt(o,i),jt(i),u&512&&(At||a===null||hi(a,a.return)),u&64&&ki&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(a=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var y=Hn;if(Zt(o,i),jt(i),u&512&&(At||a===null||hi(a,a.return)),u&4){var _=a!==null?a.memoizedState:null;if(u=i.memoizedState,a===null)if(u===null)if(i.stateNode===null){e:{u=i.type,a=i.memoizedProps,y=y.ownerDocument||y;t:switch(u){case"title":_=y.getElementsByTagName("title")[0],(!_||_[ei]||_[yt]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=y.createElement(u),y.head.insertBefore(_,y.querySelector("head > title"))),Vt(_,u,a),_[yt]=i,vt(_),u=_;break e;case"link":var A=zy("link","href",y).get(u+(a.href||""));if(A){for(var b=0;b<A.length;b++)if(_=A[b],_.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&_.getAttribute("rel")===(a.rel==null?null:a.rel)&&_.getAttribute("title")===(a.title==null?null:a.title)&&_.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){A.splice(b,1);break t}}_=y.createElement(u),Vt(_,u,a),y.head.appendChild(_);break;case"meta":if(A=zy("meta","content",y).get(u+(a.content||""))){for(b=0;b<A.length;b++)if(_=A[b],_.getAttribute("content")===(a.content==null?null:""+a.content)&&_.getAttribute("name")===(a.name==null?null:a.name)&&_.getAttribute("property")===(a.property==null?null:a.property)&&_.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&_.getAttribute("charset")===(a.charSet==null?null:a.charSet)){A.splice(b,1);break t}}_=y.createElement(u),Vt(_,u,a),y.head.appendChild(_);break;default:throw Error(s(468,u))}_[yt]=i,vt(_),u=_}i.stateNode=u}else qy(y,i.type,i.stateNode);else i.stateNode=By(y,u,i.memoizedProps);else _!==u?(_===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):_.count--,u===null?qy(y,i.type,i.stateNode):By(y,u,i.memoizedProps)):u===null&&i.stateNode!==null&&mf(i,i.memoizedProps,a.memoizedProps)}break;case 27:Zt(o,i),jt(i),u&512&&(At||a===null||hi(a,a.return)),a!==null&&u&4&&mf(i,i.memoizedProps,a.memoizedProps);break;case 5:if(Zt(o,i),jt(i),u&512&&(At||a===null||hi(a,a.return)),i.flags&32){y=i.stateNode;try{Qt(y,"")}catch(fe){Xe(i,i.return,fe)}}u&4&&i.stateNode!=null&&(y=i.memoizedProps,mf(i,y,a!==null?a.memoizedProps:y)),u&1024&&(vf=!0);break;case 6:if(Zt(o,i),jt(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,a=i.stateNode;try{a.nodeValue=u}catch(fe){Xe(i,i.return,fe)}}break;case 3:if(Xu=null,y=Hn,Hn=$u(o.containerInfo),Zt(o,i),Hn=y,jt(i),u&4&&a!==null&&a.memoizedState.isDehydrated)try{br(o.containerInfo)}catch(fe){Xe(i,i.return,fe)}vf&&(vf=!1,qg(i));break;case 4:u=Hn,Hn=$u(i.stateNode.containerInfo),Zt(o,i),jt(i),Hn=u;break;case 12:Zt(o,i),jt(i);break;case 31:Zt(o,i),jt(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,ku(i,u)));break;case 13:Zt(o,i),jt(i),i.child.flags&8192&&i.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Uu=qt()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,ku(i,u)));break;case 22:y=i.memoizedState!==null;var V=a!==null&&a.memoizedState!==null,X=ki,ee=At;if(ki=X||y,At=ee||V,Zt(o,i),At=ee,ki=X,jt(i),u&8192)e:for(o=i.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(a===null||V||ki||At||Ts(i)),a=null,o=i;;){if(o.tag===5||o.tag===26){if(a===null){V=a=o;try{if(_=V.stateNode,y)A=_.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{b=V.stateNode;var ie=V.memoizedProps.style,Q=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;b.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(fe){Xe(V,V.return,fe)}}}else if(o.tag===6){if(a===null){V=o;try{V.stateNode.nodeValue=y?"":V.memoizedProps}catch(fe){Xe(V,V.return,fe)}}}else if(o.tag===18){if(a===null){V=o;try{var Z=V.stateNode;y?Dy(Z,!0):Dy(V.stateNode,!1)}catch(fe){Xe(V,V.return,fe)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;a===o&&(a=null),o=o.return}a===o&&(a=null),o.sibling.return=o.return,o=o.sibling}u&4&&(u=i.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,ku(i,a))));break;case 19:Zt(o,i),jt(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,ku(i,u)));break;case 30:break;case 21:break;default:Zt(o,i),jt(i)}}function jt(i){var o=i.flags;if(o&2){try{for(var a,u=i.return;u!==null;){if(Pg(u)){a=u;break}u=u.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var y=a.stateNode,_=gf(i);Du(i,_,y);break;case 5:var A=a.stateNode;a.flags&32&&(Qt(A,""),a.flags&=-33);var b=gf(i);Du(i,b,A);break;case 3:case 4:var V=a.stateNode.containerInfo,X=gf(i);yf(i,X,V);break;default:throw Error(s(161))}}catch(ee){Xe(i,i.return,ee)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function qg(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;qg(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function Ui(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Og(i,o.alternate,o),o=o.sibling}function Ts(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:Eo(4,o,o.return),Ts(o);break;case 1:hi(o,o.return);var a=o.stateNode;typeof a.componentWillUnmount=="function"&&Dg(o,o.return,a),Ts(o);break;case 27:$a(o.stateNode);case 26:case 5:hi(o,o.return),Ts(o);break;case 22:o.memoizedState===null&&Ts(o);break;case 30:Ts(o);break;default:Ts(o)}i=i.sibling}}function Li(i,o,a){for(a=a&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var u=o.alternate,y=i,_=o,A=_.flags;switch(_.tag){case 0:case 11:case 15:Li(y,_,a),Oa(4,_);break;case 1:if(Li(y,_,a),u=_,y=u.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(X){Xe(u,u.return,X)}if(u=_,y=u.updateQueue,y!==null){var b=u.stateNode;try{var V=y.shared.hiddenCallbacks;if(V!==null)for(y.shared.hiddenCallbacks=null,y=0;y<V.length;y++)Em(V[y],b)}catch(X){Xe(u,u.return,X)}}a&&A&64&&Mg(_),Va(_,_.return);break;case 27:Ug(_);case 26:case 5:Li(y,_,a),a&&u===null&&A&4&&kg(_),Va(_,_.return);break;case 12:Li(y,_,a);break;case 31:Li(y,_,a),a&&A&4&&Gg(y,_);break;case 13:Li(y,_,a),a&&A&4&&Bg(y,_);break;case 22:_.memoizedState===null&&Li(y,_,a),Va(_,_.return);break;case 30:break;default:Li(y,_,a)}o=o.sibling}}function _f(i,o){var a=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==a&&(i!=null&&i.refCount++,a!=null&&Ca(a))}function Ef(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Ca(i))}function Gn(i,o,a,u){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Fg(i,o,a,u),o=o.sibling}function Fg(i,o,a,u){var y=o.flags;switch(o.tag){case 0:case 11:case 15:Gn(i,o,a,u),y&2048&&Oa(9,o);break;case 1:Gn(i,o,a,u);break;case 3:Gn(i,o,a,u),y&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Ca(i)));break;case 12:if(y&2048){Gn(i,o,a,u),i=o.stateNode;try{var _=o.memoizedProps,A=_.id,b=_.onPostCommit;typeof b=="function"&&b(A,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(V){Xe(o,o.return,V)}}else Gn(i,o,a,u);break;case 31:Gn(i,o,a,u);break;case 13:Gn(i,o,a,u);break;case 23:break;case 22:_=o.stateNode,A=o.alternate,o.memoizedState!==null?_._visibility&2?Gn(i,o,a,u):Ha(i,o):_._visibility&2?Gn(i,o,a,u):(_._visibility|=2,gr(i,o,a,u,(o.subtreeFlags&10256)!==0||!1)),y&2048&&_f(A,o);break;case 24:Gn(i,o,a,u),y&2048&&Ef(o.alternate,o);break;default:Gn(i,o,a,u)}}function gr(i,o,a,u,y){for(y=y&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var _=i,A=o,b=a,V=u,X=A.flags;switch(A.tag){case 0:case 11:case 15:gr(_,A,b,V,y),Oa(8,A);break;case 23:break;case 22:var ee=A.stateNode;A.memoizedState!==null?ee._visibility&2?gr(_,A,b,V,y):Ha(_,A):(ee._visibility|=2,gr(_,A,b,V,y)),y&&X&2048&&_f(A.alternate,A);break;case 24:gr(_,A,b,V,y),y&&X&2048&&Ef(A.alternate,A);break;default:gr(_,A,b,V,y)}o=o.sibling}}function Ha(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var a=i,u=o,y=u.flags;switch(u.tag){case 22:Ha(a,u),y&2048&&_f(u.alternate,u);break;case 24:Ha(a,u),y&2048&&Ef(u.alternate,u);break;default:Ha(a,u)}o=o.sibling}}var Ga=8192;function yr(i,o,a){if(i.subtreeFlags&Ga)for(i=i.child;i!==null;)Yg(i,o,a),i=i.sibling}function Yg(i,o,a){switch(i.tag){case 26:yr(i,o,a),i.flags&Ga&&i.memoizedState!==null&&WA(a,Hn,i.memoizedState,i.memoizedProps);break;case 5:yr(i,o,a);break;case 3:case 4:var u=Hn;Hn=$u(i.stateNode.containerInfo),yr(i,o,a),Hn=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=Ga,Ga=16777216,yr(i,o,a),Ga=u):yr(i,o,a));break;default:yr(i,o,a)}}function Jg(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function Ba(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var a=0;a<o.length;a++){var u=o[a];Mt=u,Kg(u,i)}Jg(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)$g(i),i=i.sibling}function $g(i){switch(i.tag){case 0:case 11:case 15:Ba(i),i.flags&2048&&Eo(9,i,i.return);break;case 3:Ba(i);break;case 12:Ba(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,Pu(i)):Ba(i);break;default:Ba(i)}}function Pu(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var a=0;a<o.length;a++){var u=o[a];Mt=u,Kg(u,i)}Jg(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:Eo(8,o,o.return),Pu(o);break;case 22:a=o.stateNode,a._visibility&2&&(a._visibility&=-3,Pu(o));break;default:Pu(o)}i=i.sibling}}function Kg(i,o){for(;Mt!==null;){var a=Mt;switch(a.tag){case 0:case 11:case 15:Eo(8,a,o);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Ca(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,Mt=u;else e:for(a=i;Mt!==null;){u=Mt;var y=u.sibling,_=u.return;if(Vg(u),u===a){Mt=null;break e}if(y!==null){y.return=_,Mt=y;break e}Mt=_}}}var fA={getCacheForType:function(i){var o=Lt(Et),a=o.data.get(i);return a===void 0&&(a=i(),o.data.set(i,a)),a},cacheSignal:function(){return Lt(Et).controller.signal}},hA=typeof WeakMap=="function"?WeakMap:Map,Fe=0,et=null,Re=null,De=0,Ke=0,un=null,To=!1,vr=!1,Tf=!1,Oi=0,ut=0,So=0,Ss=0,Sf=0,cn=0,_r=0,za=null,en=null,Af=!1,Uu=0,Xg=0,Lu=1/0,Ou=null,Ao=null,Rt=0,Co=null,Er=null,Vi=0,Cf=0,wf=null,Qg=null,qa=0,xf=null;function dn(){return(Fe&2)!==0&&De!==0?De&-De:j.T!==null?Df():Vl()}function Wg(){if(cn===0)if((De&536870912)===0||Pe){var i=Qo;Qo<<=1,(Qo&3932160)===0&&(Qo=262144),cn=i}else cn=536870912;return i=an.current,i!==null&&(i.flags|=32),cn}function tn(i,o,a){(i===et&&(Ke===2||Ke===9)||i.cancelPendingCommit!==null)&&(Tr(i,0),wo(i,De,cn,!1)),Wo(i,a),((Fe&2)===0||i!==et)&&(i===et&&((Fe&2)===0&&(Ss|=a),ut===4&&wo(i,De,cn,!1)),pi(i))}function Zg(i,o,a){if((Fe&6)!==0)throw Error(s(327));var u=!a&&(o&127)===0&&(o&i.expiredLanes)===0||Nn(i,o),y=u?gA(i,o):Rf(i,o,!0),_=u;do{if(y===0){vr&&!u&&wo(i,o,0,!1);break}else{if(a=i.current.alternate,_&&!pA(a)){y=Rf(i,o,!1),_=!1;continue}if(y===2){if(_=o,i.errorRecoveryDisabledLanes&_)var A=0;else A=i.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){o=A;e:{var b=i;y=za;var V=b.current.memoizedState.isDehydrated;if(V&&(Tr(b,A).flags|=256),A=Rf(b,A,!1),A!==2){if(Tf&&!V){b.errorRecoveryDisabledLanes|=_,Ss|=_,y=4;break e}_=en,en=y,_!==null&&(en===null?en=_:en.push.apply(en,_))}y=A}if(_=!1,y!==2)continue}}if(y===1){Tr(i,0),wo(i,o,0,!0);break}e:{switch(u=i,_=y,_){case 0:case 1:throw Error(s(345));case 4:if((o&4194048)!==o)break;case 6:wo(u,o,cn,!To);break e;case 2:en=null;break;case 3:case 5:break;default:throw Error(s(329))}if((o&62914560)===o&&(y=Uu+300-qt(),10<y)){if(wo(u,o,cn,!To),Wn(u,0,!0)!==0)break e;Vi=o,u.timeoutHandle=Iy(jg.bind(null,u,a,en,Ou,Af,o,cn,Ss,_r,To,_,"Throttled",-0,0),y);break e}jg(u,a,en,Ou,Af,o,cn,Ss,_r,To,_,null,-0,0)}}break}while(!0);pi(i)}function jg(i,o,a,u,y,_,A,b,V,X,ee,ie,Q,Z){if(i.timeoutHandle=-1,ie=o.subtreeFlags,ie&8192||(ie&16785408)===16785408){ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:kn},Yg(o,_,ie);var fe=(_&62914560)===_?Uu-qt():(_&4194048)===_?Xg-qt():0;if(fe=ZA(ie,fe),fe!==null){Vi=_,i.cancelPendingCommit=fe(ay.bind(null,i,o,_,a,u,y,A,b,V,ee,ie,null,Q,Z)),wo(i,_,A,!X);return}}ay(i,o,_,a,u,y,A,b,V)}function pA(i){for(var o=i;;){var a=o.tag;if((a===0||a===11||a===15)&&o.flags&16384&&(a=o.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var y=a[u],_=y.getSnapshot;y=y.value;try{if(!sn(_(),y))return!1}catch{return!1}}if(a=o.child,o.subtreeFlags&16384&&a!==null)a.return=o,o=a;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function wo(i,o,a,u){o&=~Sf,o&=~Ss,i.suspendedLanes|=o,i.pingedLanes&=~o,u&&(i.warmLanes|=o),u=i.expirationTimes;for(var y=o;0<y;){var _=31-mt(y),A=1<<_;u[_]=-1,y&=~A}a!==0&&Bs(i,a,o)}function Vu(){return(Fe&6)===0?(Fa(0),!1):!0}function bf(){if(Re!==null){if(Ke===0)var i=Re.return;else i=Re,bi=hs=null,zd(i),dr=null,xa=0,i=Re;for(;i!==null;)Ng(i.alternate,i),i=i.return;Re=null}}function Tr(i,o){var a=i.timeoutHandle;a!==-1&&(i.timeoutHandle=-1,PA(a)),a=i.cancelPendingCommit,a!==null&&(i.cancelPendingCommit=null,a()),Vi=0,bf(),et=i,Re=a=wi(i.current,null),De=o,Ke=0,un=null,To=!1,vr=Nn(i,o),Tf=!1,_r=cn=Sf=Ss=So=ut=0,en=za=null,Af=!1,(o&8)!==0&&(o|=o&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=o;0<u;){var y=31-mt(u),_=1<<y;o|=i[y],u&=~_}return Oi=o,su(),a}function ey(i,o){we=null,j.H=Pa,o===cr||o===hu?(o=gm(),Ke=3):o===Nd?(o=gm(),Ke=4):Ke=o===sf?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,un=o,Re===null&&(ut=1,bu(i,vn(o,i.current)))}function ty(){var i=an.current;return i===null?!0:(De&4194048)===De?Sn===null:(De&62914560)===De||(De&536870912)!==0?i===Sn:!1}function ny(){var i=j.H;return j.H=Pa,i===null?Pa:i}function iy(){var i=j.A;return j.A=fA,i}function Hu(){ut=4,To||(De&4194048)!==De&&an.current!==null||(vr=!0),(So&134217727)===0&&(Ss&134217727)===0||et===null||wo(et,De,cn,!1)}function Rf(i,o,a){var u=Fe;Fe|=2;var y=ny(),_=iy();(et!==i||De!==o)&&(Ou=null,Tr(i,o)),o=!1;var A=ut;e:do try{if(Ke!==0&&Re!==null){var b=Re,V=un;switch(Ke){case 8:bf(),A=6;break e;case 3:case 2:case 9:case 6:an.current===null&&(o=!0);var X=Ke;if(Ke=0,un=null,Sr(i,b,V,X),a&&vr){A=0;break e}break;default:X=Ke,Ke=0,un=null,Sr(i,b,V,X)}}mA(),A=ut;break}catch(ee){ey(i,ee)}while(!0);return o&&i.shellSuspendCounter++,bi=hs=null,Fe=u,j.H=y,j.A=_,Re===null&&(et=null,De=0,su()),A}function mA(){for(;Re!==null;)oy(Re)}function gA(i,o){var a=Fe;Fe|=2;var u=ny(),y=iy();et!==i||De!==o?(Ou=null,Lu=qt()+500,Tr(i,o)):vr=Nn(i,o);e:do try{if(Ke!==0&&Re!==null){o=Re;var _=un;t:switch(Ke){case 1:Ke=0,un=null,Sr(i,o,_,1);break;case 2:case 9:if(pm(_)){Ke=0,un=null,sy(o);break}o=function(){Ke!==2&&Ke!==9||et!==i||(Ke=7),pi(i)},_.then(o,o);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:pm(_)?(Ke=0,un=null,sy(o)):(Ke=0,un=null,Sr(i,o,_,7));break;case 5:var A=null;switch(Re.tag){case 26:A=Re.memoizedState;case 5:case 27:var b=Re;if(A?Fy(A):b.stateNode.complete){Ke=0,un=null;var V=b.sibling;if(V!==null)Re=V;else{var X=b.return;X!==null?(Re=X,Gu(X)):Re=null}break t}}Ke=0,un=null,Sr(i,o,_,5);break;case 6:Ke=0,un=null,Sr(i,o,_,6);break;case 8:bf(),ut=6;break e;default:throw Error(s(462))}}yA();break}catch(ee){ey(i,ee)}while(!0);return bi=hs=null,j.H=u,j.A=y,Fe=a,Re!==null?0:(et=null,De=0,su(),ut)}function yA(){for(;Re!==null&&!nd();)oy(Re)}function oy(i){var o=Rg(i.alternate,i,Oi);i.memoizedProps=i.pendingProps,o===null?Gu(i):Re=o}function sy(i){var o=i,a=o.alternate;switch(o.tag){case 15:case 0:o=Sg(a,o,o.pendingProps,o.type,void 0,De);break;case 11:o=Sg(a,o,o.pendingProps,o.type.render,o.ref,De);break;case 5:zd(o);default:Ng(a,o),o=Re=im(o,Oi),o=Rg(a,o,Oi)}i.memoizedProps=i.pendingProps,o===null?Gu(i):Re=o}function Sr(i,o,a,u){bi=hs=null,zd(o),dr=null,xa=0;var y=o.return;try{if(sA(i,y,o,a,De)){ut=1,bu(i,vn(a,i.current)),Re=null;return}}catch(_){if(y!==null)throw Re=y,_;ut=1,bu(i,vn(a,i.current)),Re=null;return}o.flags&32768?(Pe||u===1?i=!0:vr||(De&536870912)!==0?i=!1:(To=i=!0,(u===2||u===9||u===3||u===6)&&(u=an.current,u!==null&&u.tag===13&&(u.flags|=16384))),ry(o,i)):Gu(o)}function Gu(i){var o=i;do{if((o.flags&32768)!==0){ry(o,To);return}i=o.return;var a=lA(o.alternate,o,Oi);if(a!==null){Re=a;return}if(o=o.sibling,o!==null){Re=o;return}Re=o=i}while(o!==null);ut===0&&(ut=5)}function ry(i,o){do{var a=uA(i.alternate,i);if(a!==null){a.flags&=32767,Re=a;return}if(a=i.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!o&&(i=i.sibling,i!==null)){Re=i;return}Re=i=a}while(i!==null);ut=6,Re=null}function ay(i,o,a,u,y,_,A,b,V){i.cancelPendingCommit=null;do Bu();while(Rt!==0);if((Fe&6)!==0)throw Error(s(327));if(o!==null){if(o===i.current)throw Error(s(177));if(_=o.lanes|o.childLanes,_|=md,rd(i,a,_,A,b,V),i===et&&(Re=et=null,De=0),Er=o,Co=i,Vi=a,Cf=_,wf=y,Qg=u,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,TA(eo,function(){return fy(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||u){u=j.T,j.T=null,y=re.p,re.p=2,A=Fe,Fe|=4;try{cA(i,o,a)}finally{Fe=A,re.p=y,j.T=u}}Rt=1,ly(),uy(),cy()}}function ly(){if(Rt===1){Rt=0;var i=Co,o=Er,a=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||a){a=j.T,j.T=null;var u=re.p;re.p=2;var y=Fe;Fe|=4;try{zg(o,i);var _=Gf,A=Kp(i.containerInfo),b=_.focusedElem,V=_.selectionRange;if(A!==b&&b&&b.ownerDocument&&$p(b.ownerDocument.documentElement,b)){if(V!==null&&cd(b)){var X=V.start,ee=V.end;if(ee===void 0&&(ee=X),"selectionStart"in b)b.selectionStart=X,b.selectionEnd=Math.min(ee,b.value.length);else{var ie=b.ownerDocument||document,Q=ie&&ie.defaultView||window;if(Q.getSelection){var Z=Q.getSelection(),fe=b.textContent.length,ve=Math.min(V.start,fe),Ze=V.end===void 0?ve:Math.min(V.end,fe);!Z.extend&&ve>Ze&&(A=Ze,Ze=ve,ve=A);var q=Jp(b,ve),H=Jp(b,Ze);if(q&&H&&(Z.rangeCount!==1||Z.anchorNode!==q.node||Z.anchorOffset!==q.offset||Z.focusNode!==H.node||Z.focusOffset!==H.offset)){var K=ie.createRange();K.setStart(q.node,q.offset),Z.removeAllRanges(),ve>Ze?(Z.addRange(K),Z.extend(H.node,H.offset)):(K.setEnd(H.node,H.offset),Z.addRange(K))}}}}for(ie=[],Z=b;Z=Z.parentNode;)Z.nodeType===1&&ie.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<ie.length;b++){var te=ie[b];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}ju=!!Hf,Gf=Hf=null}finally{Fe=y,re.p=u,j.T=a}}i.current=o,Rt=2}}function uy(){if(Rt===2){Rt=0;var i=Co,o=Er,a=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||a){a=j.T,j.T=null;var u=re.p;re.p=2;var y=Fe;Fe|=4;try{Og(i,o.alternate,o)}finally{Fe=y,re.p=u,j.T=a}}Rt=3}}function cy(){if(Rt===4||Rt===3){Rt=0,Ml();var i=Co,o=Er,a=Vi,u=Qg;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Rt=5:(Rt=0,Er=Co=null,dy(i,i.pendingLanes));var y=i.pendingLanes;if(y===0&&(Ao=null),Ti(a),o=o.stateNode,kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(In,o,void 0,(o.current.flags&128)===128)}catch{}if(u!==null){o=j.T,y=re.p,re.p=2,j.T=null;try{for(var _=i.onRecoverableError,A=0;A<u.length;A++){var b=u[A];_(b.value,{componentStack:b.stack})}}finally{j.T=o,re.p=y}}(Vi&3)!==0&&Bu(),pi(i),y=i.pendingLanes,(a&261930)!==0&&(y&42)!==0?i===xf?qa++:(qa=0,xf=i):qa=0,Fa(0)}}function dy(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,Ca(o)))}function Bu(){return ly(),uy(),cy(),fy()}function fy(){if(Rt!==5)return!1;var i=Co,o=Cf;Cf=0;var a=Ti(Vi),u=j.T,y=re.p;try{re.p=32>a?32:a,j.T=null,a=wf,wf=null;var _=Co,A=Vi;if(Rt=0,Er=Co=null,Vi=0,(Fe&6)!==0)throw Error(s(331));var b=Fe;if(Fe|=4,$g(_.current),Fg(_,_.current,A,a),Fe=b,Fa(0,!1),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(In,_)}catch{}return!0}finally{re.p=y,j.T=u,dy(i,o)}}function hy(i,o,a){o=vn(a,o),o=of(i.stateNode,o,2),i=yo(i,o,2),i!==null&&(Wo(i,2),pi(i))}function Xe(i,o,a){if(i.tag===3)hy(i,i,a);else for(;o!==null;){if(o.tag===3){hy(o,i,a);break}else if(o.tag===1){var u=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ao===null||!Ao.has(u))){i=vn(a,i),a=pg(2),u=yo(o,a,2),u!==null&&(mg(a,u,o,i),Wo(u,2),pi(u));break}}o=o.return}}function If(i,o,a){var u=i.pingCache;if(u===null){u=i.pingCache=new hA;var y=new Set;u.set(o,y)}else y=u.get(o),y===void 0&&(y=new Set,u.set(o,y));y.has(a)||(Tf=!0,y.add(a),i=vA.bind(null,i,o,a),o.then(i,i))}function vA(i,o,a){var u=i.pingCache;u!==null&&u.delete(o),i.pingedLanes|=i.suspendedLanes&a,i.warmLanes&=~a,et===i&&(De&a)===a&&(ut===4||ut===3&&(De&62914560)===De&&300>qt()-Uu?(Fe&2)===0&&Tr(i,0):Sf|=a,_r===De&&(_r=0)),pi(i)}function py(i,o){o===0&&(o=Ll()),i=cs(i,o),i!==null&&(Wo(i,o),pi(i))}function _A(i){var o=i.memoizedState,a=0;o!==null&&(a=o.retryLane),py(i,a)}function EA(i,o){var a=0;switch(i.tag){case 31:case 13:var u=i.stateNode,y=i.memoizedState;y!==null&&(a=y.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(o),py(i,a)}function TA(i,o){return bt(i,o)}var zu=null,Ar=null,Nf=!1,qu=!1,Mf=!1,xo=0;function pi(i){i!==Ar&&i.next===null&&(Ar===null?zu=Ar=i:Ar=Ar.next=i),qu=!0,Nf||(Nf=!0,AA())}function Fa(i,o){if(!Mf&&qu){Mf=!0;do for(var a=!1,u=zu;u!==null;){if(i!==0){var y=u.pendingLanes;if(y===0)var _=0;else{var A=u.suspendedLanes,b=u.pingedLanes;_=(1<<31-mt(42|i)+1)-1,_&=y&~(A&~b),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(a=!0,vy(u,_))}else _=De,_=Wn(u,u===et?_:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(_&3)===0||Nn(u,_)||(a=!0,vy(u,_));u=u.next}while(a);Mf=!1}}function SA(){my()}function my(){qu=Nf=!1;var i=0;xo!==0&&kA()&&(i=xo);for(var o=qt(),a=null,u=zu;u!==null;){var y=u.next,_=gy(u,o);_===0?(u.next=null,a===null?zu=y:a.next=y,y===null&&(Ar=a)):(a=u,(i!==0||(_&3)!==0)&&(qu=!0)),u=y}Rt!==0&&Rt!==5||Fa(i),xo!==0&&(xo=0)}function gy(i,o){for(var a=i.suspendedLanes,u=i.pingedLanes,y=i.expirationTimes,_=i.pendingLanes&-62914561;0<_;){var A=31-mt(_),b=1<<A,V=y[A];V===-1?((b&a)===0||(b&u)!==0)&&(y[A]=sd(b,o)):V<=o&&(i.expiredLanes|=b),_&=~b}if(o=et,a=De,a=Wn(i,i===o?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,a===0||i===o&&(Ke===2||Ke===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&ji(u),i.callbackNode=null,i.callbackPriority=0;if((a&3)===0||Nn(i,a)){if(o=a&-a,o===i.callbackPriority)return o;switch(u!==null&&ji(u),Ti(a)){case 2:case 8:a=ea;break;case 32:a=eo;break;case 268435456:a=Dl;break;default:a=eo}return u=yy.bind(null,i),a=bt(a,u),i.callbackPriority=o,i.callbackNode=a,o}return u!==null&&u!==null&&ji(u),i.callbackPriority=2,i.callbackNode=null,2}function yy(i,o){if(Rt!==0&&Rt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var a=i.callbackNode;if(Bu()&&i.callbackNode!==a)return null;var u=De;return u=Wn(i,i===et?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(Zg(i,u,o),gy(i,qt()),i.callbackNode!=null&&i.callbackNode===a?yy.bind(null,i):null)}function vy(i,o){if(Bu())return null;Zg(i,o,!0)}function AA(){UA(function(){(Fe&6)!==0?bt(jr,SA):my()})}function Df(){if(xo===0){var i=lr;i===0&&(i=Xn,Xn<<=1,(Xn&261888)===0&&(Xn=256)),xo=i}return xo}function _y(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:$s(""+i)}function Ey(i,o){var a=o.ownerDocument.createElement("input");return a.name=o.name,a.value=o.value,i.id&&a.setAttribute("form",i.id),o.parentNode.insertBefore(a,o),i=new FormData(i),a.parentNode.removeChild(a),i}function CA(i,o,a,u,y){if(o==="submit"&&a&&a.stateNode===y){var _=_y((y[It]||null).action),A=u.submitter;A&&(o=(o=A[It]||null)?_y(o.formAction):A.getAttribute("formAction"),o!==null&&(_=o,A=null));var b=new li("action","action",null,u,y);i.push({event:b,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(xo!==0){var V=A?Ey(y,A):new FormData(y);Wd(a,{pending:!0,data:V,method:y.method,action:_},null,V)}}else typeof _=="function"&&(b.preventDefault(),V=A?Ey(y,A):new FormData(y),Wd(a,{pending:!0,data:V,method:y.method,action:_},_,V))},currentTarget:y}]})}}for(var kf=0;kf<pd.length;kf++){var Pf=pd[kf],wA=Pf.toLowerCase(),xA=Pf[0].toUpperCase()+Pf.slice(1);Vn(wA,"on"+xA)}Vn(Wp,"onAnimationEnd"),Vn(Zp,"onAnimationIteration"),Vn(jp,"onAnimationStart"),Vn("dblclick","onDoubleClick"),Vn("focusin","onFocus"),Vn("focusout","onBlur"),Vn(zS,"onTransitionRun"),Vn(qS,"onTransitionStart"),Vn(FS,"onTransitionCancel"),Vn(em,"onTransitionEnd"),oi("onMouseEnter",["mouseout","mouseover"]),oi("onMouseLeave",["mouseout","mouseover"]),oi("onPointerEnter",["pointerout","pointerover"]),oi("onPointerLeave",["pointerout","pointerover"]),ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ya="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ya));function Ty(i,o){o=(o&4)!==0;for(var a=0;a<i.length;a++){var u=i[a],y=u.event;u=u.listeners;e:{var _=void 0;if(o)for(var A=u.length-1;0<=A;A--){var b=u[A],V=b.instance,X=b.currentTarget;if(b=b.listener,V!==_&&y.isPropagationStopped())break e;_=b,y.currentTarget=X;try{_(y)}catch(ee){ou(ee)}y.currentTarget=null,_=V}else for(A=0;A<u.length;A++){if(b=u[A],V=b.instance,X=b.currentTarget,b=b.listener,V!==_&&y.isPropagationStopped())break e;_=b,y.currentTarget=X;try{_(y)}catch(ee){ou(ee)}y.currentTarget=null,_=V}}}}function Ie(i,o){var a=o[zs];a===void 0&&(a=o[zs]=new Set);var u=i+"__bubble";a.has(u)||(Sy(o,i,2,!1),a.add(u))}function Uf(i,o,a){var u=0;o&&(u|=4),Sy(a,i,u,o)}var Fu="_reactListening"+Math.random().toString(36).slice(2);function Lf(i){if(!i[Fu]){i[Fu]=!0,ia.forEach(function(a){a!=="selectionchange"&&(bA.has(a)||Uf(a,!1,i),Uf(a,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Fu]||(o[Fu]=!0,Uf("selectionchange",!1,o))}}function Sy(i,o,a,u){switch(Wy(o)){case 2:var y=tC;break;case 8:y=nC;break;default:y=Wf}a=y.bind(null,o,a,i),y=void 0,!ns||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),u?y!==void 0?i.addEventListener(o,a,{capture:!0,passive:y}):i.addEventListener(o,a,!0):y!==void 0?i.addEventListener(o,a,{passive:y}):i.addEventListener(o,a,!1)}function Of(i,o,a,u,y){var _=u;if((o&1)===0&&(o&2)===0&&u!==null)e:for(;;){if(u===null)return;var A=u.tag;if(A===3||A===4){var b=u.stateNode.containerInfo;if(b===y)break;if(A===4)for(A=u.return;A!==null;){var V=A.tag;if((V===3||V===4)&&A.stateNode.containerInfo===y)return;A=A.return}for(;b!==null;){if(A=ti(b),A===null)return;if(V=A.tag,V===5||V===6||V===26||V===27){u=_=A;continue e}b=b.parentNode}}u=u.return}ro(function(){var X=_,ee=mn(a),ie=[];e:{var Q=tm.get(i);if(Q!==void 0){var Z=li,fe=i;switch(i){case"keypress":if(os(a)===0)break e;case"keydown":case"keyup":Z=nu;break;case"focusin":fe="focus",Z=rs;break;case"focusout":fe="blur",Z=rs;break;case"beforeblur":case"afterblur":Z=rs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=ga;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Jl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=w;break;case Wp:case Zp:case jp:Z=Kl;break;case em:Z=$;break;case"scroll":case"scrollend":Z=ma;break;case"wheel":Z=le;break;case"copy":case"cut":case"paste":Z=Xl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=m;break;case"toggle":case"beforetoggle":Z=dt}var ve=(o&4)!==0,Ze=!ve&&(i==="scroll"||i==="scrollend"),q=ve?Q!==null?Q+"Capture":null:Q;ve=[];for(var H=X,K;H!==null;){var te=H;if(K=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||K===null||q===null||(te=Pn(H,q),te!=null&&ve.push(Ja(H,te,K))),Ze)break;H=H.return}0<ve.length&&(Q=new Z(Q,fe,null,a,ee),ie.push({event:Q,listeners:ve}))}}if((o&7)===0){e:{if(Q=i==="mouseover"||i==="pointerover",Z=i==="mouseout"||i==="pointerout",Q&&a!==fa&&(fe=a.relatedTarget||a.fromElement)&&(ti(fe)||fe[jn]))break e;if((Z||Q)&&(Q=ee.window===ee?ee:(Q=ee.ownerDocument)?Q.defaultView||Q.parentWindow:window,Z?(fe=a.relatedTarget||a.toElement,Z=X,fe=fe?ti(fe):null,fe!==null&&(Ze=l(fe),ve=fe.tag,fe!==Ze||ve!==5&&ve!==27&&ve!==6)&&(fe=null)):(Z=null,fe=X),Z!==fe)){if(ve=ga,te="onMouseLeave",q="onMouseEnter",H="mouse",(i==="pointerout"||i==="pointerover")&&(ve=m,te="onPointerLeave",q="onPointerEnter",H="pointer"),Ze=Z==null?Q:nn(Z),K=fe==null?Q:nn(fe),Q=new ve(te,H+"leave",Z,a,ee),Q.target=Ze,Q.relatedTarget=K,te=null,ti(ee)===X&&(ve=new ve(q,H+"enter",fe,a,ee),ve.target=K,ve.relatedTarget=Ze,te=ve),Ze=te,Z&&fe)t:{for(ve=RA,q=Z,H=fe,K=0,te=q;te;te=ve(te))K++;te=0;for(var me=H;me;me=ve(me))te++;for(;0<K-te;)q=ve(q),K--;for(;0<te-K;)H=ve(H),te--;for(;K--;){if(q===H||H!==null&&q===H.alternate){ve=q;break t}q=ve(q),H=ve(H)}ve=null}else ve=null;Z!==null&&Ay(ie,Q,Z,ve,!1),fe!==null&&Ze!==null&&Ay(ie,Ze,fe,ve,!0)}}e:{if(Q=X?nn(X):window,Z=Q.nodeName&&Q.nodeName.toLowerCase(),Z==="select"||Z==="input"&&Q.type==="file")var Be=Gp;else if(Vp(Q))if(Bp)Be=HS;else{Be=OS;var he=LS}else Z=Q.nodeName,!Z||Z.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?X&&Js(X.elementType)&&(Be=Gp):Be=VS;if(Be&&(Be=Be(i,X))){Hp(ie,Be,a,ee);break e}he&&he(i,Q,X),i==="focusout"&&X&&Q.type==="number"&&X.memoizedProps.value!=null&&ua(Q,"number",Q.value)}switch(he=X?nn(X):window,i){case"focusin":(Vp(he)||he.contentEditable==="true")&&(er=he,dd=X,Ta=null);break;case"focusout":Ta=dd=er=null;break;case"mousedown":fd=!0;break;case"contextmenu":case"mouseup":case"dragend":fd=!1,Xp(ie,a,ee);break;case"selectionchange":if(BS)break;case"keydown":case"keyup":Xp(ie,a,ee)}var be;if(at)e:{switch(i){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else js?Zs(i,a)&&(ke="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(ke="onCompositionStart");ke&&(Ln&&a.locale!=="ko"&&(js||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&js&&(be=pa()):(ai=ee,ha="value"in ai?ai.value:ai.textContent,js=!0)),he=Yu(X,ke),0<he.length&&(ke=new ci(ke,i,null,a,ee),ie.push({event:ke,listeners:he}),be?ke.data=be:(be=Op(a),be!==null&&(ke.data=be)))),(be=Ci?DS(i,a):kS(i,a))&&(ke=Yu(X,"onBeforeInput"),0<ke.length&&(he=new ci("onBeforeInput","beforeinput",null,a,ee),ie.push({event:he,listeners:ke}),he.data=be)),CA(ie,i,X,a,ee)}Ty(ie,o)})}function Ja(i,o,a){return{instance:i,listener:o,currentTarget:a}}function Yu(i,o){for(var a=o+"Capture",u=[];i!==null;){var y=i,_=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||_===null||(y=Pn(i,a),y!=null&&u.unshift(Ja(i,y,_)),y=Pn(i,o),y!=null&&u.push(Ja(i,y,_))),i.tag===3)return u;i=i.return}return[]}function RA(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Ay(i,o,a,u,y){for(var _=o._reactName,A=[];a!==null&&a!==u;){var b=a,V=b.alternate,X=b.stateNode;if(b=b.tag,V!==null&&V===u)break;b!==5&&b!==26&&b!==27||X===null||(V=X,y?(X=Pn(a,_),X!=null&&A.unshift(Ja(a,X,V))):y||(X=Pn(a,_),X!=null&&A.push(Ja(a,X,V)))),a=a.return}A.length!==0&&i.push({event:o,listeners:A})}var IA=/\r\n?/g,NA=/\u0000|\uFFFD/g;function Cy(i){return(typeof i=="string"?i:""+i).replace(IA,`
`).replace(NA,"")}function wy(i,o){return o=Cy(o),Cy(i)===o}function We(i,o,a,u,y,_){switch(a){case"children":typeof u=="string"?o==="body"||o==="textarea"&&u===""||Qt(i,u):(typeof u=="number"||typeof u=="bigint")&&o!=="body"&&Qt(i,""+u);break;case"className":on(i,"class",u);break;case"tabIndex":on(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":on(i,a,u);break;case"style":da(i,u,_);break;case"data":if(o!=="object"){on(i,"data",u);break}case"src":case"href":if(u===""&&(o!=="a"||a!=="href")){i.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(a);break}u=$s(""+u),i.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(a==="formAction"?(o!=="input"&&We(i,o,"name",y.name,y,null),We(i,o,"formEncType",y.formEncType,y,null),We(i,o,"formMethod",y.formMethod,y,null),We(i,o,"formTarget",y.formTarget,y,null)):(We(i,o,"encType",y.encType,y,null),We(i,o,"method",y.method,y,null),We(i,o,"target",y.target,y,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(a);break}u=$s(""+u),i.setAttribute(a,u);break;case"onClick":u!=null&&(i.onclick=kn);break;case"onScroll":u!=null&&Ie("scroll",i);break;case"onScrollEnd":u!=null&&Ie("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(y.children!=null)throw Error(s(60));i.innerHTML=a}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}a=$s(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(a,""+u):i.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(a,""):i.removeAttribute(a);break;case"capture":case"download":u===!0?i.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(a,u):i.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(a,u):i.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(a):i.setAttribute(a,u);break;case"popover":Ie("beforetoggle",i),Ie("toggle",i),Fs(i,"popover",u);break;case"xlinkActuate":_t(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":_t(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":_t(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":_t(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":_t(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":_t(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":_t(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":_t(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":_t(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Fs(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Yl.get(a)||a,Fs(i,a,u))}}function Vf(i,o,a,u,y,_){switch(a){case"style":da(i,u,_);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(y.children!=null)throw Error(s(60));i.innerHTML=a}}break;case"children":typeof u=="string"?Qt(i,u):(typeof u=="number"||typeof u=="bigint")&&Qt(i,""+u);break;case"onScroll":u!=null&&Ie("scroll",i);break;case"onScrollEnd":u!=null&&Ie("scrollend",i);break;case"onClick":u!=null&&(i.onclick=kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!oa.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(y=a.endsWith("Capture"),o=a.slice(2,y?a.length-7:void 0),_=i[It]||null,_=_!=null?_[a]:null,typeof _=="function"&&i.removeEventListener(o,_,y),typeof u=="function")){typeof _!="function"&&_!==null&&(a in i?i[a]=null:i.hasAttribute(a)&&i.removeAttribute(a)),i.addEventListener(o,u,y);break e}a in i?i[a]=u:u===!0?i.setAttribute(a,""):Fs(i,a,u)}}}function Vt(i,o,a){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ie("error",i),Ie("load",i);var u=!1,y=!1,_;for(_ in a)if(a.hasOwnProperty(_)){var A=a[_];if(A!=null)switch(_){case"src":u=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,o));default:We(i,o,_,A,a,null)}}y&&We(i,o,"srcSet",a.srcSet,a,null),u&&We(i,o,"src",a.src,a,null);return;case"input":Ie("invalid",i);var b=_=A=y=null,V=null,X=null;for(u in a)if(a.hasOwnProperty(u)){var ee=a[u];if(ee!=null)switch(u){case"name":y=ee;break;case"type":A=ee;break;case"checked":V=ee;break;case"defaultChecked":X=ee;break;case"value":_=ee;break;case"defaultValue":b=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(s(137,o));break;default:We(i,o,u,ee,a,null)}}zl(i,_,b,V,X,A,y,!1);return;case"select":Ie("invalid",i),u=A=_=null;for(y in a)if(a.hasOwnProperty(y)&&(b=a[y],b!=null))switch(y){case"value":_=b;break;case"defaultValue":A=b;break;case"multiple":u=b;default:We(i,o,y,b,a,null)}o=_,a=A,i.multiple=!!u,o!=null?no(i,!!u,o,!1):a!=null&&no(i,!!u,a,!0);return;case"textarea":Ie("invalid",i),_=y=u=null;for(A in a)if(a.hasOwnProperty(A)&&(b=a[A],b!=null))switch(A){case"value":u=b;break;case"defaultValue":y=b;break;case"children":_=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:We(i,o,A,b,a,null)}io(i,u,y,_);return;case"option":for(V in a)if(a.hasOwnProperty(V)&&(u=a[V],u!=null))switch(V){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:We(i,o,V,u,a,null)}return;case"dialog":Ie("beforetoggle",i),Ie("toggle",i),Ie("cancel",i),Ie("close",i);break;case"iframe":case"object":Ie("load",i);break;case"video":case"audio":for(u=0;u<Ya.length;u++)Ie(Ya[u],i);break;case"image":Ie("error",i),Ie("load",i);break;case"details":Ie("toggle",i);break;case"embed":case"source":case"link":Ie("error",i),Ie("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in a)if(a.hasOwnProperty(X)&&(u=a[X],u!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,o));default:We(i,o,X,u,a,null)}return;default:if(Js(o)){for(ee in a)a.hasOwnProperty(ee)&&(u=a[ee],u!==void 0&&Vf(i,o,ee,u,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(u=a[b],u!=null&&We(i,o,b,u,a,null))}function MA(i,o,a,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,_=null,A=null,b=null,V=null,X=null,ee=null;for(Z in a){var ie=a[Z];if(a.hasOwnProperty(Z)&&ie!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":V=ie;default:u.hasOwnProperty(Z)||We(i,o,Z,null,u,ie)}}for(var Q in u){var Z=u[Q];if(ie=a[Q],u.hasOwnProperty(Q)&&(Z!=null||ie!=null))switch(Q){case"type":_=Z;break;case"name":y=Z;break;case"checked":X=Z;break;case"defaultChecked":ee=Z;break;case"value":A=Z;break;case"defaultValue":b=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,o));break;default:Z!==ie&&We(i,o,Q,Z,u,ie)}}Ys(i,A,b,V,X,ee,_,y);return;case"select":Z=A=b=Q=null;for(_ in a)if(V=a[_],a.hasOwnProperty(_)&&V!=null)switch(_){case"value":break;case"multiple":Z=V;default:u.hasOwnProperty(_)||We(i,o,_,null,u,V)}for(y in u)if(_=u[y],V=a[y],u.hasOwnProperty(y)&&(_!=null||V!=null))switch(y){case"value":Q=_;break;case"defaultValue":b=_;break;case"multiple":A=_;default:_!==V&&We(i,o,y,_,u,V)}o=b,a=A,u=Z,Q!=null?no(i,!!a,Q,!1):!!u!=!!a&&(o!=null?no(i,!!a,o,!0):no(i,!!a,a?[]:"",!1));return;case"textarea":Z=Q=null;for(b in a)if(y=a[b],a.hasOwnProperty(b)&&y!=null&&!u.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:We(i,o,b,null,u,y)}for(A in u)if(y=u[A],_=a[A],u.hasOwnProperty(A)&&(y!=null||_!=null))switch(A){case"value":Q=y;break;case"defaultValue":Z=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(s(91));break;default:y!==_&&We(i,o,A,y,u,_)}ql(i,Q,Z);return;case"option":for(var fe in a)if(Q=a[fe],a.hasOwnProperty(fe)&&Q!=null&&!u.hasOwnProperty(fe))switch(fe){case"selected":i.selected=!1;break;default:We(i,o,fe,null,u,Q)}for(V in u)if(Q=u[V],Z=a[V],u.hasOwnProperty(V)&&Q!==Z&&(Q!=null||Z!=null))switch(V){case"selected":i.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:We(i,o,V,Q,u,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)Q=a[ve],a.hasOwnProperty(ve)&&Q!=null&&!u.hasOwnProperty(ve)&&We(i,o,ve,null,u,Q);for(X in u)if(Q=u[X],Z=a[X],u.hasOwnProperty(X)&&Q!==Z&&(Q!=null||Z!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,o));break;default:We(i,o,X,Q,u,Z)}return;default:if(Js(o)){for(var Ze in a)Q=a[Ze],a.hasOwnProperty(Ze)&&Q!==void 0&&!u.hasOwnProperty(Ze)&&Vf(i,o,Ze,void 0,u,Q);for(ee in u)Q=u[ee],Z=a[ee],!u.hasOwnProperty(ee)||Q===Z||Q===void 0&&Z===void 0||Vf(i,o,ee,Q,u,Z);return}}for(var q in a)Q=a[q],a.hasOwnProperty(q)&&Q!=null&&!u.hasOwnProperty(q)&&We(i,o,q,null,u,Q);for(ie in u)Q=u[ie],Z=a[ie],!u.hasOwnProperty(ie)||Q===Z||Q==null&&Z==null||We(i,o,ie,Q,u,Z)}function xy(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function DA(){if(typeof performance.getEntriesByType=="function"){for(var i=0,o=0,a=performance.getEntriesByType("resource"),u=0;u<a.length;u++){var y=a[u],_=y.transferSize,A=y.initiatorType,b=y.duration;if(_&&b&&xy(A)){for(A=0,b=y.responseEnd,u+=1;u<a.length;u++){var V=a[u],X=V.startTime;if(X>b)break;var ee=V.transferSize,ie=V.initiatorType;ee&&xy(ie)&&(V=V.responseEnd,A+=ee*(V<b?1:(b-X)/(V-X)))}if(--u,o+=8*(_+A)/(y.duration/1e3),i++,10<i)break}}if(0<i)return o/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Hf=null,Gf=null;function Ju(i){return i.nodeType===9?i:i.ownerDocument}function by(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ry(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function Bf(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var zf=null;function kA(){var i=window.event;return i&&i.type==="popstate"?i===zf?!1:(zf=i,!0):(zf=null,!1)}var Iy=typeof setTimeout=="function"?setTimeout:void 0,PA=typeof clearTimeout=="function"?clearTimeout:void 0,Ny=typeof Promise=="function"?Promise:void 0,UA=typeof queueMicrotask=="function"?queueMicrotask:typeof Ny<"u"?function(i){return Ny.resolve(null).then(i).catch(LA)}:Iy;function LA(i){setTimeout(function(){throw i})}function bo(i){return i==="head"}function My(i,o){var a=o,u=0;do{var y=a.nextSibling;if(i.removeChild(a),y&&y.nodeType===8)if(a=y.data,a==="/$"||a==="/&"){if(u===0){i.removeChild(y),br(o);return}u--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")u++;else if(a==="html")$a(i.ownerDocument.documentElement);else if(a==="head"){a=i.ownerDocument.head,$a(a);for(var _=a.firstChild;_;){var A=_.nextSibling,b=_.nodeName;_[ei]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&_.rel.toLowerCase()==="stylesheet"||a.removeChild(_),_=A}}else a==="body"&&$a(i.ownerDocument.body);a=y}while(a);br(o)}function Dy(i,o){var a=i;i=0;do{var u=a.nextSibling;if(a.nodeType===1?o?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(o?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),u&&u.nodeType===8)if(a=u.data,a==="/$"){if(i===0)break;i--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||i++;a=u}while(a)}function qf(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var a=o;switch(o=o.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":qf(a),qs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}i.removeChild(a)}}function OA(i,o,a,u){for(;i.nodeType===1;){var y=a;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[ei])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(_=i.getAttribute("rel"),_==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(_!==y.rel||i.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||i.getAttribute("title")!==(y.title==null?null:y.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(_=i.getAttribute("src"),(_!==(y.src==null?null:y.src)||i.getAttribute("type")!==(y.type==null?null:y.type)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&_&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var _=y.name==null?null:""+y.name;if(y.type==="hidden"&&i.getAttribute("name")===_)return i}else return i;if(i=An(i.nextSibling),i===null)break}return null}function VA(i,o,a){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=An(i.nextSibling),i===null))return null;return i}function ky(i,o){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=An(i.nextSibling),i===null))return null;return i}function Ff(i){return i.data==="$?"||i.data==="$~"}function Yf(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function HA(i,o){var a=i.ownerDocument;if(i.data==="$~")i._reactRetry=o;else if(i.data!=="$?"||a.readyState!=="loading")o();else{var u=function(){o(),a.removeEventListener("DOMContentLoaded",u)};a.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function An(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return i}var Jf=null;function Py(i){i=i.nextSibling;for(var o=0;i;){if(i.nodeType===8){var a=i.data;if(a==="/$"||a==="/&"){if(o===0)return An(i.nextSibling);o--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||o++}i=i.nextSibling}return null}function Uy(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(o===0)return i;o--}else a!=="/$"&&a!=="/&"||o++}i=i.previousSibling}return null}function Ly(i,o,a){switch(o=Ju(a),i){case"html":if(i=o.documentElement,!i)throw Error(s(452));return i;case"head":if(i=o.head,!i)throw Error(s(453));return i;case"body":if(i=o.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function $a(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);qs(i)}var Cn=new Map,Oy=new Set;function $u(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Hi=re.d;re.d={f:GA,r:BA,D:zA,C:qA,L:FA,m:YA,X:$A,S:JA,M:KA};function GA(){var i=Hi.f(),o=Vu();return i||o}function BA(i){var o=pn(i);o!==null&&o.tag===5&&o.type==="form"?eg(o):Hi.r(i)}var Cr=typeof document>"u"?null:document;function Vy(i,o,a){var u=Cr;if(u&&typeof o=="string"&&o){var y=Xt(o);y='link[rel="'+i+'"][href="'+y+'"]',typeof a=="string"&&(y+='[crossorigin="'+a+'"]'),Oy.has(y)||(Oy.add(y),i={rel:i,crossOrigin:a,href:o},u.querySelector(y)===null&&(o=u.createElement("link"),Vt(o,"link",i),vt(o),u.head.appendChild(o)))}}function zA(i){Hi.D(i),Vy("dns-prefetch",i,null)}function qA(i,o){Hi.C(i,o),Vy("preconnect",i,o)}function FA(i,o,a){Hi.L(i,o,a);var u=Cr;if(u&&i&&o){var y='link[rel="preload"][as="'+Xt(o)+'"]';o==="image"&&a&&a.imageSrcSet?(y+='[imagesrcset="'+Xt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(y+='[imagesizes="'+Xt(a.imageSizes)+'"]')):y+='[href="'+Xt(i)+'"]';var _=y;switch(o){case"style":_=wr(i);break;case"script":_=xr(i)}Cn.has(_)||(i=E({rel:"preload",href:o==="image"&&a&&a.imageSrcSet?void 0:i,as:o},a),Cn.set(_,i),u.querySelector(y)!==null||o==="style"&&u.querySelector(Ka(_))||o==="script"&&u.querySelector(Xa(_))||(o=u.createElement("link"),Vt(o,"link",i),vt(o),u.head.appendChild(o)))}}function YA(i,o){Hi.m(i,o);var a=Cr;if(a&&i){var u=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+Xt(u)+'"][href="'+Xt(i)+'"]',_=y;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=xr(i)}if(!Cn.has(_)&&(i=E({rel:"modulepreload",href:i},o),Cn.set(_,i),a.querySelector(y)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Xa(_)))return}u=a.createElement("link"),Vt(u,"link",i),vt(u),a.head.appendChild(u)}}}function JA(i,o,a){Hi.S(i,o,a);var u=Cr;if(u&&i){var y=ni(u).hoistableStyles,_=wr(i);o=o||"default";var A=y.get(_);if(!A){var b={loading:0,preload:null};if(A=u.querySelector(Ka(_)))b.loading=5;else{i=E({rel:"stylesheet",href:i,"data-precedence":o},a),(a=Cn.get(_))&&$f(i,a);var V=A=u.createElement("link");vt(V),Vt(V,"link",i),V._p=new Promise(function(X,ee){V.onload=X,V.onerror=ee}),V.addEventListener("load",function(){b.loading|=1}),V.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Ku(A,o,u)}A={type:"stylesheet",instance:A,count:1,state:b},y.set(_,A)}}}function $A(i,o){Hi.X(i,o);var a=Cr;if(a&&i){var u=ni(a).hoistableScripts,y=xr(i),_=u.get(y);_||(_=a.querySelector(Xa(y)),_||(i=E({src:i,async:!0},o),(o=Cn.get(y))&&Kf(i,o),_=a.createElement("script"),vt(_),Vt(_,"link",i),a.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},u.set(y,_))}}function KA(i,o){Hi.M(i,o);var a=Cr;if(a&&i){var u=ni(a).hoistableScripts,y=xr(i),_=u.get(y);_||(_=a.querySelector(Xa(y)),_||(i=E({src:i,async:!0,type:"module"},o),(o=Cn.get(y))&&Kf(i,o),_=a.createElement("script"),vt(_),Vt(_,"link",i),a.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},u.set(y,_))}}function Hy(i,o,a,u){var y=(y=xe.current)?$u(y):null;if(!y)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(o=wr(a.href),a=ni(y).hoistableStyles,u=a.get(o),u||(u={type:"style",instance:null,count:0,state:null},a.set(o,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){i=wr(a.href);var _=ni(y).hoistableStyles,A=_.get(i);if(A||(y=y.ownerDocument||y,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(i,A),(_=y.querySelector(Ka(i)))&&!_._p&&(A.instance=_,A.state.loading=5),Cn.has(i)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Cn.set(i,a),_||XA(y,i,a,A.state))),o&&u===null)throw Error(s(528,""));return A}if(o&&u!==null)throw Error(s(529,""));return null;case"script":return o=a.async,a=a.src,typeof a=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=xr(a),a=ni(y).hoistableScripts,u=a.get(o),u||(u={type:"script",instance:null,count:0,state:null},a.set(o,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function wr(i){return'href="'+Xt(i)+'"'}function Ka(i){return'link[rel="stylesheet"]['+i+"]"}function Gy(i){return E({},i,{"data-precedence":i.precedence,precedence:null})}function XA(i,o,a,u){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?u.loading=1:(o=i.createElement("link"),u.preload=o,o.addEventListener("load",function(){return u.loading|=1}),o.addEventListener("error",function(){return u.loading|=2}),Vt(o,"link",a),vt(o),i.head.appendChild(o))}function xr(i){return'[src="'+Xt(i)+'"]'}function Xa(i){return"script[async]"+i}function By(i,o,a){if(o.count++,o.instance===null)switch(o.type){case"style":var u=i.querySelector('style[data-href~="'+Xt(a.href)+'"]');if(u)return o.instance=u,vt(u),u;var y=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),vt(u),Vt(u,"style",y),Ku(u,a.precedence,i),o.instance=u;case"stylesheet":y=wr(a.href);var _=i.querySelector(Ka(y));if(_)return o.state.loading|=4,o.instance=_,vt(_),_;u=Gy(a),(y=Cn.get(y))&&$f(u,y),_=(i.ownerDocument||i).createElement("link"),vt(_);var A=_;return A._p=new Promise(function(b,V){A.onload=b,A.onerror=V}),Vt(_,"link",u),o.state.loading|=4,Ku(_,a.precedence,i),o.instance=_;case"script":return _=xr(a.src),(y=i.querySelector(Xa(_)))?(o.instance=y,vt(y),y):(u=a,(y=Cn.get(_))&&(u=E({},a),Kf(u,y)),i=i.ownerDocument||i,y=i.createElement("script"),vt(y),Vt(y,"link",u),i.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(s(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(u=o.instance,o.state.loading|=4,Ku(u,a.precedence,i));return o.instance}function Ku(i,o,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=u.length?u[u.length-1]:null,_=y,A=0;A<u.length;A++){var b=u[A];if(b.dataset.precedence===o)_=b;else if(_!==y)break}_?_.parentNode.insertBefore(i,_.nextSibling):(o=a.nodeType===9?a.head:a,o.insertBefore(i,o.firstChild))}function $f(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function Kf(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var Xu=null;function zy(i,o,a){if(Xu===null){var u=new Map,y=Xu=new Map;y.set(a,u)}else y=Xu,u=y.get(a),u||(u=new Map,y.set(a,u));if(u.has(i))return u;for(u.set(i,null),a=a.getElementsByTagName(i),y=0;y<a.length;y++){var _=a[y];if(!(_[ei]||_[yt]||i==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var A=_.getAttribute(o)||"";A=i+A;var b=u.get(A);b?b.push(_):u.set(A,[_])}}return u}function qy(i,o,a){i=i.ownerDocument||i,i.head.insertBefore(a,o==="title"?i.querySelector("head > title"):null)}function QA(i,o,a){if(a===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function Fy(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function WA(i,o,a,u){if(a.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var y=wr(u.href),_=o.querySelector(Ka(y));if(_){o=_._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(i.count++,i=Qu.bind(i),o.then(i,i)),a.state.loading|=4,a.instance=_,vt(_);return}_=o.ownerDocument||o,u=Gy(u),(y=Cn.get(y))&&$f(u,y),_=_.createElement("link"),vt(_);var A=_;A._p=new Promise(function(b,V){A.onload=b,A.onerror=V}),Vt(_,"link",u),a.instance=_}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(a,o),(o=a.state.preload)&&(a.state.loading&3)===0&&(i.count++,a=Qu.bind(i),o.addEventListener("load",a),o.addEventListener("error",a))}}var Xf=0;function ZA(i,o){return i.stylesheets&&i.count===0&&Zu(i,i.stylesheets),0<i.count||0<i.imgCount?function(a){var u=setTimeout(function(){if(i.stylesheets&&Zu(i,i.stylesheets),i.unsuspend){var _=i.unsuspend;i.unsuspend=null,_()}},6e4+o);0<i.imgBytes&&Xf===0&&(Xf=62500*DA());var y=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Zu(i,i.stylesheets),i.unsuspend)){var _=i.unsuspend;i.unsuspend=null,_()}},(i.imgBytes>Xf?50:800)+o);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(y)}}:null}function Qu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zu(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Wu=null;function Zu(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Wu=new Map,o.forEach(jA,i),Wu=null,Qu.call(i))}function jA(i,o){if(!(o.state.loading&4)){var a=Wu.get(i);if(a)var u=a.get(null);else{a=new Map,Wu.set(i,a);for(var y=i.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<y.length;_++){var A=y[_];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(a.set(A.dataset.precedence,A),u=A)}u&&a.set(null,u)}y=o.instance,A=y.getAttribute("data-precedence"),_=a.get(A)||u,_===u&&a.set(null,y),a.set(A,y),this.count++,u=Qu.bind(this),y.addEventListener("load",u),y.addEventListener("error",u),_?_.parentNode.insertBefore(y,_.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(y,i.firstChild)),o.state.loading|=4}}var Qa={$$typeof:B,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function eC(i,o,a,u,y,_,A,b,V){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zn(0),this.hiddenUpdates=Zn(null),this.identifierPrefix=u,this.onUncaughtError=y,this.onCaughtError=_,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function Yy(i,o,a,u,y,_,A,b,V,X,ee,ie){return i=new eC(i,o,a,A,V,X,ee,ie,b),o=1,_===!0&&(o|=24),_=rn(3,null,null,o),i.current=_,_.stateNode=i,o=bd(),o.refCount++,i.pooledCache=o,o.refCount++,_.memoizedState={element:u,isDehydrated:a,cache:o},Md(_),i}function Jy(i){return i?(i=ir,i):ir}function $y(i,o,a,u,y,_){y=Jy(y),u.context===null?u.context=y:u.pendingContext=y,u=go(o),u.payload={element:a},_=_===void 0?null:_,_!==null&&(u.callback=_),a=yo(i,u,o),a!==null&&(tn(a,i,o),Ra(a,i,o))}function Ky(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<o?a:o}}function Qf(i,o){Ky(i,o),(i=i.alternate)&&Ky(i,o)}function Xy(i){if(i.tag===13||i.tag===31){var o=cs(i,67108864);o!==null&&tn(o,i,67108864),Qf(i,67108864)}}function Qy(i){if(i.tag===13||i.tag===31){var o=dn();o=Zo(o);var a=cs(i,o);a!==null&&tn(a,i,o),Qf(i,o)}}var ju=!0;function tC(i,o,a,u){var y=j.T;j.T=null;var _=re.p;try{re.p=2,Wf(i,o,a,u)}finally{re.p=_,j.T=y}}function nC(i,o,a,u){var y=j.T;j.T=null;var _=re.p;try{re.p=8,Wf(i,o,a,u)}finally{re.p=_,j.T=y}}function Wf(i,o,a,u){if(ju){var y=Zf(u);if(y===null)Of(i,o,u,ec,a),Zy(i,u);else if(oC(y,i,o,a,u))u.stopPropagation();else if(Zy(i,u),o&4&&-1<iC.indexOf(i)){for(;y!==null;){var _=pn(y);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var A=Qn(_.pendingLanes);if(A!==0){var b=_;for(b.pendingLanes|=2,b.entangledLanes|=2;A;){var V=1<<31-mt(A);b.entanglements[1]|=V,A&=~V}pi(_),(Fe&6)===0&&(Lu=qt()+500,Fa(0))}}break;case 31:case 13:b=cs(_,2),b!==null&&tn(b,_,2),Vu(),Qf(_,2)}if(_=Zf(u),_===null&&Of(i,o,u,ec,a),_===y)break;y=_}y!==null&&u.stopPropagation()}else Of(i,o,u,null,a)}}function Zf(i){return i=mn(i),jf(i)}var ec=null;function jf(i){if(ec=null,i=ti(i),i!==null){var o=l(i);if(o===null)i=null;else{var a=o.tag;if(a===13){if(i=c(o),i!==null)return i;i=null}else if(a===31){if(i=g(o),i!==null)return i;i=null}else if(a===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return ec=i,null}function Wy(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xo()){case jr:return 2;case ea:return 8;case eo:case id:return 32;case Dl:return 268435456;default:return 32}default:return 32}}var eh=!1,Ro=null,Io=null,No=null,Wa=new Map,Za=new Map,Mo=[],iC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Zy(i,o){switch(i){case"focusin":case"focusout":Ro=null;break;case"dragenter":case"dragleave":Io=null;break;case"mouseover":case"mouseout":No=null;break;case"pointerover":case"pointerout":Wa.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Za.delete(o.pointerId)}}function ja(i,o,a,u,y,_){return i===null||i.nativeEvent!==_?(i={blockedOn:o,domEventName:a,eventSystemFlags:u,nativeEvent:_,targetContainers:[y]},o!==null&&(o=pn(o),o!==null&&Xy(o)),i):(i.eventSystemFlags|=u,o=i.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),i)}function oC(i,o,a,u,y){switch(o){case"focusin":return Ro=ja(Ro,i,o,a,u,y),!0;case"dragenter":return Io=ja(Io,i,o,a,u,y),!0;case"mouseover":return No=ja(No,i,o,a,u,y),!0;case"pointerover":var _=y.pointerId;return Wa.set(_,ja(Wa.get(_)||null,i,o,a,u,y)),!0;case"gotpointercapture":return _=y.pointerId,Za.set(_,ja(Za.get(_)||null,i,o,a,u,y)),!0}return!1}function jy(i){var o=ti(i.target);if(o!==null){var a=l(o);if(a!==null){if(o=a.tag,o===13){if(o=c(a),o!==null){i.blockedOn=o,Mn(i.priority,function(){Qy(a)});return}}else if(o===31){if(o=g(a),o!==null){i.blockedOn=o,Mn(i.priority,function(){Qy(a)});return}}else if(o===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function tc(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var a=Zf(i.nativeEvent);if(a===null){a=i.nativeEvent;var u=new a.constructor(a.type,a);fa=u,a.target.dispatchEvent(u),fa=null}else return o=pn(a),o!==null&&Xy(o),i.blockedOn=a,!1;o.shift()}return!0}function ev(i,o,a){tc(i)&&a.delete(o)}function sC(){eh=!1,Ro!==null&&tc(Ro)&&(Ro=null),Io!==null&&tc(Io)&&(Io=null),No!==null&&tc(No)&&(No=null),Wa.forEach(ev),Za.forEach(ev)}function nc(i,o){i.blockedOn===o&&(i.blockedOn=null,eh||(eh=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,sC)))}var ic=null;function tv(i){ic!==i&&(ic=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){ic===i&&(ic=null);for(var o=0;o<i.length;o+=3){var a=i[o],u=i[o+1],y=i[o+2];if(typeof u!="function"){if(jf(u||a)===null)continue;break}var _=pn(a);_!==null&&(i.splice(o,3),o-=3,Wd(_,{pending:!0,data:y,method:a.method,action:u},u,y))}}))}function br(i){function o(V){return nc(V,i)}Ro!==null&&nc(Ro,i),Io!==null&&nc(Io,i),No!==null&&nc(No,i),Wa.forEach(o),Za.forEach(o);for(var a=0;a<Mo.length;a++){var u=Mo[a];u.blockedOn===i&&(u.blockedOn=null)}for(;0<Mo.length&&(a=Mo[0],a.blockedOn===null);)jy(a),a.blockedOn===null&&Mo.shift();if(a=(i.ownerDocument||i).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var y=a[u],_=a[u+1],A=y[It]||null;if(typeof _=="function")A||tv(a);else if(A){var b=null;if(_&&_.hasAttribute("formAction")){if(y=_,A=_[It]||null)b=A.formAction;else if(jf(y)!==null)continue}else b=A.action;typeof b=="function"?a[u+1]=b:(a.splice(u,3),u-=3),tv(a)}}}function nv(){function i(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(A){return y=A})},focusReset:"manual",scroll:"manual"})}function o(){y!==null&&(y(),y=null),u||setTimeout(a,20)}function a(){if(!u&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,y=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(a,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),y!==null&&(y(),y=null)}}}function th(i){this._internalRoot=i}oc.prototype.render=th.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(s(409));var a=o.current,u=dn();$y(a,u,i,o,null,null)},oc.prototype.unmount=th.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;$y(i.current,2,null,i,null,null),Vu(),o[jn]=null}};function oc(i){this._internalRoot=i}oc.prototype.unstable_scheduleHydration=function(i){if(i){var o=Vl();i={blockedOn:null,target:i,priority:o};for(var a=0;a<Mo.length&&o!==0&&o<Mo[a].priority;a++);Mo.splice(a,0,i),a===0&&jy(i)}};var iv=e.version;if(iv!=="19.2.3")throw Error(s(527,iv,"19.2.3"));re.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=f(o),i=i!==null?v(i):null,i=i===null?null:i.stateNode,i};var rC={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sc.isDisabled&&sc.supportsFiber)try{In=sc.inject(rC),kt=sc}catch{}}return tl.createRoot=function(i,o){if(!r(i))throw Error(s(299));var a=!1,u="",y=cg,_=dg,A=fg;return o!=null&&(o.unstable_strictMode===!0&&(a=!0),o.identifierPrefix!==void 0&&(u=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError)),o=Yy(i,1,!1,null,null,a,u,null,y,_,A,nv),i[jn]=o.current,Lf(i),new th(o)},tl.hydrateRoot=function(i,o,a){if(!r(i))throw Error(s(299));var u=!1,y="",_=cg,A=dg,b=fg,V=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(y=a.identifierPrefix),a.onUncaughtError!==void 0&&(_=a.onUncaughtError),a.onCaughtError!==void 0&&(A=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(V=a.formState)),o=Yy(i,1,!0,o,a??null,u,y,V,_,A,b,nv),o.context=Jy(null),a=o.current,u=dn(),u=Zo(u),y=go(u),y.callback=null,yo(a,y,u),a=u,o.current.lanes=a,Wo(o,a),pi(o),i[jn]=o.current,Lf(i),new oc(o)},tl.version="19.2.3",tl}var hv;function gC(){if(hv)return oh.exports;hv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),oh.exports=mC(),oh.exports}var yC=gC();const vC=j_(yC);var _C={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let EC,TC;function SC(){return{geminiUrl:EC,vertexUrl:TC}}function AC(t,e,n,s){var r,l;if(!(t!=null&&t.baseUrl)){const c=SC();return e?(r=c.vertexUrl)!==null&&r!==void 0?r:n:(l=c.geminiUrl)!==null&&l!==void 0?l:s}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xi{}function ce(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(s,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const l=e[r];return l!=null?String(l):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function h(t,e,n){for(let l=0;l<e.length-1;l++){const c=e[l];if(c.endsWith("[]")){const g=c.slice(0,-2);if(!(g in t))if(Array.isArray(n))t[g]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${c}`);if(Array.isArray(t[g])){const p=t[g];if(Array.isArray(n))for(let f=0;f<p.length;f++){const v=p[f];h(v,e.slice(l+1),n[f])}else for(const f of p)h(f,e.slice(l+1),n)}return}else if(c.endsWith("[0]")){const g=c.slice(0,-3);g in t||(t[g]=[{}]);const p=t[g];h(p[0],e.slice(l+1),n);return}(!t[c]||typeof t[c]!="object")&&(t[c]={}),t=t[c]}const s=e[e.length-1],r=t[s];if(r!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===r)return;if(typeof r=="object"&&typeof n=="object"&&r!==null&&n!==null)Object.assign(r,n);else throw new Error(`Cannot set value for an existing key. Key: ${s}`)}else s==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[s]=n}function d(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let s=0;s<e.length;s++){if(typeof t!="object"||t===null)return n;const r=e[s];if(r.endsWith("[]")){const l=r.slice(0,-2);if(l in t){const c=t[l];return Array.isArray(c)?c.map(g=>d(g,e.slice(s+1),n)):n}else return n}else t=t[r]}return t}catch(s){if(s instanceof TypeError)return n;throw s}}function CC(t,e){for(const[n,s]of Object.entries(e)){const r=n.split("."),l=s.split("."),c=new Set;let g=-1;for(let p=0;p<r.length;p++)if(r[p]==="*"){g=p;break}if(g!==-1&&l.length>g)for(let p=g;p<l.length;p++){const f=l[p];f!=="*"&&!f.endsWith("[]")&&!f.endsWith("[0]")&&c.add(f)}Sh(t,r,l,0,c)}}function Sh(t,e,n,s,r){if(s>=e.length||typeof t!="object"||t===null)return;const l=e[s];if(l.endsWith("[]")){const c=l.slice(0,-2),g=t;if(c in g&&Array.isArray(g[c]))for(const p of g[c])Sh(p,e,n,s+1,r)}else if(l==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const c=t,g=Object.keys(c).filter(f=>!f.startsWith("_")&&!r.has(f)),p={};for(const f of g)p[f]=c[f];for(const[f,v]of Object.entries(p)){const E=[];for(const T of n.slice(s))T==="*"?E.push(f):E.push(T);h(c,E,v)}for(const f of g)delete c[f]}}else{const c=t;l in c&&Sh(c[l],e,n,s+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ep(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wC(t){const e={},n=d(t,["operationName"]);n!=null&&h(e,["operationName"],n);const s=d(t,["resourceName"]);return s!=null&&h(e,["_url","resourceName"],s),e}function xC(t){const e={},n=d(t,["name"]);n!=null&&h(e,["name"],n);const s=d(t,["metadata"]);s!=null&&h(e,["metadata"],s);const r=d(t,["done"]);r!=null&&h(e,["done"],r);const l=d(t,["error"]);l!=null&&h(e,["error"],l);const c=d(t,["response","generateVideoResponse"]);return c!=null&&h(e,["response"],RC(c)),e}function bC(t){const e={},n=d(t,["name"]);n!=null&&h(e,["name"],n);const s=d(t,["metadata"]);s!=null&&h(e,["metadata"],s);const r=d(t,["done"]);r!=null&&h(e,["done"],r);const l=d(t,["error"]);l!=null&&h(e,["error"],l);const c=d(t,["response"]);return c!=null&&h(e,["response"],IC(c)),e}function RC(t){const e={},n=d(t,["generatedSamples"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>NC(c))),h(e,["generatedVideos"],l)}const s=d(t,["raiMediaFilteredCount"]);s!=null&&h(e,["raiMediaFilteredCount"],s);const r=d(t,["raiMediaFilteredReasons"]);return r!=null&&h(e,["raiMediaFilteredReasons"],r),e}function IC(t){const e={},n=d(t,["videos"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>MC(c))),h(e,["generatedVideos"],l)}const s=d(t,["raiMediaFilteredCount"]);s!=null&&h(e,["raiMediaFilteredCount"],s);const r=d(t,["raiMediaFilteredReasons"]);return r!=null&&h(e,["raiMediaFilteredReasons"],r),e}function NC(t){const e={},n=d(t,["video"]);return n!=null&&h(e,["video"],OC(n)),e}function MC(t){const e={},n=d(t,["_self"]);return n!=null&&h(e,["video"],VC(n)),e}function DC(t){const e={},n=d(t,["operationName"]);return n!=null&&h(e,["_url","operationName"],n),e}function kC(t){const e={},n=d(t,["operationName"]);return n!=null&&h(e,["_url","operationName"],n),e}function PC(t){const e={},n=d(t,["name"]);n!=null&&h(e,["name"],n);const s=d(t,["metadata"]);s!=null&&h(e,["metadata"],s);const r=d(t,["done"]);r!=null&&h(e,["done"],r);const l=d(t,["error"]);l!=null&&h(e,["error"],l);const c=d(t,["response"]);return c!=null&&h(e,["response"],UC(c)),e}function UC(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const s=d(t,["parent"]);s!=null&&h(e,["parent"],s);const r=d(t,["documentName"]);return r!=null&&h(e,["documentName"],r),e}function eE(t){const e={},n=d(t,["name"]);n!=null&&h(e,["name"],n);const s=d(t,["metadata"]);s!=null&&h(e,["metadata"],s);const r=d(t,["done"]);r!=null&&h(e,["done"],r);const l=d(t,["error"]);l!=null&&h(e,["error"],l);const c=d(t,["response"]);return c!=null&&h(e,["response"],LC(c)),e}function LC(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const s=d(t,["parent"]);s!=null&&h(e,["parent"],s);const r=d(t,["documentName"]);return r!=null&&h(e,["documentName"],r),e}function OC(t){const e={},n=d(t,["uri"]);n!=null&&h(e,["uri"],n);const s=d(t,["encodedVideo"]);s!=null&&h(e,["videoBytes"],ep(s));const r=d(t,["encoding"]);return r!=null&&h(e,["mimeType"],r),e}function VC(t){const e={},n=d(t,["gcsUri"]);n!=null&&h(e,["uri"],n);const s=d(t,["bytesBase64Encoded"]);s!=null&&h(e,["videoBytes"],ep(s));const r=d(t,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var pv;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(pv||(pv={}));var mv;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(mv||(mv={}));var gv;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(gv||(gv={}));var ye;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(ye||(ye={}));var yv;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(yv||(yv={}));var vv;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(vv||(vv={}));var _v;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(_v||(_v={}));var Ev;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Ev||(Ev={}));var Tv;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Tv||(Tv={}));var Sv;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Sv||(Sv={}));var Av;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(Av||(Av={}));var Cv;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(Cv||(Cv={}));var wv;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(wv||(wv={}));var xv;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(xv||(xv={}));var bv;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(bv||(bv={}));var Rv;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(Rv||(Rv={}));var Iv;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Iv||(Iv={}));var Nv;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Nv||(Nv={}));var Mv;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Mv||(Mv={}));var Dv;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(Dv||(Dv={}));var kv;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(kv||(kv={}));var xc;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(xc||(xc={}));var Pv;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Pv||(Pv={}));var Uv;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Uv||(Uv={}));var Lv;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Lv||(Lv={}));var Ah;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Ah||(Ah={}));var Ov;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Ov||(Ov={}));var Vv;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Vv||(Vv={}));var Hv;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Hv||(Hv={}));var Gv;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Gv||(Gv={}));var Bv;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Bv||(Bv={}));var zv;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(zv||(zv={}));var qv;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(qv||(qv={}));var Fv;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Fv||(Fv={}));var Yv;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Yv||(Yv={}));var Jv;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Jv||(Jv={}));var $v;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})($v||($v={}));var Kv;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(Kv||(Kv={}));var Xv;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(Xv||(Xv={}));var Qv;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(Qv||(Qv={}));var Wv;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(Wv||(Wv={}));var Zv;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Zv||(Zv={}));var jv;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(jv||(jv={}));var e0;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(e0||(e0={}));var t0;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(t0||(t0={}));var n0;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(n0||(n0={}));var i0;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(i0||(i0={}));var o0;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(o0||(o0={}));var s0;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(s0||(s0={}));var r0;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(r0||(r0={}));var a0;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(a0||(a0={}));var l0;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(l0||(l0={}));var u0;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(u0||(u0={}));var c0;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(c0||(c0={}));var d0;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(d0||(d0={}));var Nr;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Nr||(Nr={}));class Ch{constructor(e){const n={};for(const s of e.headers.entries())n[s[0]]=s[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class nl{get text(){var e,n,s,r,l,c,g,p;if(((r=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",v=!1;const E=[];for(const T of(p=(g=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||g===void 0?void 0:g.parts)!==null&&p!==void 0?p:[]){for(const[x,M]of Object.entries(T))x!=="text"&&x!=="thought"&&x!=="thoughtSignature"&&(M!==null||M!==void 0)&&E.push(x);if(typeof T.text=="string"){if(typeof T.thought=="boolean"&&T.thought)continue;v=!0,f+=T.text}}return E.length>0&&console.warn(`there are non-text parts ${E} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?f:void 0}get data(){var e,n,s,r,l,c,g,p;if(((r=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const v=[];for(const E of(p=(g=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||g===void 0?void 0:g.parts)!==null&&p!==void 0?p:[]){for(const[T,x]of Object.entries(E))T!=="inlineData"&&(x!==null||x!==void 0)&&v.push(T);E.inlineData&&typeof E.inlineData.data=="string"&&(f+=atob(E.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var e,n,s,r,l,c,g,p;if(((r=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(p=(g=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||g===void 0?void 0:g.parts)===null||p===void 0?void 0:p.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var e,n,s,r,l,c,g,p,f;if(((r=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(p=(g=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||g===void 0?void 0:g.parts)===null||p===void 0?void 0:p.filter(E=>E.executableCode).map(E=>E.executableCode).filter(E=>E!==void 0);if((v==null?void 0:v.length)!==0)return(f=v==null?void 0:v[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,n,s,r,l,c,g,p,f;if(((r=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(p=(g=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||g===void 0?void 0:g.parts)===null||p===void 0?void 0:p.filter(E=>E.codeExecutionResult).map(E=>E.codeExecutionResult).filter(E=>E!==void 0);if((v==null?void 0:v.length)!==0)return(f=v==null?void 0:v[0])===null||f===void 0?void 0:f.output}}class f0{}class h0{}class HC{}class GC{}class BC{}class zC{}class p0{}class m0{}class g0{}class qC{}class bc{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const s=new bc;let r;const l=e;return n?r=bC(l):r=xC(l),Object.assign(s,r),s}}class y0{}class v0{}class _0{}class E0{}class FC{}class YC{}class JC{}class tp{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const s=new tp,l=PC(e);return Object.assign(s,l),s}}class $C{}class KC{}class XC{}class T0{}class QC{get text(){var e,n,s;let r="",l=!1;const c=[];for(const g of(s=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&s!==void 0?s:[]){for(const[p,f]of Object.entries(g))p!=="text"&&p!=="thought"&&f!==null&&c.push(p);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;l=!0,r+=g.text}}return c.length>0&&console.warn(`there are non-text parts ${c} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),l?r:void 0}get data(){var e,n,s;let r="";const l=[];for(const c of(s=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&s!==void 0?s:[]){for(const[g,p]of Object.entries(c))g!=="inlineData"&&p!==null&&l.push(g);c.inlineData&&typeof c.inlineData.data=="string"&&(r+=atob(c.inlineData.data))}return l.length>0&&console.warn(`there are non-data parts ${l} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class WC{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class np{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const s=new np,l=eE(e);return Object.assign(s,l),s}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qe(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function tE(t,e){const n=qe(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function nE(t){return Array.isArray(t)?t.map(e=>Rc(e)):[Rc(t)]}function Rc(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function iE(t){const e=Rc(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function oE(t){const e=Rc(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function S0(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function sE(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>S0(e)):[S0(t)]}function wh(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function A0(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function C0(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function zt(t){if(t==null)throw new Error("ContentUnion is required");return wh(t)?t:{role:"user",parts:sE(t)}}function ip(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const s=zt(n);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]});if(t.isVertexAI()){const n=zt(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>zt(n)):[zt(e)]}function xn(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(A0(t)||C0(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[zt(t)]}const e=[],n=[],s=wh(t[0]);for(const r of t){const l=wh(r);if(l!=s)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(l)e.push(r);else{if(A0(r)||C0(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(r)}}return s||e.push({role:"user",parts:sE(n)}),e}function ZC(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(s=>s!=="null");if(n.length===1)e.type=Object.values(ye).includes(n[0].toUpperCase())?n[0].toUpperCase():ye.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const s of n)e.anyOf.push({type:Object.values(ye).includes(s.toUpperCase())?s.toUpperCase():ye.TYPE_UNSPECIFIED})}}function Pr(t){const e={},n=["items"],s=["anyOf"],r=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const l=t.anyOf;l!=null&&l.length==2&&(l[0].type==="null"?(e.nullable=!0,t=l[1]):l[1].type==="null"&&(e.nullable=!0,t=l[0])),t.type instanceof Array&&ZC(t.type,e);for(const[c,g]of Object.entries(t))if(g!=null)if(c=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;e.type=Object.values(ye).includes(g.toUpperCase())?g.toUpperCase():ye.TYPE_UNSPECIFIED}else if(n.includes(c))e[c]=Pr(g);else if(s.includes(c)){const p=[];for(const f of g){if(f.type=="null"){e.nullable=!0;continue}p.push(Pr(f))}e[c]=p}else if(r.includes(c)){const p={};for(const[f,v]of Object.entries(g))p[f]=Pr(v);e[c]=p}else{if(c==="additionalProperties")continue;e[c]=g}return e}function op(t){return Pr(t)}function sp(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function rp(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function zr(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Pr(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Pr(e.response));return t}function qr(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function jC(t,e,n,s=1){const r=!e.startsWith(`${n}/`)&&e.split("/").length===s;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:r?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:r?`${n}/${e}`:e}function Qi(t,e){if(typeof e!="string")throw new Error("name must be a string");return jC(t,e,"cachedContents")}function rE(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function qo(t){return ep(t)}function e1(t){return t!=null&&typeof t=="object"&&"name"in t}function t1(t){return t!=null&&typeof t=="object"&&"video"in t}function n1(t){return t!=null&&typeof t=="object"&&"uri"in t}function aE(t){var e;let n;if(e1(t)&&(n=t.name),!(n1(t)&&(n=t.uri,n===void 0))&&!(t1(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const r=n.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${n}`);n=r[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function lE(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function uE(t){for(const e of["models","tunedModels","publisherModels"])if(i1(t,e))return t[e];return[]}function i1(t,e){return t!==null&&typeof t=="object"&&e in t}function o1(t,e={}){const n=t,s={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(s.responseJsonSchema=n.outputSchema),e.behavior&&(s.behavior=e.behavior),{functionDeclarations:[s]}}function s1(t,e={}){const n=[],s=new Set;for(const r of t){const l=r.name;if(s.has(l))throw new Error(`Duplicate function name ${l} found in MCP tools. Please ensure function names are unique.`);s.add(l);const c=o1(r,e);c.functionDeclarations&&n.push(...c.functionDeclarations)}return{functionDeclarations:n}}function cE(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const s=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,r=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(r>0||s!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(s>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function r1(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function dE(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const r=n.inlinedResponses;if(!Array.isArray(r)||r.length===0)return t;let l=!1;for(const c of r){if(typeof c!="object"||c===null)continue;const p=c.response;if(typeof p!="object"||p===null)continue;if(p.embedding!==void 0){l=!0;break}}return l&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Fr(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function fE(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function a1(t){const e={},n=d(t,["responsesFile"]);n!=null&&h(e,["fileName"],n);const s=d(t,["inlinedResponses","inlinedResponses"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>B1(c))),h(e,["inlinedResponses"],l)}const r=d(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>c)),h(e,["inlinedEmbedContentResponses"],l)}return e}function l1(t){const e={},n=d(t,["predictionsFormat"]);n!=null&&h(e,["format"],n);const s=d(t,["gcsDestination","outputUriPrefix"]);s!=null&&h(e,["gcsUri"],s);const r=d(t,["bigqueryDestination","outputUri"]);return r!=null&&h(e,["bigqueryUri"],r),e}function u1(t){const e={},n=d(t,["format"]);n!=null&&h(e,["predictionsFormat"],n);const s=d(t,["gcsUri"]);s!=null&&h(e,["gcsDestination","outputUriPrefix"],s);const r=d(t,["bigqueryUri"]);if(r!=null&&h(e,["bigqueryDestination","outputUri"],r),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(d(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function yc(t){const e={},n=d(t,["name"]);n!=null&&h(e,["name"],n);const s=d(t,["metadata","displayName"]);s!=null&&h(e,["displayName"],s);const r=d(t,["metadata","state"]);r!=null&&h(e,["state"],fE(r));const l=d(t,["metadata","createTime"]);l!=null&&h(e,["createTime"],l);const c=d(t,["metadata","endTime"]);c!=null&&h(e,["endTime"],c);const g=d(t,["metadata","updateTime"]);g!=null&&h(e,["updateTime"],g);const p=d(t,["metadata","model"]);p!=null&&h(e,["model"],p);const f=d(t,["metadata","output"]);return f!=null&&h(e,["dest"],a1(dE(f))),e}function xh(t){const e={},n=d(t,["name"]);n!=null&&h(e,["name"],n);const s=d(t,["displayName"]);s!=null&&h(e,["displayName"],s);const r=d(t,["state"]);r!=null&&h(e,["state"],fE(r));const l=d(t,["error"]);l!=null&&h(e,["error"],l);const c=d(t,["createTime"]);c!=null&&h(e,["createTime"],c);const g=d(t,["startTime"]);g!=null&&h(e,["startTime"],g);const p=d(t,["endTime"]);p!=null&&h(e,["endTime"],p);const f=d(t,["updateTime"]);f!=null&&h(e,["updateTime"],f);const v=d(t,["model"]);v!=null&&h(e,["model"],v);const E=d(t,["inputConfig"]);E!=null&&h(e,["src"],c1(E));const T=d(t,["outputConfig"]);T!=null&&h(e,["dest"],l1(dE(T)));const x=d(t,["completionStats"]);return x!=null&&h(e,["completionStats"],x),e}function c1(t){const e={},n=d(t,["instancesFormat"]);n!=null&&h(e,["format"],n);const s=d(t,["gcsSource","uris"]);s!=null&&h(e,["gcsUri"],s);const r=d(t,["bigquerySource","inputUri"]);return r!=null&&h(e,["bigqueryUri"],r),e}function d1(t,e){const n={};if(d(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(d(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const s=d(e,["fileName"]);s!=null&&h(n,["fileName"],s);const r=d(e,["inlinedRequests"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>G1(t,c))),h(n,["requests","requests"],l)}return n}function f1(t){const e={},n=d(t,["format"]);n!=null&&h(e,["instancesFormat"],n);const s=d(t,["gcsUri"]);s!=null&&h(e,["gcsSource","uris"],s);const r=d(t,["bigqueryUri"]);if(r!=null&&h(e,["bigquerySource","inputUri"],r),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function h1(t){const e={},n=d(t,["data"]);if(n!=null&&h(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=d(t,["mimeType"]);return s!=null&&h(e,["mimeType"],s),e}function p1(t,e){const n={},s=d(e,["name"]);return s!=null&&h(n,["_url","name"],Fr(t,s)),n}function m1(t,e){const n={},s=d(e,["name"]);return s!=null&&h(n,["_url","name"],Fr(t,s)),n}function g1(t){const e={},n=d(t,["content"]);n!=null&&h(e,["content"],n);const s=d(t,["citationMetadata"]);s!=null&&h(e,["citationMetadata"],y1(s));const r=d(t,["tokenCount"]);r!=null&&h(e,["tokenCount"],r);const l=d(t,["finishReason"]);l!=null&&h(e,["finishReason"],l);const c=d(t,["avgLogprobs"]);c!=null&&h(e,["avgLogprobs"],c);const g=d(t,["groundingMetadata"]);g!=null&&h(e,["groundingMetadata"],g);const p=d(t,["index"]);p!=null&&h(e,["index"],p);const f=d(t,["logprobsResult"]);f!=null&&h(e,["logprobsResult"],f);const v=d(t,["safetyRatings"]);if(v!=null){let T=v;Array.isArray(T)&&(T=T.map(x=>x)),h(e,["safetyRatings"],T)}const E=d(t,["urlContextMetadata"]);return E!=null&&h(e,["urlContextMetadata"],E),e}function y1(t){const e={},n=d(t,["citationSources"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(r=>r)),h(e,["citations"],s)}return e}function hE(t){const e={},n=d(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>K1(l))),h(e,["parts"],r)}const s=d(t,["role"]);return s!=null&&h(e,["role"],s),e}function v1(t,e){const n={},s=d(t,["displayName"]);if(e!==void 0&&s!=null&&h(e,["batch","displayName"],s),d(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function _1(t,e){const n={},s=d(t,["displayName"]);e!==void 0&&s!=null&&h(e,["displayName"],s);const r=d(t,["dest"]);return e!==void 0&&r!=null&&h(e,["outputConfig"],u1(r1(r))),n}function w0(t,e){const n={},s=d(e,["model"]);s!=null&&h(n,["_url","model"],qe(t,s));const r=d(e,["src"]);r!=null&&h(n,["batch","inputConfig"],d1(t,cE(t,r)));const l=d(e,["config"]);return l!=null&&v1(l,n),n}function E1(t,e){const n={},s=d(e,["model"]);s!=null&&h(n,["model"],qe(t,s));const r=d(e,["src"]);r!=null&&h(n,["inputConfig"],f1(cE(t,r)));const l=d(e,["config"]);return l!=null&&_1(l,n),n}function T1(t,e){const n={},s=d(t,["displayName"]);return e!==void 0&&s!=null&&h(e,["batch","displayName"],s),n}function S1(t,e){const n={},s=d(e,["model"]);s!=null&&h(n,["_url","model"],qe(t,s));const r=d(e,["src"]);r!=null&&h(n,["batch","inputConfig"],I1(t,r));const l=d(e,["config"]);return l!=null&&T1(l,n),n}function A1(t,e){const n={},s=d(e,["name"]);return s!=null&&h(n,["_url","name"],Fr(t,s)),n}function C1(t,e){const n={},s=d(e,["name"]);return s!=null&&h(n,["_url","name"],Fr(t,s)),n}function w1(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const s=d(t,["name"]);s!=null&&h(e,["name"],s);const r=d(t,["done"]);r!=null&&h(e,["done"],r);const l=d(t,["error"]);return l!=null&&h(e,["error"],l),e}function x1(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const s=d(t,["name"]);s!=null&&h(e,["name"],s);const r=d(t,["done"]);r!=null&&h(e,["done"],r);const l=d(t,["error"]);return l!=null&&h(e,["error"],l),e}function b1(t,e){const n={},s=d(e,["contents"]);if(s!=null){let l=ip(t,s);Array.isArray(l)&&(l=l.map(c=>c)),h(n,["requests[]","request","content"],l)}const r=d(e,["config"]);return r!=null&&(h(n,["_self"],R1(r,n)),CC(n,{"requests[].*":"requests[].request.*"})),n}function R1(t,e){const n={},s=d(t,["taskType"]);e!==void 0&&s!=null&&h(e,["requests[]","taskType"],s);const r=d(t,["title"]);e!==void 0&&r!=null&&h(e,["requests[]","title"],r);const l=d(t,["outputDimensionality"]);if(e!==void 0&&l!=null&&h(e,["requests[]","outputDimensionality"],l),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function I1(t,e){const n={},s=d(e,["fileName"]);s!=null&&h(n,["file_name"],s);const r=d(e,["inlinedRequests"]);return r!=null&&h(n,["requests"],b1(t,r)),n}function N1(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&h(e,["fileUri"],n);const s=d(t,["mimeType"]);return s!=null&&h(e,["mimeType"],s),e}function M1(t){const e={},n=d(t,["id"]);n!=null&&h(e,["id"],n);const s=d(t,["args"]);s!=null&&h(e,["args"],s);const r=d(t,["name"]);if(r!=null&&h(e,["name"],r),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function D1(t){const e={},n=d(t,["allowedFunctionNames"]);n!=null&&h(e,["allowedFunctionNames"],n);const s=d(t,["mode"]);if(s!=null&&h(e,["mode"],s),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function k1(t,e,n){const s={},r=d(e,["systemInstruction"]);n!==void 0&&r!=null&&h(n,["systemInstruction"],hE(zt(r)));const l=d(e,["temperature"]);l!=null&&h(s,["temperature"],l);const c=d(e,["topP"]);c!=null&&h(s,["topP"],c);const g=d(e,["topK"]);g!=null&&h(s,["topK"],g);const p=d(e,["candidateCount"]);p!=null&&h(s,["candidateCount"],p);const f=d(e,["maxOutputTokens"]);f!=null&&h(s,["maxOutputTokens"],f);const v=d(e,["stopSequences"]);v!=null&&h(s,["stopSequences"],v);const E=d(e,["responseLogprobs"]);E!=null&&h(s,["responseLogprobs"],E);const T=d(e,["logprobs"]);T!=null&&h(s,["logprobs"],T);const x=d(e,["presencePenalty"]);x!=null&&h(s,["presencePenalty"],x);const M=d(e,["frequencyPenalty"]);M!=null&&h(s,["frequencyPenalty"],M);const U=d(e,["seed"]);U!=null&&h(s,["seed"],U);const k=d(e,["responseMimeType"]);k!=null&&h(s,["responseMimeType"],k);const F=d(e,["responseSchema"]);F!=null&&h(s,["responseSchema"],op(F));const Y=d(e,["responseJsonSchema"]);if(Y!=null&&h(s,["responseJsonSchema"],Y),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const B=d(e,["safetySettings"]);if(n!==void 0&&B!=null){let P=B;Array.isArray(P)&&(P=P.map(Ae=>X1(Ae))),h(n,["safetySettings"],P)}const oe=d(e,["tools"]);if(n!==void 0&&oe!=null){let P=qr(oe);Array.isArray(P)&&(P=P.map(Ae=>W1(zr(Ae)))),h(n,["tools"],P)}const se=d(e,["toolConfig"]);if(n!==void 0&&se!=null&&h(n,["toolConfig"],Q1(se)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ae=d(e,["cachedContent"]);n!==void 0&&ae!=null&&h(n,["cachedContent"],Qi(t,ae));const D=d(e,["responseModalities"]);D!=null&&h(s,["responseModalities"],D);const N=d(e,["mediaResolution"]);N!=null&&h(s,["mediaResolution"],N);const I=d(e,["speechConfig"]);if(I!=null&&h(s,["speechConfig"],sp(I)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const O=d(e,["thinkingConfig"]);O!=null&&h(s,["thinkingConfig"],O);const L=d(e,["imageConfig"]);L!=null&&h(s,["imageConfig"],H1(L));const z=d(e,["enableEnhancedCivicAnswers"]);return z!=null&&h(s,["enableEnhancedCivicAnswers"],z),s}function P1(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const s=d(t,["candidates"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(f=>g1(f))),h(e,["candidates"],p)}const r=d(t,["modelVersion"]);r!=null&&h(e,["modelVersion"],r);const l=d(t,["promptFeedback"]);l!=null&&h(e,["promptFeedback"],l);const c=d(t,["responseId"]);c!=null&&h(e,["responseId"],c);const g=d(t,["usageMetadata"]);return g!=null&&h(e,["usageMetadata"],g),e}function U1(t,e){const n={},s=d(e,["name"]);return s!=null&&h(n,["_url","name"],Fr(t,s)),n}function L1(t,e){const n={},s=d(e,["name"]);return s!=null&&h(n,["_url","name"],Fr(t,s)),n}function O1(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&h(e,["enableWidget"],n),e}function V1(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&h(e,["timeRangeFilter"],n),e}function H1(t){const e={},n=d(t,["aspectRatio"]);n!=null&&h(e,["aspectRatio"],n);const s=d(t,["imageSize"]);if(s!=null&&h(e,["imageSize"],s),d(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(d(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function G1(t,e){const n={},s=d(e,["model"]);s!=null&&h(n,["request","model"],qe(t,s));const r=d(e,["contents"]);if(r!=null){let g=xn(r);Array.isArray(g)&&(g=g.map(p=>hE(p))),h(n,["request","contents"],g)}const l=d(e,["metadata"]);l!=null&&h(n,["metadata"],l);const c=d(e,["config"]);return c!=null&&h(n,["request","generationConfig"],k1(t,c,d(n,["request"],{}))),n}function B1(t){const e={},n=d(t,["response"]);n!=null&&h(e,["response"],P1(n));const s=d(t,["error"]);return s!=null&&h(e,["error"],s),e}function z1(t,e){const n={},s=d(t,["pageSize"]);e!==void 0&&s!=null&&h(e,["_query","pageSize"],s);const r=d(t,["pageToken"]);if(e!==void 0&&r!=null&&h(e,["_query","pageToken"],r),d(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function q1(t,e){const n={},s=d(t,["pageSize"]);e!==void 0&&s!=null&&h(e,["_query","pageSize"],s);const r=d(t,["pageToken"]);e!==void 0&&r!=null&&h(e,["_query","pageToken"],r);const l=d(t,["filter"]);return e!==void 0&&l!=null&&h(e,["_query","filter"],l),n}function F1(t){const e={},n=d(t,["config"]);return n!=null&&z1(n,e),e}function Y1(t){const e={},n=d(t,["config"]);return n!=null&&q1(n,e),e}function J1(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const s=d(t,["nextPageToken"]);s!=null&&h(e,["nextPageToken"],s);const r=d(t,["operations"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>yc(c))),h(e,["batchJobs"],l)}return e}function $1(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const s=d(t,["nextPageToken"]);s!=null&&h(e,["nextPageToken"],s);const r=d(t,["batchPredictionJobs"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>xh(c))),h(e,["batchJobs"],l)}return e}function K1(t){const e={},n=d(t,["mediaResolution"]);n!=null&&h(e,["mediaResolution"],n);const s=d(t,["codeExecutionResult"]);s!=null&&h(e,["codeExecutionResult"],s);const r=d(t,["executableCode"]);r!=null&&h(e,["executableCode"],r);const l=d(t,["fileData"]);l!=null&&h(e,["fileData"],N1(l));const c=d(t,["functionCall"]);c!=null&&h(e,["functionCall"],M1(c));const g=d(t,["functionResponse"]);g!=null&&h(e,["functionResponse"],g);const p=d(t,["inlineData"]);p!=null&&h(e,["inlineData"],h1(p));const f=d(t,["text"]);f!=null&&h(e,["text"],f);const v=d(t,["thought"]);v!=null&&h(e,["thought"],v);const E=d(t,["thoughtSignature"]);E!=null&&h(e,["thoughtSignature"],E);const T=d(t,["videoMetadata"]);return T!=null&&h(e,["videoMetadata"],T),e}function X1(t){const e={},n=d(t,["category"]);if(n!=null&&h(e,["category"],n),d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=d(t,["threshold"]);return s!=null&&h(e,["threshold"],s),e}function Q1(t){const e={},n=d(t,["retrievalConfig"]);n!=null&&h(e,["retrievalConfig"],n);const s=d(t,["functionCallingConfig"]);return s!=null&&h(e,["functionCallingConfig"],D1(s)),e}function W1(t){const e={};if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=d(t,["computerUse"]);n!=null&&h(e,["computerUse"],n);const s=d(t,["fileSearch"]);s!=null&&h(e,["fileSearch"],s);const r=d(t,["codeExecution"]);if(r!=null&&h(e,["codeExecution"],r),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=d(t,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(E=>E)),h(e,["functionDeclarations"],v)}const c=d(t,["googleMaps"]);c!=null&&h(e,["googleMaps"],O1(c));const g=d(t,["googleSearch"]);g!=null&&h(e,["googleSearch"],V1(g));const p=d(t,["googleSearchRetrieval"]);p!=null&&h(e,["googleSearchRetrieval"],p);const f=d(t,["urlContext"]);return f!=null&&h(e,["urlContext"],f),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Yi;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Yi||(Yi={}));class Ls{constructor(e,n,s,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,s,r)}init(e,n,s){var r,l;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let c={config:{}};!s||Object.keys(s).length===0?c={config:{}}:typeof s=="object"?c=Object.assign({},s):c=s,c.config&&(c.config.pageToken=n.nextPageToken),this.paramsInternal=c,this.pageInternalSize=(l=(r=c.config)===null||r===void 0?void 0:r.pageSize)!==null&&l!==void 0?l:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Z1 extends Xi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ls(Yi.PAGED_ITEM_BATCH_JOBS,s=>this.listInternal(s),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=w0(this.apiClient,e),s=n._url,r=ce("{model}:batchGenerateContent",s),g=n.batch.inputConfig.requests,p=g.requests,f=[];for(const v of p){const E=Object.assign({},v);if(E.systemInstruction){const T=E.systemInstruction;delete E.systemInstruction;const x=E.request;x.systemInstruction=T,E.request=x}f.push(E)}return g.requests=f,delete n.config,delete n._url,delete n._query,{path:r,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const s=n?Object.assign({},n):{},r=Date.now().toString();if(s.displayName||(s.displayName=`genaiBatchJob_${r}`),s.dest===void 0){const l=this.getGcsUri(e),c=this.getBigqueryUri(e);if(l)l.endsWith(".jsonl")?s.dest=`${l.slice(0,-6)}/dest`:s.dest=`${l}_dest_${r}`;else if(c)s.dest=`${c}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return s}async createInternal(e){var n,s,r,l;let c,g="",p={};if(this.apiClient.isVertexAI()){const f=E1(this.apiClient,e);return g=ce("batchPredictionJobs",f._url),p=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:g,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>xh(v))}else{const f=w0(this.apiClient,e);return g=ce("{model}:batchGenerateContent",f._url),p=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:g,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>yc(v))}}async createEmbeddingsInternal(e){var n,s;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=S1(this.apiClient,e);return l=ce("{model}:asyncBatchEmbedContent",g._url),c=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),r.then(p=>yc(p))}}async get(e){var n,s,r,l;let c,g="",p={};if(this.apiClient.isVertexAI()){const f=L1(this.apiClient,e);return g=ce("batchPredictionJobs/{name}",f._url),p=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:g,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>xh(v))}else{const f=U1(this.apiClient,e);return g=ce("batches/{name}",f._url),p=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:g,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>yc(v))}}async cancel(e){var n,s,r,l;let c="",g={};if(this.apiClient.isVertexAI()){const p=m1(this.apiClient,e);c=ce("batchPredictionJobs/{name}:cancel",p._url),g=p._query,delete p._url,delete p._query,await this.apiClient.request({path:c,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}else{const p=p1(this.apiClient,e);c=ce("batches/{name}:cancel",p._url),g=p._query,delete p._url,delete p._query,await this.apiClient.request({path:c,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(e){var n,s,r,l;let c,g="",p={};if(this.apiClient.isVertexAI()){const f=Y1(e);return g=ce("batchPredictionJobs",f._url),p=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:g,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),c.then(v=>{const E=$1(v),T=new T0;return Object.assign(T,E),T})}else{const f=F1(e);return g=ce("batches",f._url),p=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:g,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),c.then(v=>{const E=J1(v),T=new T0;return Object.assign(T,E),T})}}async delete(e){var n,s,r,l;let c,g="",p={};if(this.apiClient.isVertexAI()){const f=C1(this.apiClient,e);return g=ce("batchPredictionJobs/{name}",f._url),p=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:g,queryParams:p,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),c.then(v=>x1(v))}else{const f=A1(this.apiClient,e);return g=ce("batches/{name}",f._url),p=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:g,queryParams:p,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),c.then(v=>w1(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function j1(t){const e={},n=d(t,["data"]);if(n!=null&&h(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=d(t,["mimeType"]);return s!=null&&h(e,["mimeType"],s),e}function x0(t){const e={},n=d(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>Sw(l))),h(e,["parts"],r)}const s=d(t,["role"]);return s!=null&&h(e,["role"],s),e}function ew(t,e){const n={},s=d(t,["ttl"]);e!==void 0&&s!=null&&h(e,["ttl"],s);const r=d(t,["expireTime"]);e!==void 0&&r!=null&&h(e,["expireTime"],r);const l=d(t,["displayName"]);e!==void 0&&l!=null&&h(e,["displayName"],l);const c=d(t,["contents"]);if(e!==void 0&&c!=null){let v=xn(c);Array.isArray(v)&&(v=v.map(E=>x0(E))),h(e,["contents"],v)}const g=d(t,["systemInstruction"]);e!==void 0&&g!=null&&h(e,["systemInstruction"],x0(zt(g)));const p=d(t,["tools"]);if(e!==void 0&&p!=null){let v=p;Array.isArray(v)&&(v=v.map(E=>Cw(E))),h(e,["tools"],v)}const f=d(t,["toolConfig"]);if(e!==void 0&&f!=null&&h(e,["toolConfig"],Aw(f)),d(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function tw(t,e){const n={},s=d(t,["ttl"]);e!==void 0&&s!=null&&h(e,["ttl"],s);const r=d(t,["expireTime"]);e!==void 0&&r!=null&&h(e,["expireTime"],r);const l=d(t,["displayName"]);e!==void 0&&l!=null&&h(e,["displayName"],l);const c=d(t,["contents"]);if(e!==void 0&&c!=null){let E=xn(c);Array.isArray(E)&&(E=E.map(T=>T)),h(e,["contents"],E)}const g=d(t,["systemInstruction"]);e!==void 0&&g!=null&&h(e,["systemInstruction"],zt(g));const p=d(t,["tools"]);if(e!==void 0&&p!=null){let E=p;Array.isArray(E)&&(E=E.map(T=>ww(T))),h(e,["tools"],E)}const f=d(t,["toolConfig"]);e!==void 0&&f!=null&&h(e,["toolConfig"],f);const v=d(t,["kmsKeyName"]);return e!==void 0&&v!=null&&h(e,["encryption_spec","kmsKeyName"],v),n}function nw(t,e){const n={},s=d(e,["model"]);s!=null&&h(n,["model"],tE(t,s));const r=d(e,["config"]);return r!=null&&ew(r,n),n}function iw(t,e){const n={},s=d(e,["model"]);s!=null&&h(n,["model"],tE(t,s));const r=d(e,["config"]);return r!=null&&tw(r,n),n}function ow(t,e){const n={},s=d(e,["name"]);return s!=null&&h(n,["_url","name"],Qi(t,s)),n}function sw(t,e){const n={},s=d(e,["name"]);return s!=null&&h(n,["_url","name"],Qi(t,s)),n}function rw(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&h(e,["sdkHttpResponse"],n),e}function aw(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&h(e,["sdkHttpResponse"],n),e}function lw(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&h(e,["fileUri"],n);const s=d(t,["mimeType"]);return s!=null&&h(e,["mimeType"],s),e}function uw(t){const e={},n=d(t,["id"]);n!=null&&h(e,["id"],n);const s=d(t,["args"]);s!=null&&h(e,["args"],s);const r=d(t,["name"]);if(r!=null&&h(e,["name"],r),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function cw(t){const e={},n=d(t,["allowedFunctionNames"]);n!=null&&h(e,["allowedFunctionNames"],n);const s=d(t,["mode"]);if(s!=null&&h(e,["mode"],s),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function dw(t){const e={},n=d(t,["description"]);n!=null&&h(e,["description"],n);const s=d(t,["name"]);s!=null&&h(e,["name"],s);const r=d(t,["parameters"]);r!=null&&h(e,["parameters"],r);const l=d(t,["parametersJsonSchema"]);l!=null&&h(e,["parametersJsonSchema"],l);const c=d(t,["response"]);c!=null&&h(e,["response"],c);const g=d(t,["responseJsonSchema"]);if(g!=null&&h(e,["responseJsonSchema"],g),d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function fw(t,e){const n={},s=d(e,["name"]);return s!=null&&h(n,["_url","name"],Qi(t,s)),n}function hw(t,e){const n={},s=d(e,["name"]);return s!=null&&h(n,["_url","name"],Qi(t,s)),n}function pw(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&h(e,["enableWidget"],n),e}function mw(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&h(e,["timeRangeFilter"],n),e}function gw(t,e){const n={},s=d(t,["pageSize"]);e!==void 0&&s!=null&&h(e,["_query","pageSize"],s);const r=d(t,["pageToken"]);return e!==void 0&&r!=null&&h(e,["_query","pageToken"],r),n}function yw(t,e){const n={},s=d(t,["pageSize"]);e!==void 0&&s!=null&&h(e,["_query","pageSize"],s);const r=d(t,["pageToken"]);return e!==void 0&&r!=null&&h(e,["_query","pageToken"],r),n}function vw(t){const e={},n=d(t,["config"]);return n!=null&&gw(n,e),e}function _w(t){const e={},n=d(t,["config"]);return n!=null&&yw(n,e),e}function Ew(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const s=d(t,["nextPageToken"]);s!=null&&h(e,["nextPageToken"],s);const r=d(t,["cachedContents"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>c)),h(e,["cachedContents"],l)}return e}function Tw(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const s=d(t,["nextPageToken"]);s!=null&&h(e,["nextPageToken"],s);const r=d(t,["cachedContents"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>c)),h(e,["cachedContents"],l)}return e}function Sw(t){const e={},n=d(t,["mediaResolution"]);n!=null&&h(e,["mediaResolution"],n);const s=d(t,["codeExecutionResult"]);s!=null&&h(e,["codeExecutionResult"],s);const r=d(t,["executableCode"]);r!=null&&h(e,["executableCode"],r);const l=d(t,["fileData"]);l!=null&&h(e,["fileData"],lw(l));const c=d(t,["functionCall"]);c!=null&&h(e,["functionCall"],uw(c));const g=d(t,["functionResponse"]);g!=null&&h(e,["functionResponse"],g);const p=d(t,["inlineData"]);p!=null&&h(e,["inlineData"],j1(p));const f=d(t,["text"]);f!=null&&h(e,["text"],f);const v=d(t,["thought"]);v!=null&&h(e,["thought"],v);const E=d(t,["thoughtSignature"]);E!=null&&h(e,["thoughtSignature"],E);const T=d(t,["videoMetadata"]);return T!=null&&h(e,["videoMetadata"],T),e}function Aw(t){const e={},n=d(t,["retrievalConfig"]);n!=null&&h(e,["retrievalConfig"],n);const s=d(t,["functionCallingConfig"]);return s!=null&&h(e,["functionCallingConfig"],cw(s)),e}function Cw(t){const e={};if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=d(t,["computerUse"]);n!=null&&h(e,["computerUse"],n);const s=d(t,["fileSearch"]);s!=null&&h(e,["fileSearch"],s);const r=d(t,["codeExecution"]);if(r!=null&&h(e,["codeExecution"],r),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=d(t,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(E=>E)),h(e,["functionDeclarations"],v)}const c=d(t,["googleMaps"]);c!=null&&h(e,["googleMaps"],pw(c));const g=d(t,["googleSearch"]);g!=null&&h(e,["googleSearch"],mw(g));const p=d(t,["googleSearchRetrieval"]);p!=null&&h(e,["googleSearchRetrieval"],p);const f=d(t,["urlContext"]);return f!=null&&h(e,["urlContext"],f),e}function ww(t){const e={},n=d(t,["retrieval"]);n!=null&&h(e,["retrieval"],n);const s=d(t,["computerUse"]);if(s!=null&&h(e,["computerUse"],s),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=d(t,["codeExecution"]);r!=null&&h(e,["codeExecution"],r);const l=d(t,["enterpriseWebSearch"]);l!=null&&h(e,["enterpriseWebSearch"],l);const c=d(t,["functionDeclarations"]);if(c!=null){let E=c;Array.isArray(E)&&(E=E.map(T=>dw(T))),h(e,["functionDeclarations"],E)}const g=d(t,["googleMaps"]);g!=null&&h(e,["googleMaps"],g);const p=d(t,["googleSearch"]);p!=null&&h(e,["googleSearch"],p);const f=d(t,["googleSearchRetrieval"]);f!=null&&h(e,["googleSearchRetrieval"],f);const v=d(t,["urlContext"]);return v!=null&&h(e,["urlContext"],v),e}function xw(t,e){const n={},s=d(t,["ttl"]);e!==void 0&&s!=null&&h(e,["ttl"],s);const r=d(t,["expireTime"]);return e!==void 0&&r!=null&&h(e,["expireTime"],r),n}function bw(t,e){const n={},s=d(t,["ttl"]);e!==void 0&&s!=null&&h(e,["ttl"],s);const r=d(t,["expireTime"]);return e!==void 0&&r!=null&&h(e,["expireTime"],r),n}function Rw(t,e){const n={},s=d(e,["name"]);s!=null&&h(n,["_url","name"],Qi(t,s));const r=d(e,["config"]);return r!=null&&xw(r,n),n}function Iw(t,e){const n={},s=d(e,["name"]);s!=null&&h(n,["_url","name"],Qi(t,s));const r=d(e,["config"]);return r!=null&&bw(r,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nw extends Xi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ls(Yi.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),await this.listInternal(n),n)}async create(e){var n,s,r,l;let c,g="",p={};if(this.apiClient.isVertexAI()){const f=iw(this.apiClient,e);return g=ce("cachedContents",f._url),p=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:g,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>v)}else{const f=nw(this.apiClient,e);return g=ce("cachedContents",f._url),p=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:g,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>v)}}async get(e){var n,s,r,l;let c,g="",p={};if(this.apiClient.isVertexAI()){const f=hw(this.apiClient,e);return g=ce("{name}",f._url),p=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:g,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>v)}else{const f=fw(this.apiClient,e);return g=ce("{name}",f._url),p=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:g,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>v)}}async delete(e){var n,s,r,l;let c,g="",p={};if(this.apiClient.isVertexAI()){const f=sw(this.apiClient,e);return g=ce("{name}",f._url),p=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:g,queryParams:p,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),c.then(v=>{const E=aw(v),T=new _0;return Object.assign(T,E),T})}else{const f=ow(this.apiClient,e);return g=ce("{name}",f._url),p=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:g,queryParams:p,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),c.then(v=>{const E=rw(v),T=new _0;return Object.assign(T,E),T})}}async update(e){var n,s,r,l;let c,g="",p={};if(this.apiClient.isVertexAI()){const f=Iw(this.apiClient,e);return g=ce("{name}",f._url),p=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:g,queryParams:p,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>v)}else{const f=Rw(this.apiClient,e);return g=ce("{name}",f._url),p=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:g,queryParams:p,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>v)}}async listInternal(e){var n,s,r,l;let c,g="",p={};if(this.apiClient.isVertexAI()){const f=_w(e);return g=ce("cachedContents",f._url),p=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:g,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),c.then(v=>{const E=Tw(v),T=new E0;return Object.assign(T,E),T})}else{const f=vw(e);return g=ce("cachedContents",f._url),p=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:g,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),c.then(v=>{const E=Ew(v),T=new E0;return Object.assign(T,E),T})}}}function Ic(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n}function b0(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],s=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Te(t){return this instanceof Te?(this.v=t,this):new Te(t)}function Fn(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(t,e||[]),r,l=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",c),r[Symbol.asyncIterator]=function(){return this},r;function c(x){return function(M){return Promise.resolve(M).then(x,E)}}function g(x,M){s[x]&&(r[x]=function(U){return new Promise(function(k,F){l.push([x,U,k,F])>1||p(x,U)})},M&&(r[x]=M(r[x])))}function p(x,M){try{f(s[x](M))}catch(U){T(l[0][3],U)}}function f(x){x.value instanceof Te?Promise.resolve(x.value.v).then(v,E):T(l[0][2],x)}function v(x){p("next",x)}function E(x){p("throw",x)}function T(x,M){x(M),l.shift(),l.length&&p(l[0][0],l[0][1])}}function Yn(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof b0=="function"?b0(t):t[Symbol.iterator](),n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n);function s(l){n[l]=t[l]&&function(c){return new Promise(function(g,p){c=t[l](c),r(g,p,c.done,c.value)})}}function r(l,c,g,p){Promise.resolve(p).then(function(f){l({value:f,done:g})},c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mw(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:pE(n)}function pE(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Dw(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function R0(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let s=0;for(;s<n;)if(t[s].role==="user")e.push(t[s]),s++;else{const r=[];let l=!0;for(;s<n&&t[s].role==="model";)r.push(t[s]),l&&!pE(t[s])&&(l=!1),s++;l?e.push(...r):e.pop()}return e}class kw{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new Pw(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Pw{constructor(e,n,s,r={},l=[]){this.apiClient=e,this.modelsModule=n,this.model=s,this.config=r,this.history=l,this.sendPromise=Promise.resolve(),Dw(l)}async sendMessage(e){var n;await this.sendPromise;const s=zt(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(s),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var l,c,g;const p=await r,f=(c=(l=p.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content,v=p.automaticFunctionCallingHistory,E=this.getHistory(!0).length;let T=[];v!=null&&(T=(g=v.slice(E))!==null&&g!==void 0?g:[]);const x=f?[f]:[];this.recordHistory(s,x,T)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var n;await this.sendPromise;const s=zt(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(s),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const l=await r;return this.processStreamResponse(l,s)}getHistory(e=!1){const n=e?R0(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return Fn(this,arguments,function*(){var r,l,c,g,p,f;const v=[];try{for(var E=!0,T=Yn(e),x;x=yield Te(T.next()),r=x.done,!r;E=!0){g=x.value,E=!1;const M=g;if(Mw(M)){const U=(f=(p=M.candidates)===null||p===void 0?void 0:p[0])===null||f===void 0?void 0:f.content;U!==void 0&&v.push(U)}yield yield Te(M)}}catch(M){l={error:M}}finally{try{!E&&!r&&(c=T.return)&&(yield Te(c.call(T)))}finally{if(l)throw l.error}}this.recordHistory(n,v)})}recordHistory(e,n,s){let r=[];n.length>0&&n.every(l=>l.role!==void 0)?r=n:r.push({role:"model",parts:[]}),s&&s.length>0?this.history.push(...R0(s)):this.history.push(e),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qc extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,qc.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Uw(t){const e={},n=d(t,["file"]);return n!=null&&h(e,["file"],n),e}function Lw(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&h(e,["sdkHttpResponse"],n),e}function Ow(t){const e={},n=d(t,["name"]);return n!=null&&h(e,["_url","file"],aE(n)),e}function Vw(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&h(e,["sdkHttpResponse"],n),e}function Hw(t){const e={},n=d(t,["name"]);return n!=null&&h(e,["_url","file"],aE(n)),e}function Gw(t,e){const n={},s=d(t,["pageSize"]);e!==void 0&&s!=null&&h(e,["_query","pageSize"],s);const r=d(t,["pageToken"]);return e!==void 0&&r!=null&&h(e,["_query","pageToken"],r),n}function Bw(t){const e={},n=d(t,["config"]);return n!=null&&Gw(n,e),e}function zw(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const s=d(t,["nextPageToken"]);s!=null&&h(e,["nextPageToken"],s);const r=d(t,["files"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>c)),h(e,["files"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qw extends Xi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ls(Yi.PAGED_ITEM_FILES,s=>this.listInternal(s),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,s;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Bw(e);return l=ce("files",g._url),c=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(f=>{const v=f;return v.sdkHttpResponse={headers:p.headers},v})),r.then(p=>{const f=zw(p),v=new $C;return Object.assign(v,f),v})}}async createInternal(e){var n,s;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Uw(e);return l=ce("upload/v1beta/files",g._url),c=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),r.then(p=>{const f=Lw(p),v=new KC;return Object.assign(v,f),v})}}async get(e){var n,s;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Hw(e);return l=ce("files/{file}",g._url),c=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),r.then(p=>p)}}async delete(e){var n,s;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Ow(e);return l=ce("files/{file}",g._url),c=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(f=>{const v=f;return v.sdkHttpResponse={headers:p.headers},v})),r.then(p=>{const f=Vw(p),v=new XC;return Object.assign(v,f),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vc(t){const e={},n=d(t,["data"]);if(n!=null&&h(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=d(t,["mimeType"]);return s!=null&&h(e,["mimeType"],s),e}function Fw(t){const e={},n=d(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>rx(l))),h(e,["parts"],r)}const s=d(t,["role"]);return s!=null&&h(e,["role"],s),e}function Yw(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&h(e,["fileUri"],n);const s=d(t,["mimeType"]);return s!=null&&h(e,["mimeType"],s),e}function Jw(t){const e={},n=d(t,["id"]);n!=null&&h(e,["id"],n);const s=d(t,["args"]);s!=null&&h(e,["args"],s);const r=d(t,["name"]);if(r!=null&&h(e,["name"],r),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function $w(t){const e={},n=d(t,["description"]);n!=null&&h(e,["description"],n);const s=d(t,["name"]);s!=null&&h(e,["name"],s);const r=d(t,["parameters"]);r!=null&&h(e,["parameters"],r);const l=d(t,["parametersJsonSchema"]);l!=null&&h(e,["parametersJsonSchema"],l);const c=d(t,["response"]);c!=null&&h(e,["response"],c);const g=d(t,["responseJsonSchema"]);if(g!=null&&h(e,["responseJsonSchema"],g),d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function Kw(t){const e={},n=d(t,["modelSelectionConfig"]);n!=null&&h(e,["modelConfig"],n);const s=d(t,["responseJsonSchema"]);s!=null&&h(e,["responseJsonSchema"],s);const r=d(t,["audioTimestamp"]);r!=null&&h(e,["audioTimestamp"],r);const l=d(t,["candidateCount"]);l!=null&&h(e,["candidateCount"],l);const c=d(t,["enableAffectiveDialog"]);c!=null&&h(e,["enableAffectiveDialog"],c);const g=d(t,["frequencyPenalty"]);g!=null&&h(e,["frequencyPenalty"],g);const p=d(t,["logprobs"]);p!=null&&h(e,["logprobs"],p);const f=d(t,["maxOutputTokens"]);f!=null&&h(e,["maxOutputTokens"],f);const v=d(t,["mediaResolution"]);v!=null&&h(e,["mediaResolution"],v);const E=d(t,["presencePenalty"]);E!=null&&h(e,["presencePenalty"],E);const T=d(t,["responseLogprobs"]);T!=null&&h(e,["responseLogprobs"],T);const x=d(t,["responseMimeType"]);x!=null&&h(e,["responseMimeType"],x);const M=d(t,["responseModalities"]);M!=null&&h(e,["responseModalities"],M);const U=d(t,["responseSchema"]);U!=null&&h(e,["responseSchema"],U);const k=d(t,["routingConfig"]);k!=null&&h(e,["routingConfig"],k);const F=d(t,["seed"]);F!=null&&h(e,["seed"],F);const Y=d(t,["speechConfig"]);Y!=null&&h(e,["speechConfig"],Y);const B=d(t,["stopSequences"]);B!=null&&h(e,["stopSequences"],B);const oe=d(t,["temperature"]);oe!=null&&h(e,["temperature"],oe);const se=d(t,["thinkingConfig"]);se!=null&&h(e,["thinkingConfig"],se);const ae=d(t,["topK"]);ae!=null&&h(e,["topK"],ae);const D=d(t,["topP"]);if(D!=null&&h(e,["topP"],D),d(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Xw(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&h(e,["enableWidget"],n),e}function Qw(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&h(e,["timeRangeFilter"],n),e}function Ww(t,e){const n={},s=d(t,["generationConfig"]);e!==void 0&&s!=null&&h(e,["setup","generationConfig"],s);const r=d(t,["responseModalities"]);e!==void 0&&r!=null&&h(e,["setup","generationConfig","responseModalities"],r);const l=d(t,["temperature"]);e!==void 0&&l!=null&&h(e,["setup","generationConfig","temperature"],l);const c=d(t,["topP"]);e!==void 0&&c!=null&&h(e,["setup","generationConfig","topP"],c);const g=d(t,["topK"]);e!==void 0&&g!=null&&h(e,["setup","generationConfig","topK"],g);const p=d(t,["maxOutputTokens"]);e!==void 0&&p!=null&&h(e,["setup","generationConfig","maxOutputTokens"],p);const f=d(t,["mediaResolution"]);e!==void 0&&f!=null&&h(e,["setup","generationConfig","mediaResolution"],f);const v=d(t,["seed"]);e!==void 0&&v!=null&&h(e,["setup","generationConfig","seed"],v);const E=d(t,["speechConfig"]);e!==void 0&&E!=null&&h(e,["setup","generationConfig","speechConfig"],rp(E));const T=d(t,["thinkingConfig"]);e!==void 0&&T!=null&&h(e,["setup","generationConfig","thinkingConfig"],T);const x=d(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&h(e,["setup","generationConfig","enableAffectiveDialog"],x);const M=d(t,["systemInstruction"]);e!==void 0&&M!=null&&h(e,["setup","systemInstruction"],Fw(zt(M)));const U=d(t,["tools"]);if(e!==void 0&&U!=null){let ae=qr(U);Array.isArray(ae)&&(ae=ae.map(D=>lx(zr(D)))),h(e,["setup","tools"],ae)}const k=d(t,["sessionResumption"]);e!==void 0&&k!=null&&h(e,["setup","sessionResumption"],ax(k));const F=d(t,["inputAudioTranscription"]);e!==void 0&&F!=null&&h(e,["setup","inputAudioTranscription"],F);const Y=d(t,["outputAudioTranscription"]);e!==void 0&&Y!=null&&h(e,["setup","outputAudioTranscription"],Y);const B=d(t,["realtimeInputConfig"]);e!==void 0&&B!=null&&h(e,["setup","realtimeInputConfig"],B);const oe=d(t,["contextWindowCompression"]);e!==void 0&&oe!=null&&h(e,["setup","contextWindowCompression"],oe);const se=d(t,["proactivity"]);if(e!==void 0&&se!=null&&h(e,["setup","proactivity"],se),d(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function Zw(t,e){const n={},s=d(t,["generationConfig"]);e!==void 0&&s!=null&&h(e,["setup","generationConfig"],Kw(s));const r=d(t,["responseModalities"]);e!==void 0&&r!=null&&h(e,["setup","generationConfig","responseModalities"],r);const l=d(t,["temperature"]);e!==void 0&&l!=null&&h(e,["setup","generationConfig","temperature"],l);const c=d(t,["topP"]);e!==void 0&&c!=null&&h(e,["setup","generationConfig","topP"],c);const g=d(t,["topK"]);e!==void 0&&g!=null&&h(e,["setup","generationConfig","topK"],g);const p=d(t,["maxOutputTokens"]);e!==void 0&&p!=null&&h(e,["setup","generationConfig","maxOutputTokens"],p);const f=d(t,["mediaResolution"]);e!==void 0&&f!=null&&h(e,["setup","generationConfig","mediaResolution"],f);const v=d(t,["seed"]);e!==void 0&&v!=null&&h(e,["setup","generationConfig","seed"],v);const E=d(t,["speechConfig"]);e!==void 0&&E!=null&&h(e,["setup","generationConfig","speechConfig"],rp(E));const T=d(t,["thinkingConfig"]);e!==void 0&&T!=null&&h(e,["setup","generationConfig","thinkingConfig"],T);const x=d(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&h(e,["setup","generationConfig","enableAffectiveDialog"],x);const M=d(t,["systemInstruction"]);e!==void 0&&M!=null&&h(e,["setup","systemInstruction"],zt(M));const U=d(t,["tools"]);if(e!==void 0&&U!=null){let D=qr(U);Array.isArray(D)&&(D=D.map(N=>ux(zr(N)))),h(e,["setup","tools"],D)}const k=d(t,["sessionResumption"]);e!==void 0&&k!=null&&h(e,["setup","sessionResumption"],k);const F=d(t,["inputAudioTranscription"]);e!==void 0&&F!=null&&h(e,["setup","inputAudioTranscription"],F);const Y=d(t,["outputAudioTranscription"]);e!==void 0&&Y!=null&&h(e,["setup","outputAudioTranscription"],Y);const B=d(t,["realtimeInputConfig"]);e!==void 0&&B!=null&&h(e,["setup","realtimeInputConfig"],B);const oe=d(t,["contextWindowCompression"]);e!==void 0&&oe!=null&&h(e,["setup","contextWindowCompression"],oe);const se=d(t,["proactivity"]);e!==void 0&&se!=null&&h(e,["setup","proactivity"],se);const ae=d(t,["explicitVadSignal"]);return e!==void 0&&ae!=null&&h(e,["setup","explicitVadSignal"],ae),n}function jw(t,e){const n={},s=d(e,["model"]);s!=null&&h(n,["setup","model"],qe(t,s));const r=d(e,["config"]);return r!=null&&h(n,["config"],Ww(r,n)),n}function ex(t,e){const n={},s=d(e,["model"]);s!=null&&h(n,["setup","model"],qe(t,s));const r=d(e,["config"]);return r!=null&&h(n,["config"],Zw(r,n)),n}function tx(t){const e={},n=d(t,["musicGenerationConfig"]);return n!=null&&h(e,["musicGenerationConfig"],n),e}function nx(t){const e={},n=d(t,["weightedPrompts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(r=>r)),h(e,["weightedPrompts"],s)}return e}function ix(t){const e={},n=d(t,["media"]);if(n!=null){let f=nE(n);Array.isArray(f)&&(f=f.map(v=>vc(v))),h(e,["mediaChunks"],f)}const s=d(t,["audio"]);s!=null&&h(e,["audio"],vc(oE(s)));const r=d(t,["audioStreamEnd"]);r!=null&&h(e,["audioStreamEnd"],r);const l=d(t,["video"]);l!=null&&h(e,["video"],vc(iE(l)));const c=d(t,["text"]);c!=null&&h(e,["text"],c);const g=d(t,["activityStart"]);g!=null&&h(e,["activityStart"],g);const p=d(t,["activityEnd"]);return p!=null&&h(e,["activityEnd"],p),e}function ox(t){const e={},n=d(t,["media"]);if(n!=null){let f=nE(n);Array.isArray(f)&&(f=f.map(v=>v)),h(e,["mediaChunks"],f)}const s=d(t,["audio"]);s!=null&&h(e,["audio"],oE(s));const r=d(t,["audioStreamEnd"]);r!=null&&h(e,["audioStreamEnd"],r);const l=d(t,["video"]);l!=null&&h(e,["video"],iE(l));const c=d(t,["text"]);c!=null&&h(e,["text"],c);const g=d(t,["activityStart"]);g!=null&&h(e,["activityStart"],g);const p=d(t,["activityEnd"]);return p!=null&&h(e,["activityEnd"],p),e}function sx(t){const e={},n=d(t,["setupComplete"]);n!=null&&h(e,["setupComplete"],n);const s=d(t,["serverContent"]);s!=null&&h(e,["serverContent"],s);const r=d(t,["toolCall"]);r!=null&&h(e,["toolCall"],r);const l=d(t,["toolCallCancellation"]);l!=null&&h(e,["toolCallCancellation"],l);const c=d(t,["usageMetadata"]);c!=null&&h(e,["usageMetadata"],cx(c));const g=d(t,["goAway"]);g!=null&&h(e,["goAway"],g);const p=d(t,["sessionResumptionUpdate"]);p!=null&&h(e,["sessionResumptionUpdate"],p);const f=d(t,["voiceActivityDetectionSignal"]);f!=null&&h(e,["voiceActivityDetectionSignal"],f);const v=d(t,["voiceActivity"]);return v!=null&&h(e,["voiceActivity"],dx(v)),e}function rx(t){const e={},n=d(t,["mediaResolution"]);n!=null&&h(e,["mediaResolution"],n);const s=d(t,["codeExecutionResult"]);s!=null&&h(e,["codeExecutionResult"],s);const r=d(t,["executableCode"]);r!=null&&h(e,["executableCode"],r);const l=d(t,["fileData"]);l!=null&&h(e,["fileData"],Yw(l));const c=d(t,["functionCall"]);c!=null&&h(e,["functionCall"],Jw(c));const g=d(t,["functionResponse"]);g!=null&&h(e,["functionResponse"],g);const p=d(t,["inlineData"]);p!=null&&h(e,["inlineData"],vc(p));const f=d(t,["text"]);f!=null&&h(e,["text"],f);const v=d(t,["thought"]);v!=null&&h(e,["thought"],v);const E=d(t,["thoughtSignature"]);E!=null&&h(e,["thoughtSignature"],E);const T=d(t,["videoMetadata"]);return T!=null&&h(e,["videoMetadata"],T),e}function ax(t){const e={},n=d(t,["handle"]);if(n!=null&&h(e,["handle"],n),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function lx(t){const e={};if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=d(t,["computerUse"]);n!=null&&h(e,["computerUse"],n);const s=d(t,["fileSearch"]);s!=null&&h(e,["fileSearch"],s);const r=d(t,["codeExecution"]);if(r!=null&&h(e,["codeExecution"],r),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=d(t,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(E=>E)),h(e,["functionDeclarations"],v)}const c=d(t,["googleMaps"]);c!=null&&h(e,["googleMaps"],Xw(c));const g=d(t,["googleSearch"]);g!=null&&h(e,["googleSearch"],Qw(g));const p=d(t,["googleSearchRetrieval"]);p!=null&&h(e,["googleSearchRetrieval"],p);const f=d(t,["urlContext"]);return f!=null&&h(e,["urlContext"],f),e}function ux(t){const e={},n=d(t,["retrieval"]);n!=null&&h(e,["retrieval"],n);const s=d(t,["computerUse"]);if(s!=null&&h(e,["computerUse"],s),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=d(t,["codeExecution"]);r!=null&&h(e,["codeExecution"],r);const l=d(t,["enterpriseWebSearch"]);l!=null&&h(e,["enterpriseWebSearch"],l);const c=d(t,["functionDeclarations"]);if(c!=null){let E=c;Array.isArray(E)&&(E=E.map(T=>$w(T))),h(e,["functionDeclarations"],E)}const g=d(t,["googleMaps"]);g!=null&&h(e,["googleMaps"],g);const p=d(t,["googleSearch"]);p!=null&&h(e,["googleSearch"],p);const f=d(t,["googleSearchRetrieval"]);f!=null&&h(e,["googleSearchRetrieval"],f);const v=d(t,["urlContext"]);return v!=null&&h(e,["urlContext"],v),e}function cx(t){const e={},n=d(t,["promptTokenCount"]);n!=null&&h(e,["promptTokenCount"],n);const s=d(t,["cachedContentTokenCount"]);s!=null&&h(e,["cachedContentTokenCount"],s);const r=d(t,["candidatesTokenCount"]);r!=null&&h(e,["responseTokenCount"],r);const l=d(t,["toolUsePromptTokenCount"]);l!=null&&h(e,["toolUsePromptTokenCount"],l);const c=d(t,["thoughtsTokenCount"]);c!=null&&h(e,["thoughtsTokenCount"],c);const g=d(t,["totalTokenCount"]);g!=null&&h(e,["totalTokenCount"],g);const p=d(t,["promptTokensDetails"]);if(p!=null){let x=p;Array.isArray(x)&&(x=x.map(M=>M)),h(e,["promptTokensDetails"],x)}const f=d(t,["cacheTokensDetails"]);if(f!=null){let x=f;Array.isArray(x)&&(x=x.map(M=>M)),h(e,["cacheTokensDetails"],x)}const v=d(t,["candidatesTokensDetails"]);if(v!=null){let x=v;Array.isArray(x)&&(x=x.map(M=>M)),h(e,["responseTokensDetails"],x)}const E=d(t,["toolUsePromptTokensDetails"]);if(E!=null){let x=E;Array.isArray(x)&&(x=x.map(M=>M)),h(e,["toolUsePromptTokensDetails"],x)}const T=d(t,["trafficType"]);return T!=null&&h(e,["trafficType"],T),e}function dx(t){const e={},n=d(t,["type"]);return n!=null&&h(e,["voiceActivityType"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fx(t){const e={},n=d(t,["data"]);if(n!=null&&h(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=d(t,["mimeType"]);return s!=null&&h(e,["mimeType"],s),e}function hx(t){const e={},n=d(t,["content"]);n!=null&&h(e,["content"],n);const s=d(t,["citationMetadata"]);s!=null&&h(e,["citationMetadata"],px(s));const r=d(t,["tokenCount"]);r!=null&&h(e,["tokenCount"],r);const l=d(t,["finishReason"]);l!=null&&h(e,["finishReason"],l);const c=d(t,["avgLogprobs"]);c!=null&&h(e,["avgLogprobs"],c);const g=d(t,["groundingMetadata"]);g!=null&&h(e,["groundingMetadata"],g);const p=d(t,["index"]);p!=null&&h(e,["index"],p);const f=d(t,["logprobsResult"]);f!=null&&h(e,["logprobsResult"],f);const v=d(t,["safetyRatings"]);if(v!=null){let T=v;Array.isArray(T)&&(T=T.map(x=>x)),h(e,["safetyRatings"],T)}const E=d(t,["urlContextMetadata"]);return E!=null&&h(e,["urlContextMetadata"],E),e}function px(t){const e={},n=d(t,["citationSources"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(r=>r)),h(e,["citations"],s)}return e}function mx(t,e){const n={},s=d(e,["model"]);s!=null&&h(n,["_url","model"],qe(t,s));const r=d(e,["contents"]);if(r!=null){let l=xn(r);Array.isArray(l)&&(l=l.map(c=>c)),h(n,["contents"],l)}return n}function gx(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const s=d(t,["tokensInfo"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(l=>l)),h(e,["tokensInfo"],r)}return e}function yx(t){const e={},n=d(t,["values"]);n!=null&&h(e,["values"],n);const s=d(t,["statistics"]);return s!=null&&h(e,["statistics"],vx(s)),e}function vx(t){const e={},n=d(t,["truncated"]);n!=null&&h(e,["truncated"],n);const s=d(t,["token_count"]);return s!=null&&h(e,["tokenCount"],s),e}function Fc(t){const e={},n=d(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>bb(l))),h(e,["parts"],r)}const s=d(t,["role"]);return s!=null&&h(e,["role"],s),e}function _x(t){const e={},n=d(t,["controlType"]);n!=null&&h(e,["controlType"],n);const s=d(t,["enableControlImageComputation"]);return s!=null&&h(e,["computeControl"],s),e}function Ex(t){const e={};if(d(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(d(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(d(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Tx(t,e){const n={},s=d(t,["systemInstruction"]);e!==void 0&&s!=null&&h(e,["systemInstruction"],zt(s));const r=d(t,["tools"]);if(e!==void 0&&r!=null){let c=r;Array.isArray(c)&&(c=c.map(g=>vE(g))),h(e,["tools"],c)}const l=d(t,["generationConfig"]);return e!==void 0&&l!=null&&h(e,["generationConfig"],fb(l)),n}function Sx(t,e){const n={},s=d(e,["model"]);s!=null&&h(n,["_url","model"],qe(t,s));const r=d(e,["contents"]);if(r!=null){let c=xn(r);Array.isArray(c)&&(c=c.map(g=>Fc(g))),h(n,["contents"],c)}const l=d(e,["config"]);return l!=null&&Ex(l),n}function Ax(t,e){const n={},s=d(e,["model"]);s!=null&&h(n,["_url","model"],qe(t,s));const r=d(e,["contents"]);if(r!=null){let c=xn(r);Array.isArray(c)&&(c=c.map(g=>g)),h(n,["contents"],c)}const l=d(e,["config"]);return l!=null&&Tx(l,n),n}function Cx(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const s=d(t,["totalTokens"]);s!=null&&h(e,["totalTokens"],s);const r=d(t,["cachedContentTokenCount"]);return r!=null&&h(e,["cachedContentTokenCount"],r),e}function wx(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const s=d(t,["totalTokens"]);return s!=null&&h(e,["totalTokens"],s),e}function xx(t,e){const n={},s=d(e,["model"]);return s!=null&&h(n,["_url","name"],qe(t,s)),n}function bx(t,e){const n={},s=d(e,["model"]);return s!=null&&h(n,["_url","name"],qe(t,s)),n}function Rx(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&h(e,["sdkHttpResponse"],n),e}function Ix(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&h(e,["sdkHttpResponse"],n),e}function Nx(t,e){const n={},s=d(t,["outputGcsUri"]);e!==void 0&&s!=null&&h(e,["parameters","storageUri"],s);const r=d(t,["negativePrompt"]);e!==void 0&&r!=null&&h(e,["parameters","negativePrompt"],r);const l=d(t,["numberOfImages"]);e!==void 0&&l!=null&&h(e,["parameters","sampleCount"],l);const c=d(t,["aspectRatio"]);e!==void 0&&c!=null&&h(e,["parameters","aspectRatio"],c);const g=d(t,["guidanceScale"]);e!==void 0&&g!=null&&h(e,["parameters","guidanceScale"],g);const p=d(t,["seed"]);e!==void 0&&p!=null&&h(e,["parameters","seed"],p);const f=d(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&h(e,["parameters","safetySetting"],f);const v=d(t,["personGeneration"]);e!==void 0&&v!=null&&h(e,["parameters","personGeneration"],v);const E=d(t,["includeSafetyAttributes"]);e!==void 0&&E!=null&&h(e,["parameters","includeSafetyAttributes"],E);const T=d(t,["includeRaiReason"]);e!==void 0&&T!=null&&h(e,["parameters","includeRaiReason"],T);const x=d(t,["language"]);e!==void 0&&x!=null&&h(e,["parameters","language"],x);const M=d(t,["outputMimeType"]);e!==void 0&&M!=null&&h(e,["parameters","outputOptions","mimeType"],M);const U=d(t,["outputCompressionQuality"]);e!==void 0&&U!=null&&h(e,["parameters","outputOptions","compressionQuality"],U);const k=d(t,["addWatermark"]);e!==void 0&&k!=null&&h(e,["parameters","addWatermark"],k);const F=d(t,["labels"]);e!==void 0&&F!=null&&h(e,["labels"],F);const Y=d(t,["editMode"]);e!==void 0&&Y!=null&&h(e,["parameters","editMode"],Y);const B=d(t,["baseSteps"]);return e!==void 0&&B!=null&&h(e,["parameters","editConfig","baseSteps"],B),n}function Mx(t,e){const n={},s=d(e,["model"]);s!=null&&h(n,["_url","model"],qe(t,s));const r=d(e,["prompt"]);r!=null&&h(n,["instances[0]","prompt"],r);const l=d(e,["referenceImages"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(p=>kb(p))),h(n,["instances[0]","referenceImages"],g)}const c=d(e,["config"]);return c!=null&&Nx(c,n),n}function Dx(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const s=d(t,["predictions"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(l=>Yc(l))),h(e,["generatedImages"],r)}return e}function kx(t,e){const n={},s=d(t,["taskType"]);e!==void 0&&s!=null&&h(e,["requests[]","taskType"],s);const r=d(t,["title"]);e!==void 0&&r!=null&&h(e,["requests[]","title"],r);const l=d(t,["outputDimensionality"]);if(e!==void 0&&l!=null&&h(e,["requests[]","outputDimensionality"],l),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Px(t,e){const n={},s=d(t,["taskType"]);e!==void 0&&s!=null&&h(e,["instances[]","task_type"],s);const r=d(t,["title"]);e!==void 0&&r!=null&&h(e,["instances[]","title"],r);const l=d(t,["outputDimensionality"]);e!==void 0&&l!=null&&h(e,["parameters","outputDimensionality"],l);const c=d(t,["mimeType"]);e!==void 0&&c!=null&&h(e,["instances[]","mimeType"],c);const g=d(t,["autoTruncate"]);return e!==void 0&&g!=null&&h(e,["parameters","autoTruncate"],g),n}function Ux(t,e){const n={},s=d(e,["model"]);s!=null&&h(n,["_url","model"],qe(t,s));const r=d(e,["contents"]);if(r!=null){let g=ip(t,r);Array.isArray(g)&&(g=g.map(p=>p)),h(n,["requests[]","content"],g)}const l=d(e,["config"]);l!=null&&kx(l,n);const c=d(e,["model"]);return c!==void 0&&h(n,["requests[]","model"],qe(t,c)),n}function Lx(t,e){const n={},s=d(e,["model"]);s!=null&&h(n,["_url","model"],qe(t,s));const r=d(e,["contents"]);if(r!=null){let c=ip(t,r);Array.isArray(c)&&(c=c.map(g=>g)),h(n,["instances[]","content"],c)}const l=d(e,["config"]);return l!=null&&Px(l,n),n}function Ox(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const s=d(t,["embeddings"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>c)),h(e,["embeddings"],l)}const r=d(t,["metadata"]);return r!=null&&h(e,["metadata"],r),e}function Vx(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const s=d(t,["predictions[]","embeddings"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>yx(c))),h(e,["embeddings"],l)}const r=d(t,["metadata"]);return r!=null&&h(e,["metadata"],r),e}function Hx(t){const e={},n=d(t,["endpoint"]);n!=null&&h(e,["name"],n);const s=d(t,["deployedModelId"]);return s!=null&&h(e,["deployedModelId"],s),e}function Gx(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&h(e,["fileUri"],n);const s=d(t,["mimeType"]);return s!=null&&h(e,["mimeType"],s),e}function Bx(t){const e={},n=d(t,["id"]);n!=null&&h(e,["id"],n);const s=d(t,["args"]);s!=null&&h(e,["args"],s);const r=d(t,["name"]);if(r!=null&&h(e,["name"],r),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function zx(t){const e={},n=d(t,["allowedFunctionNames"]);n!=null&&h(e,["allowedFunctionNames"],n);const s=d(t,["mode"]);if(s!=null&&h(e,["mode"],s),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function qx(t){const e={},n=d(t,["description"]);n!=null&&h(e,["description"],n);const s=d(t,["name"]);s!=null&&h(e,["name"],s);const r=d(t,["parameters"]);r!=null&&h(e,["parameters"],r);const l=d(t,["parametersJsonSchema"]);l!=null&&h(e,["parametersJsonSchema"],l);const c=d(t,["response"]);c!=null&&h(e,["response"],c);const g=d(t,["responseJsonSchema"]);if(g!=null&&h(e,["responseJsonSchema"],g),d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function Fx(t,e,n){const s={},r=d(e,["systemInstruction"]);n!==void 0&&r!=null&&h(n,["systemInstruction"],Fc(zt(r)));const l=d(e,["temperature"]);l!=null&&h(s,["temperature"],l);const c=d(e,["topP"]);c!=null&&h(s,["topP"],c);const g=d(e,["topK"]);g!=null&&h(s,["topK"],g);const p=d(e,["candidateCount"]);p!=null&&h(s,["candidateCount"],p);const f=d(e,["maxOutputTokens"]);f!=null&&h(s,["maxOutputTokens"],f);const v=d(e,["stopSequences"]);v!=null&&h(s,["stopSequences"],v);const E=d(e,["responseLogprobs"]);E!=null&&h(s,["responseLogprobs"],E);const T=d(e,["logprobs"]);T!=null&&h(s,["logprobs"],T);const x=d(e,["presencePenalty"]);x!=null&&h(s,["presencePenalty"],x);const M=d(e,["frequencyPenalty"]);M!=null&&h(s,["frequencyPenalty"],M);const U=d(e,["seed"]);U!=null&&h(s,["seed"],U);const k=d(e,["responseMimeType"]);k!=null&&h(s,["responseMimeType"],k);const F=d(e,["responseSchema"]);F!=null&&h(s,["responseSchema"],op(F));const Y=d(e,["responseJsonSchema"]);if(Y!=null&&h(s,["responseJsonSchema"],Y),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const B=d(e,["safetySettings"]);if(n!==void 0&&B!=null){let P=B;Array.isArray(P)&&(P=P.map(Ae=>Pb(Ae))),h(n,["safetySettings"],P)}const oe=d(e,["tools"]);if(n!==void 0&&oe!=null){let P=qr(oe);Array.isArray(P)&&(P=P.map(Ae=>Bb(zr(Ae)))),h(n,["tools"],P)}const se=d(e,["toolConfig"]);if(n!==void 0&&se!=null&&h(n,["toolConfig"],Gb(se)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ae=d(e,["cachedContent"]);n!==void 0&&ae!=null&&h(n,["cachedContent"],Qi(t,ae));const D=d(e,["responseModalities"]);D!=null&&h(s,["responseModalities"],D);const N=d(e,["mediaResolution"]);N!=null&&h(s,["mediaResolution"],N);const I=d(e,["speechConfig"]);if(I!=null&&h(s,["speechConfig"],sp(I)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const O=d(e,["thinkingConfig"]);O!=null&&h(s,["thinkingConfig"],O);const L=d(e,["imageConfig"]);L!=null&&h(s,["imageConfig"],yb(L));const z=d(e,["enableEnhancedCivicAnswers"]);return z!=null&&h(s,["enableEnhancedCivicAnswers"],z),s}function Yx(t,e,n){const s={},r=d(e,["systemInstruction"]);n!==void 0&&r!=null&&h(n,["systemInstruction"],zt(r));const l=d(e,["temperature"]);l!=null&&h(s,["temperature"],l);const c=d(e,["topP"]);c!=null&&h(s,["topP"],c);const g=d(e,["topK"]);g!=null&&h(s,["topK"],g);const p=d(e,["candidateCount"]);p!=null&&h(s,["candidateCount"],p);const f=d(e,["maxOutputTokens"]);f!=null&&h(s,["maxOutputTokens"],f);const v=d(e,["stopSequences"]);v!=null&&h(s,["stopSequences"],v);const E=d(e,["responseLogprobs"]);E!=null&&h(s,["responseLogprobs"],E);const T=d(e,["logprobs"]);T!=null&&h(s,["logprobs"],T);const x=d(e,["presencePenalty"]);x!=null&&h(s,["presencePenalty"],x);const M=d(e,["frequencyPenalty"]);M!=null&&h(s,["frequencyPenalty"],M);const U=d(e,["seed"]);U!=null&&h(s,["seed"],U);const k=d(e,["responseMimeType"]);k!=null&&h(s,["responseMimeType"],k);const F=d(e,["responseSchema"]);F!=null&&h(s,["responseSchema"],op(F));const Y=d(e,["responseJsonSchema"]);Y!=null&&h(s,["responseJsonSchema"],Y);const B=d(e,["routingConfig"]);B!=null&&h(s,["routingConfig"],B);const oe=d(e,["modelSelectionConfig"]);oe!=null&&h(s,["modelConfig"],oe);const se=d(e,["safetySettings"]);if(n!==void 0&&se!=null){let j=se;Array.isArray(j)&&(j=j.map(re=>re)),h(n,["safetySettings"],j)}const ae=d(e,["tools"]);if(n!==void 0&&ae!=null){let j=qr(ae);Array.isArray(j)&&(j=j.map(re=>vE(zr(re)))),h(n,["tools"],j)}const D=d(e,["toolConfig"]);n!==void 0&&D!=null&&h(n,["toolConfig"],D);const N=d(e,["labels"]);n!==void 0&&N!=null&&h(n,["labels"],N);const I=d(e,["cachedContent"]);n!==void 0&&I!=null&&h(n,["cachedContent"],Qi(t,I));const O=d(e,["responseModalities"]);O!=null&&h(s,["responseModalities"],O);const L=d(e,["mediaResolution"]);L!=null&&h(s,["mediaResolution"],L);const z=d(e,["speechConfig"]);z!=null&&h(s,["speechConfig"],sp(z));const P=d(e,["audioTimestamp"]);P!=null&&h(s,["audioTimestamp"],P);const Ae=d(e,["thinkingConfig"]);Ae!=null&&h(s,["thinkingConfig"],Ae);const He=d(e,["imageConfig"]);if(He!=null&&h(s,["imageConfig"],vb(He)),d(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return s}function I0(t,e){const n={},s=d(e,["model"]);s!=null&&h(n,["_url","model"],qe(t,s));const r=d(e,["contents"]);if(r!=null){let c=xn(r);Array.isArray(c)&&(c=c.map(g=>Fc(g))),h(n,["contents"],c)}const l=d(e,["config"]);return l!=null&&h(n,["generationConfig"],Fx(t,l,n)),n}function N0(t,e){const n={},s=d(e,["model"]);s!=null&&h(n,["_url","model"],qe(t,s));const r=d(e,["contents"]);if(r!=null){let c=xn(r);Array.isArray(c)&&(c=c.map(g=>g)),h(n,["contents"],c)}const l=d(e,["config"]);return l!=null&&h(n,["generationConfig"],Yx(t,l,n)),n}function M0(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const s=d(t,["candidates"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(f=>hx(f))),h(e,["candidates"],p)}const r=d(t,["modelVersion"]);r!=null&&h(e,["modelVersion"],r);const l=d(t,["promptFeedback"]);l!=null&&h(e,["promptFeedback"],l);const c=d(t,["responseId"]);c!=null&&h(e,["responseId"],c);const g=d(t,["usageMetadata"]);return g!=null&&h(e,["usageMetadata"],g),e}function D0(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const s=d(t,["candidates"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(v=>v)),h(e,["candidates"],f)}const r=d(t,["createTime"]);r!=null&&h(e,["createTime"],r);const l=d(t,["modelVersion"]);l!=null&&h(e,["modelVersion"],l);const c=d(t,["promptFeedback"]);c!=null&&h(e,["promptFeedback"],c);const g=d(t,["responseId"]);g!=null&&h(e,["responseId"],g);const p=d(t,["usageMetadata"]);return p!=null&&h(e,["usageMetadata"],p),e}function Jx(t,e){const n={};if(d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const s=d(t,["numberOfImages"]);e!==void 0&&s!=null&&h(e,["parameters","sampleCount"],s);const r=d(t,["aspectRatio"]);e!==void 0&&r!=null&&h(e,["parameters","aspectRatio"],r);const l=d(t,["guidanceScale"]);if(e!==void 0&&l!=null&&h(e,["parameters","guidanceScale"],l),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=d(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&h(e,["parameters","safetySetting"],c);const g=d(t,["personGeneration"]);e!==void 0&&g!=null&&h(e,["parameters","personGeneration"],g);const p=d(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&h(e,["parameters","includeSafetyAttributes"],p);const f=d(t,["includeRaiReason"]);e!==void 0&&f!=null&&h(e,["parameters","includeRaiReason"],f);const v=d(t,["language"]);e!==void 0&&v!=null&&h(e,["parameters","language"],v);const E=d(t,["outputMimeType"]);e!==void 0&&E!=null&&h(e,["parameters","outputOptions","mimeType"],E);const T=d(t,["outputCompressionQuality"]);if(e!==void 0&&T!=null&&h(e,["parameters","outputOptions","compressionQuality"],T),d(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const x=d(t,["imageSize"]);if(e!==void 0&&x!=null&&h(e,["parameters","sampleImageSize"],x),d(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function $x(t,e){const n={},s=d(t,["outputGcsUri"]);e!==void 0&&s!=null&&h(e,["parameters","storageUri"],s);const r=d(t,["negativePrompt"]);e!==void 0&&r!=null&&h(e,["parameters","negativePrompt"],r);const l=d(t,["numberOfImages"]);e!==void 0&&l!=null&&h(e,["parameters","sampleCount"],l);const c=d(t,["aspectRatio"]);e!==void 0&&c!=null&&h(e,["parameters","aspectRatio"],c);const g=d(t,["guidanceScale"]);e!==void 0&&g!=null&&h(e,["parameters","guidanceScale"],g);const p=d(t,["seed"]);e!==void 0&&p!=null&&h(e,["parameters","seed"],p);const f=d(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&h(e,["parameters","safetySetting"],f);const v=d(t,["personGeneration"]);e!==void 0&&v!=null&&h(e,["parameters","personGeneration"],v);const E=d(t,["includeSafetyAttributes"]);e!==void 0&&E!=null&&h(e,["parameters","includeSafetyAttributes"],E);const T=d(t,["includeRaiReason"]);e!==void 0&&T!=null&&h(e,["parameters","includeRaiReason"],T);const x=d(t,["language"]);e!==void 0&&x!=null&&h(e,["parameters","language"],x);const M=d(t,["outputMimeType"]);e!==void 0&&M!=null&&h(e,["parameters","outputOptions","mimeType"],M);const U=d(t,["outputCompressionQuality"]);e!==void 0&&U!=null&&h(e,["parameters","outputOptions","compressionQuality"],U);const k=d(t,["addWatermark"]);e!==void 0&&k!=null&&h(e,["parameters","addWatermark"],k);const F=d(t,["labels"]);e!==void 0&&F!=null&&h(e,["labels"],F);const Y=d(t,["imageSize"]);e!==void 0&&Y!=null&&h(e,["parameters","sampleImageSize"],Y);const B=d(t,["enhancePrompt"]);return e!==void 0&&B!=null&&h(e,["parameters","enhancePrompt"],B),n}function Kx(t,e){const n={},s=d(e,["model"]);s!=null&&h(n,["_url","model"],qe(t,s));const r=d(e,["prompt"]);r!=null&&h(n,["instances[0]","prompt"],r);const l=d(e,["config"]);return l!=null&&Jx(l,n),n}function Xx(t,e){const n={},s=d(e,["model"]);s!=null&&h(n,["_url","model"],qe(t,s));const r=d(e,["prompt"]);r!=null&&h(n,["instances[0]","prompt"],r);const l=d(e,["config"]);return l!=null&&$x(l,n),n}function Qx(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const s=d(t,["predictions"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>lb(c))),h(e,["generatedImages"],l)}const r=d(t,["positivePromptSafetyAttributes"]);return r!=null&&h(e,["positivePromptSafetyAttributes"],gE(r)),e}function Wx(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const s=d(t,["predictions"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>Yc(c))),h(e,["generatedImages"],l)}const r=d(t,["positivePromptSafetyAttributes"]);return r!=null&&h(e,["positivePromptSafetyAttributes"],yE(r)),e}function Zx(t,e){const n={},s=d(t,["numberOfVideos"]);if(e!==void 0&&s!=null&&h(e,["parameters","sampleCount"],s),d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=d(t,["durationSeconds"]);if(e!==void 0&&r!=null&&h(e,["parameters","durationSeconds"],r),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=d(t,["aspectRatio"]);e!==void 0&&l!=null&&h(e,["parameters","aspectRatio"],l);const c=d(t,["resolution"]);e!==void 0&&c!=null&&h(e,["parameters","resolution"],c);const g=d(t,["personGeneration"]);if(e!==void 0&&g!=null&&h(e,["parameters","personGeneration"],g),d(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const p=d(t,["negativePrompt"]);e!==void 0&&p!=null&&h(e,["parameters","negativePrompt"],p);const f=d(t,["enhancePrompt"]);if(e!==void 0&&f!=null&&h(e,["parameters","enhancePrompt"],f),d(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=d(t,["lastFrame"]);e!==void 0&&v!=null&&h(e,["instances[0]","lastFrame"],Jc(v));const E=d(t,["referenceImages"]);if(e!==void 0&&E!=null){let T=E;Array.isArray(T)&&(T=T.map(x=>eR(x))),h(e,["instances[0]","referenceImages"],T)}if(d(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(d(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function jx(t,e){const n={},s=d(t,["numberOfVideos"]);e!==void 0&&s!=null&&h(e,["parameters","sampleCount"],s);const r=d(t,["outputGcsUri"]);e!==void 0&&r!=null&&h(e,["parameters","storageUri"],r);const l=d(t,["fps"]);e!==void 0&&l!=null&&h(e,["parameters","fps"],l);const c=d(t,["durationSeconds"]);e!==void 0&&c!=null&&h(e,["parameters","durationSeconds"],c);const g=d(t,["seed"]);e!==void 0&&g!=null&&h(e,["parameters","seed"],g);const p=d(t,["aspectRatio"]);e!==void 0&&p!=null&&h(e,["parameters","aspectRatio"],p);const f=d(t,["resolution"]);e!==void 0&&f!=null&&h(e,["parameters","resolution"],f);const v=d(t,["personGeneration"]);e!==void 0&&v!=null&&h(e,["parameters","personGeneration"],v);const E=d(t,["pubsubTopic"]);e!==void 0&&E!=null&&h(e,["parameters","pubsubTopic"],E);const T=d(t,["negativePrompt"]);e!==void 0&&T!=null&&h(e,["parameters","negativePrompt"],T);const x=d(t,["enhancePrompt"]);e!==void 0&&x!=null&&h(e,["parameters","enhancePrompt"],x);const M=d(t,["generateAudio"]);e!==void 0&&M!=null&&h(e,["parameters","generateAudio"],M);const U=d(t,["lastFrame"]);e!==void 0&&U!=null&&h(e,["instances[0]","lastFrame"],$n(U));const k=d(t,["referenceImages"]);if(e!==void 0&&k!=null){let B=k;Array.isArray(B)&&(B=B.map(oe=>tR(oe))),h(e,["instances[0]","referenceImages"],B)}const F=d(t,["mask"]);e!==void 0&&F!=null&&h(e,["instances[0]","mask"],jb(F));const Y=d(t,["compressionQuality"]);return e!==void 0&&Y!=null&&h(e,["parameters","compressionQuality"],Y),n}function eb(t){const e={},n=d(t,["name"]);n!=null&&h(e,["name"],n);const s=d(t,["metadata"]);s!=null&&h(e,["metadata"],s);const r=d(t,["done"]);r!=null&&h(e,["done"],r);const l=d(t,["error"]);l!=null&&h(e,["error"],l);const c=d(t,["response","generateVideoResponse"]);return c!=null&&h(e,["response"],ob(c)),e}function tb(t){const e={},n=d(t,["name"]);n!=null&&h(e,["name"],n);const s=d(t,["metadata"]);s!=null&&h(e,["metadata"],s);const r=d(t,["done"]);r!=null&&h(e,["done"],r);const l=d(t,["error"]);l!=null&&h(e,["error"],l);const c=d(t,["response"]);return c!=null&&h(e,["response"],sb(c)),e}function nb(t,e){const n={},s=d(e,["model"]);s!=null&&h(n,["_url","model"],qe(t,s));const r=d(e,["prompt"]);r!=null&&h(n,["instances[0]","prompt"],r);const l=d(e,["image"]);l!=null&&h(n,["instances[0]","image"],Jc(l));const c=d(e,["video"]);c!=null&&h(n,["instances[0]","video"],_E(c));const g=d(e,["source"]);g!=null&&rb(g,n);const p=d(e,["config"]);return p!=null&&Zx(p,n),n}function ib(t,e){const n={},s=d(e,["model"]);s!=null&&h(n,["_url","model"],qe(t,s));const r=d(e,["prompt"]);r!=null&&h(n,["instances[0]","prompt"],r);const l=d(e,["image"]);l!=null&&h(n,["instances[0]","image"],$n(l));const c=d(e,["video"]);c!=null&&h(n,["instances[0]","video"],EE(c));const g=d(e,["source"]);g!=null&&ab(g,n);const p=d(e,["config"]);return p!=null&&jx(p,n),n}function ob(t){const e={},n=d(t,["generatedSamples"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>cb(c))),h(e,["generatedVideos"],l)}const s=d(t,["raiMediaFilteredCount"]);s!=null&&h(e,["raiMediaFilteredCount"],s);const r=d(t,["raiMediaFilteredReasons"]);return r!=null&&h(e,["raiMediaFilteredReasons"],r),e}function sb(t){const e={},n=d(t,["videos"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>db(c))),h(e,["generatedVideos"],l)}const s=d(t,["raiMediaFilteredCount"]);s!=null&&h(e,["raiMediaFilteredCount"],s);const r=d(t,["raiMediaFilteredReasons"]);return r!=null&&h(e,["raiMediaFilteredReasons"],r),e}function rb(t,e){const n={},s=d(t,["prompt"]);e!==void 0&&s!=null&&h(e,["instances[0]","prompt"],s);const r=d(t,["image"]);e!==void 0&&r!=null&&h(e,["instances[0]","image"],Jc(r));const l=d(t,["video"]);return e!==void 0&&l!=null&&h(e,["instances[0]","video"],_E(l)),n}function ab(t,e){const n={},s=d(t,["prompt"]);e!==void 0&&s!=null&&h(e,["instances[0]","prompt"],s);const r=d(t,["image"]);e!==void 0&&r!=null&&h(e,["instances[0]","image"],$n(r));const l=d(t,["video"]);return e!==void 0&&l!=null&&h(e,["instances[0]","video"],EE(l)),n}function lb(t){const e={},n=d(t,["_self"]);n!=null&&h(e,["image"],_b(n));const s=d(t,["raiFilteredReason"]);s!=null&&h(e,["raiFilteredReason"],s);const r=d(t,["_self"]);return r!=null&&h(e,["safetyAttributes"],gE(r)),e}function Yc(t){const e={},n=d(t,["_self"]);n!=null&&h(e,["image"],mE(n));const s=d(t,["raiFilteredReason"]);s!=null&&h(e,["raiFilteredReason"],s);const r=d(t,["_self"]);r!=null&&h(e,["safetyAttributes"],yE(r));const l=d(t,["prompt"]);return l!=null&&h(e,["enhancedPrompt"],l),e}function ub(t){const e={},n=d(t,["_self"]);n!=null&&h(e,["mask"],mE(n));const s=d(t,["labels"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(l=>l)),h(e,["labels"],r)}return e}function cb(t){const e={},n=d(t,["video"]);return n!=null&&h(e,["video"],Wb(n)),e}function db(t){const e={},n=d(t,["_self"]);return n!=null&&h(e,["video"],Zb(n)),e}function fb(t){const e={},n=d(t,["modelSelectionConfig"]);n!=null&&h(e,["modelConfig"],n);const s=d(t,["responseJsonSchema"]);s!=null&&h(e,["responseJsonSchema"],s);const r=d(t,["audioTimestamp"]);r!=null&&h(e,["audioTimestamp"],r);const l=d(t,["candidateCount"]);l!=null&&h(e,["candidateCount"],l);const c=d(t,["enableAffectiveDialog"]);c!=null&&h(e,["enableAffectiveDialog"],c);const g=d(t,["frequencyPenalty"]);g!=null&&h(e,["frequencyPenalty"],g);const p=d(t,["logprobs"]);p!=null&&h(e,["logprobs"],p);const f=d(t,["maxOutputTokens"]);f!=null&&h(e,["maxOutputTokens"],f);const v=d(t,["mediaResolution"]);v!=null&&h(e,["mediaResolution"],v);const E=d(t,["presencePenalty"]);E!=null&&h(e,["presencePenalty"],E);const T=d(t,["responseLogprobs"]);T!=null&&h(e,["responseLogprobs"],T);const x=d(t,["responseMimeType"]);x!=null&&h(e,["responseMimeType"],x);const M=d(t,["responseModalities"]);M!=null&&h(e,["responseModalities"],M);const U=d(t,["responseSchema"]);U!=null&&h(e,["responseSchema"],U);const k=d(t,["routingConfig"]);k!=null&&h(e,["routingConfig"],k);const F=d(t,["seed"]);F!=null&&h(e,["seed"],F);const Y=d(t,["speechConfig"]);Y!=null&&h(e,["speechConfig"],Y);const B=d(t,["stopSequences"]);B!=null&&h(e,["stopSequences"],B);const oe=d(t,["temperature"]);oe!=null&&h(e,["temperature"],oe);const se=d(t,["thinkingConfig"]);se!=null&&h(e,["thinkingConfig"],se);const ae=d(t,["topK"]);ae!=null&&h(e,["topK"],ae);const D=d(t,["topP"]);if(D!=null&&h(e,["topP"],D),d(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function hb(t,e){const n={},s=d(e,["model"]);return s!=null&&h(n,["_url","name"],qe(t,s)),n}function pb(t,e){const n={},s=d(e,["model"]);return s!=null&&h(n,["_url","name"],qe(t,s)),n}function mb(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&h(e,["enableWidget"],n),e}function gb(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&h(e,["timeRangeFilter"],n),e}function yb(t){const e={},n=d(t,["aspectRatio"]);n!=null&&h(e,["aspectRatio"],n);const s=d(t,["imageSize"]);if(s!=null&&h(e,["imageSize"],s),d(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(d(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function vb(t){const e={},n=d(t,["aspectRatio"]);n!=null&&h(e,["aspectRatio"],n);const s=d(t,["imageSize"]);s!=null&&h(e,["imageSize"],s);const r=d(t,["personGeneration"]);r!=null&&h(e,["personGeneration"],r);const l=d(t,["outputMimeType"]);l!=null&&h(e,["imageOutputOptions","mimeType"],l);const c=d(t,["outputCompressionQuality"]);return c!=null&&h(e,["imageOutputOptions","compressionQuality"],c),e}function _b(t){const e={},n=d(t,["bytesBase64Encoded"]);n!=null&&h(e,["imageBytes"],qo(n));const s=d(t,["mimeType"]);return s!=null&&h(e,["mimeType"],s),e}function mE(t){const e={},n=d(t,["gcsUri"]);n!=null&&h(e,["gcsUri"],n);const s=d(t,["bytesBase64Encoded"]);s!=null&&h(e,["imageBytes"],qo(s));const r=d(t,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function Jc(t){const e={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=d(t,["imageBytes"]);n!=null&&h(e,["bytesBase64Encoded"],qo(n));const s=d(t,["mimeType"]);return s!=null&&h(e,["mimeType"],s),e}function $n(t){const e={},n=d(t,["gcsUri"]);n!=null&&h(e,["gcsUri"],n);const s=d(t,["imageBytes"]);s!=null&&h(e,["bytesBase64Encoded"],qo(s));const r=d(t,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function Eb(t,e,n){const s={},r=d(e,["pageSize"]);n!==void 0&&r!=null&&h(n,["_query","pageSize"],r);const l=d(e,["pageToken"]);n!==void 0&&l!=null&&h(n,["_query","pageToken"],l);const c=d(e,["filter"]);n!==void 0&&c!=null&&h(n,["_query","filter"],c);const g=d(e,["queryBase"]);return n!==void 0&&g!=null&&h(n,["_url","models_url"],lE(t,g)),s}function Tb(t,e,n){const s={},r=d(e,["pageSize"]);n!==void 0&&r!=null&&h(n,["_query","pageSize"],r);const l=d(e,["pageToken"]);n!==void 0&&l!=null&&h(n,["_query","pageToken"],l);const c=d(e,["filter"]);n!==void 0&&c!=null&&h(n,["_query","filter"],c);const g=d(e,["queryBase"]);return n!==void 0&&g!=null&&h(n,["_url","models_url"],lE(t,g)),s}function Sb(t,e){const n={},s=d(e,["config"]);return s!=null&&Eb(t,s,n),n}function Ab(t,e){const n={},s=d(e,["config"]);return s!=null&&Tb(t,s,n),n}function Cb(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const s=d(t,["nextPageToken"]);s!=null&&h(e,["nextPageToken"],s);const r=d(t,["_self"]);if(r!=null){let l=uE(r);Array.isArray(l)&&(l=l.map(c=>bh(c))),h(e,["models"],l)}return e}function wb(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const s=d(t,["nextPageToken"]);s!=null&&h(e,["nextPageToken"],s);const r=d(t,["_self"]);if(r!=null){let l=uE(r);Array.isArray(l)&&(l=l.map(c=>Rh(c))),h(e,["models"],l)}return e}function xb(t){const e={},n=d(t,["maskMode"]);n!=null&&h(e,["maskMode"],n);const s=d(t,["segmentationClasses"]);s!=null&&h(e,["maskClasses"],s);const r=d(t,["maskDilation"]);return r!=null&&h(e,["dilation"],r),e}function bh(t){const e={},n=d(t,["name"]);n!=null&&h(e,["name"],n);const s=d(t,["displayName"]);s!=null&&h(e,["displayName"],s);const r=d(t,["description"]);r!=null&&h(e,["description"],r);const l=d(t,["version"]);l!=null&&h(e,["version"],l);const c=d(t,["_self"]);c!=null&&h(e,["tunedModelInfo"],zb(c));const g=d(t,["inputTokenLimit"]);g!=null&&h(e,["inputTokenLimit"],g);const p=d(t,["outputTokenLimit"]);p!=null&&h(e,["outputTokenLimit"],p);const f=d(t,["supportedGenerationMethods"]);f!=null&&h(e,["supportedActions"],f);const v=d(t,["temperature"]);v!=null&&h(e,["temperature"],v);const E=d(t,["maxTemperature"]);E!=null&&h(e,["maxTemperature"],E);const T=d(t,["topP"]);T!=null&&h(e,["topP"],T);const x=d(t,["topK"]);x!=null&&h(e,["topK"],x);const M=d(t,["thinking"]);return M!=null&&h(e,["thinking"],M),e}function Rh(t){const e={},n=d(t,["name"]);n!=null&&h(e,["name"],n);const s=d(t,["displayName"]);s!=null&&h(e,["displayName"],s);const r=d(t,["description"]);r!=null&&h(e,["description"],r);const l=d(t,["versionId"]);l!=null&&h(e,["version"],l);const c=d(t,["deployedModels"]);if(c!=null){let E=c;Array.isArray(E)&&(E=E.map(T=>Hx(T))),h(e,["endpoints"],E)}const g=d(t,["labels"]);g!=null&&h(e,["labels"],g);const p=d(t,["_self"]);p!=null&&h(e,["tunedModelInfo"],qb(p));const f=d(t,["defaultCheckpointId"]);f!=null&&h(e,["defaultCheckpointId"],f);const v=d(t,["checkpoints"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(T=>T)),h(e,["checkpoints"],E)}return e}function bb(t){const e={},n=d(t,["mediaResolution"]);n!=null&&h(e,["mediaResolution"],n);const s=d(t,["codeExecutionResult"]);s!=null&&h(e,["codeExecutionResult"],s);const r=d(t,["executableCode"]);r!=null&&h(e,["executableCode"],r);const l=d(t,["fileData"]);l!=null&&h(e,["fileData"],Gx(l));const c=d(t,["functionCall"]);c!=null&&h(e,["functionCall"],Bx(c));const g=d(t,["functionResponse"]);g!=null&&h(e,["functionResponse"],g);const p=d(t,["inlineData"]);p!=null&&h(e,["inlineData"],fx(p));const f=d(t,["text"]);f!=null&&h(e,["text"],f);const v=d(t,["thought"]);v!=null&&h(e,["thought"],v);const E=d(t,["thoughtSignature"]);E!=null&&h(e,["thoughtSignature"],E);const T=d(t,["videoMetadata"]);return T!=null&&h(e,["videoMetadata"],T),e}function Rb(t){const e={},n=d(t,["productImage"]);return n!=null&&h(e,["image"],$n(n)),e}function Ib(t,e){const n={},s=d(t,["numberOfImages"]);e!==void 0&&s!=null&&h(e,["parameters","sampleCount"],s);const r=d(t,["baseSteps"]);e!==void 0&&r!=null&&h(e,["parameters","baseSteps"],r);const l=d(t,["outputGcsUri"]);e!==void 0&&l!=null&&h(e,["parameters","storageUri"],l);const c=d(t,["seed"]);e!==void 0&&c!=null&&h(e,["parameters","seed"],c);const g=d(t,["safetyFilterLevel"]);e!==void 0&&g!=null&&h(e,["parameters","safetySetting"],g);const p=d(t,["personGeneration"]);e!==void 0&&p!=null&&h(e,["parameters","personGeneration"],p);const f=d(t,["addWatermark"]);e!==void 0&&f!=null&&h(e,["parameters","addWatermark"],f);const v=d(t,["outputMimeType"]);e!==void 0&&v!=null&&h(e,["parameters","outputOptions","mimeType"],v);const E=d(t,["outputCompressionQuality"]);e!==void 0&&E!=null&&h(e,["parameters","outputOptions","compressionQuality"],E);const T=d(t,["enhancePrompt"]);e!==void 0&&T!=null&&h(e,["parameters","enhancePrompt"],T);const x=d(t,["labels"]);return e!==void 0&&x!=null&&h(e,["labels"],x),n}function Nb(t,e){const n={},s=d(e,["model"]);s!=null&&h(n,["_url","model"],qe(t,s));const r=d(e,["source"]);r!=null&&Db(r,n);const l=d(e,["config"]);return l!=null&&Ib(l,n),n}function Mb(t){const e={},n=d(t,["predictions"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(r=>Yc(r))),h(e,["generatedImages"],s)}return e}function Db(t,e){const n={},s=d(t,["prompt"]);e!==void 0&&s!=null&&h(e,["instances[0]","prompt"],s);const r=d(t,["personImage"]);e!==void 0&&r!=null&&h(e,["instances[0]","personImage","image"],$n(r));const l=d(t,["productImages"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(g=>Rb(g))),h(e,["instances[0]","productImages"],c)}return n}function kb(t){const e={},n=d(t,["referenceImage"]);n!=null&&h(e,["referenceImage"],$n(n));const s=d(t,["referenceId"]);s!=null&&h(e,["referenceId"],s);const r=d(t,["referenceType"]);r!=null&&h(e,["referenceType"],r);const l=d(t,["maskImageConfig"]);l!=null&&h(e,["maskImageConfig"],xb(l));const c=d(t,["controlImageConfig"]);c!=null&&h(e,["controlImageConfig"],_x(c));const g=d(t,["styleImageConfig"]);g!=null&&h(e,["styleImageConfig"],g);const p=d(t,["subjectImageConfig"]);return p!=null&&h(e,["subjectImageConfig"],p),e}function gE(t){const e={},n=d(t,["safetyAttributes","categories"]);n!=null&&h(e,["categories"],n);const s=d(t,["safetyAttributes","scores"]);s!=null&&h(e,["scores"],s);const r=d(t,["contentType"]);return r!=null&&h(e,["contentType"],r),e}function yE(t){const e={},n=d(t,["safetyAttributes","categories"]);n!=null&&h(e,["categories"],n);const s=d(t,["safetyAttributes","scores"]);s!=null&&h(e,["scores"],s);const r=d(t,["contentType"]);return r!=null&&h(e,["contentType"],r),e}function Pb(t){const e={},n=d(t,["category"]);if(n!=null&&h(e,["category"],n),d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=d(t,["threshold"]);return s!=null&&h(e,["threshold"],s),e}function Ub(t){const e={},n=d(t,["image"]);return n!=null&&h(e,["image"],$n(n)),e}function Lb(t,e){const n={},s=d(t,["mode"]);e!==void 0&&s!=null&&h(e,["parameters","mode"],s);const r=d(t,["maxPredictions"]);e!==void 0&&r!=null&&h(e,["parameters","maxPredictions"],r);const l=d(t,["confidenceThreshold"]);e!==void 0&&l!=null&&h(e,["parameters","confidenceThreshold"],l);const c=d(t,["maskDilation"]);e!==void 0&&c!=null&&h(e,["parameters","maskDilation"],c);const g=d(t,["binaryColorThreshold"]);e!==void 0&&g!=null&&h(e,["parameters","binaryColorThreshold"],g);const p=d(t,["labels"]);return e!==void 0&&p!=null&&h(e,["labels"],p),n}function Ob(t,e){const n={},s=d(e,["model"]);s!=null&&h(n,["_url","model"],qe(t,s));const r=d(e,["source"]);r!=null&&Hb(r,n);const l=d(e,["config"]);return l!=null&&Lb(l,n),n}function Vb(t){const e={},n=d(t,["predictions"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(r=>ub(r))),h(e,["generatedMasks"],s)}return e}function Hb(t,e){const n={},s=d(t,["prompt"]);e!==void 0&&s!=null&&h(e,["instances[0]","prompt"],s);const r=d(t,["image"]);e!==void 0&&r!=null&&h(e,["instances[0]","image"],$n(r));const l=d(t,["scribbleImage"]);return e!==void 0&&l!=null&&h(e,["instances[0]","scribble"],Ub(l)),n}function Gb(t){const e={},n=d(t,["retrievalConfig"]);n!=null&&h(e,["retrievalConfig"],n);const s=d(t,["functionCallingConfig"]);return s!=null&&h(e,["functionCallingConfig"],zx(s)),e}function Bb(t){const e={};if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=d(t,["computerUse"]);n!=null&&h(e,["computerUse"],n);const s=d(t,["fileSearch"]);s!=null&&h(e,["fileSearch"],s);const r=d(t,["codeExecution"]);if(r!=null&&h(e,["codeExecution"],r),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=d(t,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(E=>E)),h(e,["functionDeclarations"],v)}const c=d(t,["googleMaps"]);c!=null&&h(e,["googleMaps"],mb(c));const g=d(t,["googleSearch"]);g!=null&&h(e,["googleSearch"],gb(g));const p=d(t,["googleSearchRetrieval"]);p!=null&&h(e,["googleSearchRetrieval"],p);const f=d(t,["urlContext"]);return f!=null&&h(e,["urlContext"],f),e}function vE(t){const e={},n=d(t,["retrieval"]);n!=null&&h(e,["retrieval"],n);const s=d(t,["computerUse"]);if(s!=null&&h(e,["computerUse"],s),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=d(t,["codeExecution"]);r!=null&&h(e,["codeExecution"],r);const l=d(t,["enterpriseWebSearch"]);l!=null&&h(e,["enterpriseWebSearch"],l);const c=d(t,["functionDeclarations"]);if(c!=null){let E=c;Array.isArray(E)&&(E=E.map(T=>qx(T))),h(e,["functionDeclarations"],E)}const g=d(t,["googleMaps"]);g!=null&&h(e,["googleMaps"],g);const p=d(t,["googleSearch"]);p!=null&&h(e,["googleSearch"],p);const f=d(t,["googleSearchRetrieval"]);f!=null&&h(e,["googleSearchRetrieval"],f);const v=d(t,["urlContext"]);return v!=null&&h(e,["urlContext"],v),e}function zb(t){const e={},n=d(t,["baseModel"]);n!=null&&h(e,["baseModel"],n);const s=d(t,["createTime"]);s!=null&&h(e,["createTime"],s);const r=d(t,["updateTime"]);return r!=null&&h(e,["updateTime"],r),e}function qb(t){const e={},n=d(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&h(e,["baseModel"],n);const s=d(t,["createTime"]);s!=null&&h(e,["createTime"],s);const r=d(t,["updateTime"]);return r!=null&&h(e,["updateTime"],r),e}function Fb(t,e){const n={},s=d(t,["displayName"]);e!==void 0&&s!=null&&h(e,["displayName"],s);const r=d(t,["description"]);e!==void 0&&r!=null&&h(e,["description"],r);const l=d(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&h(e,["defaultCheckpointId"],l),n}function Yb(t,e){const n={},s=d(t,["displayName"]);e!==void 0&&s!=null&&h(e,["displayName"],s);const r=d(t,["description"]);e!==void 0&&r!=null&&h(e,["description"],r);const l=d(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&h(e,["defaultCheckpointId"],l),n}function Jb(t,e){const n={},s=d(e,["model"]);s!=null&&h(n,["_url","name"],qe(t,s));const r=d(e,["config"]);return r!=null&&Fb(r,n),n}function $b(t,e){const n={},s=d(e,["model"]);s!=null&&h(n,["_url","model"],qe(t,s));const r=d(e,["config"]);return r!=null&&Yb(r,n),n}function Kb(t,e){const n={},s=d(t,["outputGcsUri"]);e!==void 0&&s!=null&&h(e,["parameters","storageUri"],s);const r=d(t,["safetyFilterLevel"]);e!==void 0&&r!=null&&h(e,["parameters","safetySetting"],r);const l=d(t,["personGeneration"]);e!==void 0&&l!=null&&h(e,["parameters","personGeneration"],l);const c=d(t,["includeRaiReason"]);e!==void 0&&c!=null&&h(e,["parameters","includeRaiReason"],c);const g=d(t,["outputMimeType"]);e!==void 0&&g!=null&&h(e,["parameters","outputOptions","mimeType"],g);const p=d(t,["outputCompressionQuality"]);e!==void 0&&p!=null&&h(e,["parameters","outputOptions","compressionQuality"],p);const f=d(t,["enhanceInputImage"]);e!==void 0&&f!=null&&h(e,["parameters","upscaleConfig","enhanceInputImage"],f);const v=d(t,["imagePreservationFactor"]);e!==void 0&&v!=null&&h(e,["parameters","upscaleConfig","imagePreservationFactor"],v);const E=d(t,["labels"]);e!==void 0&&E!=null&&h(e,["labels"],E);const T=d(t,["numberOfImages"]);e!==void 0&&T!=null&&h(e,["parameters","sampleCount"],T);const x=d(t,["mode"]);return e!==void 0&&x!=null&&h(e,["parameters","mode"],x),n}function Xb(t,e){const n={},s=d(e,["model"]);s!=null&&h(n,["_url","model"],qe(t,s));const r=d(e,["image"]);r!=null&&h(n,["instances[0]","image"],$n(r));const l=d(e,["upscaleFactor"]);l!=null&&h(n,["parameters","upscaleConfig","upscaleFactor"],l);const c=d(e,["config"]);return c!=null&&Kb(c,n),n}function Qb(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const s=d(t,["predictions"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(l=>Yc(l))),h(e,["generatedImages"],r)}return e}function Wb(t){const e={},n=d(t,["uri"]);n!=null&&h(e,["uri"],n);const s=d(t,["encodedVideo"]);s!=null&&h(e,["videoBytes"],qo(s));const r=d(t,["encoding"]);return r!=null&&h(e,["mimeType"],r),e}function Zb(t){const e={},n=d(t,["gcsUri"]);n!=null&&h(e,["uri"],n);const s=d(t,["bytesBase64Encoded"]);s!=null&&h(e,["videoBytes"],qo(s));const r=d(t,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function jb(t){const e={},n=d(t,["image"]);n!=null&&h(e,["_self"],$n(n));const s=d(t,["maskMode"]);return s!=null&&h(e,["maskMode"],s),e}function eR(t){const e={},n=d(t,["image"]);n!=null&&h(e,["image"],Jc(n));const s=d(t,["referenceType"]);return s!=null&&h(e,["referenceType"],s),e}function tR(t){const e={},n=d(t,["image"]);n!=null&&h(e,["image"],$n(n));const s=d(t,["referenceType"]);return s!=null&&h(e,["referenceType"],s),e}function _E(t){const e={},n=d(t,["uri"]);n!=null&&h(e,["uri"],n);const s=d(t,["videoBytes"]);s!=null&&h(e,["encodedVideo"],qo(s));const r=d(t,["mimeType"]);return r!=null&&h(e,["encoding"],r),e}function EE(t){const e={},n=d(t,["uri"]);n!=null&&h(e,["gcsUri"],n);const s=d(t,["videoBytes"]);s!=null&&h(e,["bytesBase64Encoded"],qo(s));const r=d(t,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nR(t,e){const n={},s=d(t,["displayName"]);return e!==void 0&&s!=null&&h(e,["displayName"],s),n}function iR(t){const e={},n=d(t,["config"]);return n!=null&&nR(n,e),e}function oR(t,e){const n={},s=d(t,["force"]);return e!==void 0&&s!=null&&h(e,["_query","force"],s),n}function sR(t){const e={},n=d(t,["name"]);n!=null&&h(e,["_url","name"],n);const s=d(t,["config"]);return s!=null&&oR(s,e),e}function rR(t){const e={},n=d(t,["name"]);return n!=null&&h(e,["_url","name"],n),e}function aR(t,e){const n={},s=d(t,["customMetadata"]);if(e!==void 0&&s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>c)),h(e,["customMetadata"],l)}const r=d(t,["chunkingConfig"]);return e!==void 0&&r!=null&&h(e,["chunkingConfig"],r),n}function lR(t){const e={},n=d(t,["name"]);n!=null&&h(e,["name"],n);const s=d(t,["metadata"]);s!=null&&h(e,["metadata"],s);const r=d(t,["done"]);r!=null&&h(e,["done"],r);const l=d(t,["error"]);l!=null&&h(e,["error"],l);const c=d(t,["response"]);return c!=null&&h(e,["response"],cR(c)),e}function uR(t){const e={},n=d(t,["fileSearchStoreName"]);n!=null&&h(e,["_url","file_search_store_name"],n);const s=d(t,["fileName"]);s!=null&&h(e,["fileName"],s);const r=d(t,["config"]);return r!=null&&aR(r,e),e}function cR(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const s=d(t,["parent"]);s!=null&&h(e,["parent"],s);const r=d(t,["documentName"]);return r!=null&&h(e,["documentName"],r),e}function dR(t,e){const n={},s=d(t,["pageSize"]);e!==void 0&&s!=null&&h(e,["_query","pageSize"],s);const r=d(t,["pageToken"]);return e!==void 0&&r!=null&&h(e,["_query","pageToken"],r),n}function fR(t){const e={},n=d(t,["config"]);return n!=null&&dR(n,e),e}function hR(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const s=d(t,["nextPageToken"]);s!=null&&h(e,["nextPageToken"],s);const r=d(t,["fileSearchStores"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>c)),h(e,["fileSearchStores"],l)}return e}function TE(t,e){const n={},s=d(t,["mimeType"]);e!==void 0&&s!=null&&h(e,["mimeType"],s);const r=d(t,["displayName"]);e!==void 0&&r!=null&&h(e,["displayName"],r);const l=d(t,["customMetadata"]);if(e!==void 0&&l!=null){let g=l;Array.isArray(g)&&(g=g.map(p=>p)),h(e,["customMetadata"],g)}const c=d(t,["chunkingConfig"]);return e!==void 0&&c!=null&&h(e,["chunkingConfig"],c),n}function pR(t){const e={},n=d(t,["fileSearchStoreName"]);n!=null&&h(e,["_url","file_search_store_name"],n);const s=d(t,["config"]);return s!=null&&TE(s,e),e}function mR(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&h(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gR="Content-Type",yR="X-Server-Timeout",vR="User-Agent",Ih="x-goog-api-client",_R="1.36.0",ER=`google-genai-sdk/${_R}`,TR="v1beta1",SR="v1beta";class AR{constructor(e){var n,s;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:TR,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:SR,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const s=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&s.push(e.apiVersion),s.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,s){const r=[this.getRequestUrlInternal(n)];return s&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,n,s);if(e.queryParams)for(const[c,g]of Object.entries(e.queryParams))r.searchParams.append(c,String(g));let l={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else l.body=e.body;return l=await this.includeExtraHttpOptionsToRequestInit(l,n,r.toString(),e.abortSignal),this.unaryApiCall(r,l,e.httpMethod)}patchHttpOptions(e,n){const s=JSON.parse(JSON.stringify(e));for(const[r,l]of Object.entries(n))typeof l=="object"?s[r]=Object.assign(Object.assign({},s[r]),l):l!==void 0&&(s[r]=l);return s}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,n,s);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let l={};return l.body=e.body,l=await this.includeExtraHttpOptionsToRequestInit(l,n,r.toString(),e.abortSignal),this.streamApiCall(r,l,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,s,r){if(n&&n.timeout||r){const l=new AbortController,c=l.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const g=setTimeout(()=>l.abort(),n.timeout);g&&typeof g.unref=="function"&&g.unref()}r&&r.addEventListener("abort",()=>{l.abort()}),e.signal=c}return n&&n.extraBody!==null&&CR(e,n.extraBody),e.headers=await this.getHeadersInternal(n,s),e}async unaryApiCall(e,n,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:s})).then(async r=>(await k0(r),new Ch(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,n,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:s})).then(async r=>(await k0(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){return Fn(this,arguments,function*(){var s;const r=(s=e==null?void 0:e.body)===null||s===void 0?void 0:s.getReader(),l=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let c="";const g="data:",p=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:f,value:v}=yield Te(r.read());if(f){if(c.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const E=l.decode(v,{stream:!0});try{const M=JSON.parse(E);if("error"in M){const U=JSON.parse(JSON.stringify(M.error)),k=U.status,F=U.code,Y=`got status: ${k}. ${JSON.stringify(M)}`;if(F>=400&&F<600)throw new qc({message:Y,status:F})}}catch(M){if(M.name==="ApiError")throw M}c+=E;let T=-1,x=0;for(;;){T=-1,x=0;for(const k of p){const F=c.indexOf(k);F!==-1&&(T===-1||F<T)&&(T=F,x=k.length)}if(T===-1)break;const M=c.substring(0,T);c=c.substring(T+x);const U=M.trim();if(U.startsWith(g)){const k=U.substring(g.length).trim();try{const F=new Response(k,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Te(new Ch(F))}catch(F){throw new Error(`exception parsing stream chunk ${k}. ${F}`)}}}}}finally{r.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(s=>{throw new Error(`exception ${s} sending request`)})}getDefaultHeaders(){const e={},n=ER+" "+this.clientOptions.userAgentExtra;return e[vR]=n,e[Ih]=n,e[gR]="application/json",e}async getHeadersInternal(e,n){const s=new Headers;if(e&&e.headers){for(const[r,l]of Object.entries(e.headers))s.append(r,l);e.timeout&&e.timeout>0&&s.append(yR,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(s,n),s}getFileName(e){var n;let s="";return typeof e=="string"&&(s=e.replace(/[/\\]+$/,""),s=(n=s.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),s}async uploadFile(e,n){var s;const r={};n!=null&&(r.mimeType=n.mimeType,r.name=n.name,r.displayName=n.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const l=this.clientOptions.uploader,c=await l.stat(e);r.sizeBytes=String(c.size);const g=(s=n==null?void 0:n.mimeType)!==null&&s!==void 0?s:c.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=g;const p={file:r},f=this.getFileName(e),v=ce("upload/v1beta/files",p._url),E=await this.fetchUploadUrl(v,r.sizeBytes,r.mimeType,f,p,n==null?void 0:n.httpOptions);return l.upload(e,E,this)}async uploadFileToFileSearchStore(e,n,s){var r;const l=this.clientOptions.uploader,c=await l.stat(n),g=String(c.size),p=(r=s==null?void 0:s.mimeType)!==null&&r!==void 0?r:c.type;if(p===void 0||p==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const f=`upload/v1beta/${e}:uploadToFileSearchStore`,v=this.getFileName(n),E={};s!=null&&TE(s,E);const T=await this.fetchUploadUrl(f,g,p,v,E,s==null?void 0:s.httpOptions);return l.uploadToFileSearchStore(n,T,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,s,r,l,c){var g;let p={};c?p=c:p={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${s}`},r?{"X-Goog-Upload-File-Name":r}:{})};const f=await this.request({path:e,body:JSON.stringify(l),httpMethod:"POST",httpOptions:p});if(!f||!(f!=null&&f.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(g=f==null?void 0:f.headers)===null||g===void 0?void 0:g["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function k0(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let s;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?s=await t.json():s={error:{message:await t.text(),code:t.status,status:t.statusText}};const r=JSON.stringify(s);throw n>=400&&n<600?new qc({message:r,status:n}):new Error(r)}}function CR(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const l=JSON.parse(t.body);if(typeof l=="object"&&l!==null&&!Array.isArray(l))n=l;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function s(l,c){const g=Object.assign({},l);for(const p in c)if(Object.prototype.hasOwnProperty.call(c,p)){const f=c[p],v=g[p];f&&typeof f=="object"&&!Array.isArray(f)&&v&&typeof v=="object"&&!Array.isArray(v)?g[p]=s(v,f):(v&&f&&typeof v!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${p}". Original type: ${typeof v}, New type: ${typeof f}. Overwriting.`),g[p]=f)}return g}const r=s(n,e);t.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wR="mcp_used/unknown";let xR=!1;function SE(t){for(const e of t)if(bR(e)||typeof e=="object"&&"inputSchema"in e)return!0;return xR}function AE(t){var e;const n=(e=t[Ih])!==null&&e!==void 0?e:"";t[Ih]=(n+` ${wR}`).trimStart()}function bR(t){return t!==null&&typeof t=="object"&&t instanceof ap}function RR(t){return Fn(this,arguments,function*(n,s=100){let r,l=0;for(;l<s;){const c=yield Te(n.listTools({cursor:r}));for(const g of c.tools)yield yield Te(g),l++;if(!c.nextCursor)break;r=c.nextCursor}})}class ap{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new ap(e,n)}async initialize(){var e,n,s,r;if(this.mcpTools.length>0)return;const l={},c=[];for(const v of this.mcpClients)try{for(var g=!0,p=(n=void 0,Yn(RR(v))),f;f=await p.next(),e=f.done,!e;g=!0){r=f.value,g=!1;const E=r;c.push(E);const T=E.name;if(l[T])throw new Error(`Duplicate function name ${T} found in MCP tools. Please ensure function names are unique.`);l[T]=v}}catch(E){n={error:E}}finally{try{!g&&!e&&(s=p.return)&&await s.call(p)}finally{if(n)throw n.error}}this.mcpTools=c,this.functionNameToMcpClient=l}async tool(){return await this.initialize(),s1(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const s of e)if(s.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[s.name];let l;this.config.timeout&&(l={timeout:this.config.timeout});const c=await r.callTool({name:s.name,arguments:s.args},void 0,l);n.push({functionResponse:{name:s.name,response:c.isError?{error:c}:c}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function IR(t,e,n){const s=new WC;let r;n.data instanceof Blob?r=JSON.parse(await n.data.text()):r=JSON.parse(n.data),Object.assign(s,r),e(s)}class NR{constructor(e,n,s){this.apiClient=e,this.auth=n,this.webSocketFactory=s}async connect(e){var n,s;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion(),c=kR(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),p=`${r}/ws/google.ai.generativelanguage.${l}.GenerativeService.BidiGenerateMusic?key=${g}`;let f=()=>{};const v=new Promise(B=>{f=B}),E=e.callbacks,T=function(){f({})},x=this.apiClient,M={onopen:T,onmessage:B=>{IR(x,E.onmessage,B)},onerror:(n=E==null?void 0:E.onerror)!==null&&n!==void 0?n:function(B){},onclose:(s=E==null?void 0:E.onclose)!==null&&s!==void 0?s:function(B){}},U=this.webSocketFactory.create(p,DR(c),M);U.connect(),await v;const Y={setup:{model:qe(this.apiClient,e.model)}};return U.send(JSON.stringify(Y)),new MR(U,this.apiClient)}}class MR{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=nx(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=tx(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Nr.PLAY)}pause(){this.sendPlaybackControl(Nr.PAUSE)}stop(){this.sendPlaybackControl(Nr.STOP)}resetContext(){this.sendPlaybackControl(Nr.RESET_CONTEXT)}close(){this.conn.close()}}function DR(t){const e={};return t.forEach((n,s)=>{e[s]=n}),e}function kR(t){const e=new Headers;for(const[n,s]of Object.entries(t))e.append(n,s);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const PR="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function UR(t,e,n){const s=new QC;let r;n.data instanceof Blob?r=await n.data.text():n.data instanceof ArrayBuffer?r=new TextDecoder().decode(n.data):r=n.data;const l=JSON.parse(r);if(t.isVertexAI()){const c=sx(l);Object.assign(s,c)}else Object.assign(s,l);e(s)}class LR{constructor(e,n,s){this.apiClient=e,this.auth=n,this.webSocketFactory=s,this.music=new NR(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,s,r,l,c,g;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const p=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let v;const E=this.apiClient.getHeaders();e.config&&e.config.tools&&SE(e.config.tools)&&AE(E);const T=GR(E);if(this.apiClient.isVertexAI())v=`${p}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(T,v);else{const I=this.apiClient.getApiKey();let O="BidiGenerateContent",L="key";I!=null&&I.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),O="BidiGenerateContentConstrained",L="access_token"),v=`${p}/ws/google.ai.generativelanguage.${f}.GenerativeService.${O}?${L}=${I}`}let x=()=>{};const M=new Promise(I=>{x=I}),U=e.callbacks,k=function(){var I;(I=U==null?void 0:U.onopen)===null||I===void 0||I.call(U),x({})},F=this.apiClient,Y={onopen:k,onmessage:I=>{UR(F,U.onmessage,I)},onerror:(n=U==null?void 0:U.onerror)!==null&&n!==void 0?n:function(I){},onclose:(s=U==null?void 0:U.onclose)!==null&&s!==void 0?s:function(I){}},B=this.webSocketFactory.create(v,HR(T),Y);B.connect(),await M;let oe=qe(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&oe.startsWith("publishers/")){const I=this.apiClient.getProject(),O=this.apiClient.getLocation();oe=`projects/${I}/locations/${O}/`+oe}let se={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[xc.AUDIO]}:e.config.responseModalities=[xc.AUDIO]),!((l=e.config)===null||l===void 0)&&l.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const ae=(g=(c=e.config)===null||c===void 0?void 0:c.tools)!==null&&g!==void 0?g:[],D=[];for(const I of ae)if(this.isCallableTool(I)){const O=I;D.push(await O.tool())}else D.push(I);D.length>0&&(e.config.tools=D);const N={model:oe,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?se=ex(this.apiClient,N):se=jw(this.apiClient,N),delete se.config,B.send(JSON.stringify(se)),new VR(B,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const OR={turnComplete:!0};class VR{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let s=[];try{s=xn(n.turns),e.isVertexAI()||(s=s.map(r=>Fc(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:s,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let s=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?s=n.functionResponses:s=[n.functionResponses],s.length===0)throw new Error("functionResponses is required.");for(const l of s){if(typeof l!="object"||l===null||!("name"in l)||!("response"in l))throw new Error(`Could not parse function response, type '${typeof l}'.`);if(!e.isVertexAI()&&!("id"in l))throw new Error(PR)}return{toolResponse:{functionResponses:s}}}sendClientContent(e){e=Object.assign(Object.assign({},OR),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:ox(e)}:n={realtimeInput:ix(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function HR(t){const e={};return t.forEach((n,s)=>{e[s]=n}),e}function GR(t){const e=new Headers;for(const[n,s]of Object.entries(t))e.append(n,s);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const P0=10;function U0(t){var e,n,s;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const c of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Ur(c)){r=!0;break}if(!r)return!0;const l=(s=t==null?void 0:t.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls;return l&&(l<0||!Number.isInteger(l))||l==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",l),!0):!1}function Ur(t){return"callTool"in t&&typeof t.callTool=="function"}function BR(t){var e,n,s;return(s=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(r=>Ur(r)))!==null&&s!==void 0?s:!1}function L0(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((s,r)=>{if(Ur(s))return;const l=s;l.functionDeclarations&&l.functionDeclarations.length>0&&n.push(r)}),n}function O0(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zR extends Xi{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var s,r,l,c,g;const p=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!BR(n)||U0(n.config))return await this.generateContentInternal(p);const f=L0(n);if(f.length>0){const U=f.map(k=>`tools[${k}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${U}.`)}let v,E;const T=xn(p.contents),x=(l=(r=(s=p.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&l!==void 0?l:P0;let M=0;for(;M<x&&(v=await this.generateContentInternal(p),!(!v.functionCalls||v.functionCalls.length===0));){const U=v.candidates[0].content,k=[];for(const F of(g=(c=n.config)===null||c===void 0?void 0:c.tools)!==null&&g!==void 0?g:[])if(Ur(F)){const B=await F.callTool(v.functionCalls);k.push(...B)}M++,E={role:"user",parts:k},p.contents=xn(p.contents),p.contents.push(U),p.contents.push(E),O0(p.config)&&(T.push(U),T.push(E))}return O0(p.config)&&(v.automaticFunctionCallingHistory=T),v},this.generateContentStream=async n=>{var s,r,l,c,g;if(this.maybeMoveToResponseJsonSchem(n),U0(n.config)){const E=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(E)}const p=L0(n);if(p.length>0){const E=p.map(T=>`tools[${T}]`).join(", ");throw new Error(`Incompatible tools found at ${E}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const f=(l=(r=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||l===void 0?void 0:l.streamFunctionCallArguments,v=(g=(c=n==null?void 0:n.config)===null||c===void 0?void 0:c.automaticFunctionCalling)===null||g===void 0?void 0:g.disable;if(f&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(s=>{var r;let l;const c=[];if(s!=null&&s.generatedImages)for(const p of s.generatedImages)p&&(p!=null&&p.safetyAttributes)&&((r=p==null?void 0:p.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?l=p==null?void 0:p.safetyAttributes:c.push(p);let g;return l?g={generatedImages:c,positivePromptSafetyAttributes:l,sdkHttpResponse:s.sdkHttpResponse}:g={generatedImages:c,sdkHttpResponse:s.sdkHttpResponse},g}),this.list=async n=>{var s;const c={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!c.config.queryBase){if(!((s=c.config)===null||s===void 0)&&s.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");c.config.filter="labels.tune-type:*"}return new Ls(Yi.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(c),c)},this.editImage=async n=>{const s={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(s.referenceImages=n.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(s)},this.upscaleImage=async n=>{let s={numberOfImages:1,mode:"upscale"};n.config&&(s=Object.assign(Object.assign({},s),n.config));const r={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:s};return await this.upscaleImageInternal(r)},this.generateVideos=async n=>{var s,r,l,c,g,p;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((s=n.video)===null||s===void 0)&&s.uri&&(!((r=n.video)===null||r===void 0)&&r.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((c=(l=n.source)===null||l===void 0?void 0:l.video)===null||c===void 0)&&c.uri&&(!((p=(g=n.source)===null||g===void 0?void 0:g.video)===null||p===void 0)&&p.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,s,r;const l=(n=e.config)===null||n===void 0?void 0:n.tools;if(!l)return e;const c=await Promise.all(l.map(async p=>Ur(p)?await p.tool():p)),g={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:c})};if(g.config.tools=c,e.config&&e.config.tools&&SE(e.config.tools)){const p=(r=(s=e.config.httpOptions)===null||s===void 0?void 0:s.headers)!==null&&r!==void 0?r:{};let f=Object.assign({},p);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),AE(f),g.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:f})}return g}async initAfcToolsMap(e){var n,s,r;const l=new Map;for(const c of(s=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&s!==void 0?s:[])if(Ur(c)){const g=c,p=await g.tool();for(const f of(r=p.functionDeclarations)!==null&&r!==void 0?r:[]){if(!f.name)throw new Error("Function declaration name is required.");if(l.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);l.set(f.name,g)}}return l}async processAfcStream(e){var n,s,r;const l=(r=(s=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&r!==void 0?r:P0;let c=!1,g=0;const p=await this.initAfcToolsMap(e);return(function(f,v,E){return Fn(this,arguments,function*(){for(var T,x,M,U,k,F;g<l;){c&&(g++,c=!1);const se=yield Te(f.processParamsMaybeAddMcpUsage(E)),ae=yield Te(f.generateContentStreamInternal(se)),D=[],N=[];try{for(var Y=!0,B=(x=void 0,Yn(ae)),oe;oe=yield Te(B.next()),T=oe.done,!T;Y=!0){U=oe.value,Y=!1;const I=U;if(yield yield Te(I),I.candidates&&(!((k=I.candidates[0])===null||k===void 0)&&k.content)){N.push(I.candidates[0].content);for(const O of(F=I.candidates[0].content.parts)!==null&&F!==void 0?F:[])if(g<l&&O.functionCall){if(!O.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(O.functionCall.name)){const L=yield Te(v.get(O.functionCall.name).callTool([O.functionCall]));D.push(...L)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${O.functionCall.name}`)}}}}catch(I){x={error:I}}finally{try{!Y&&!T&&(M=B.return)&&(yield Te(M.call(B)))}finally{if(x)throw x.error}}if(D.length>0){c=!0;const I=new nl;I.candidates=[{content:{role:"user",parts:D}}],yield yield Te(I);const O=[];O.push(...N),O.push({role:"user",parts:D});const L=xn(E.contents).concat(O);E.contents=L}else break}})})(this,p,e)}async generateContentInternal(e){var n,s,r,l;let c,g="",p={};if(this.apiClient.isVertexAI()){const f=N0(this.apiClient,e);return g=ce("{model}:generateContent",f._url),p=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:g,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),c.then(v=>{const E=D0(v),T=new nl;return Object.assign(T,E),T})}else{const f=I0(this.apiClient,e);return g=ce("{model}:generateContent",f._url),p=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:g,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),c.then(v=>{const E=M0(v),T=new nl;return Object.assign(T,E),T})}}async generateContentStreamInternal(e){var n,s,r,l;let c,g="",p={};if(this.apiClient.isVertexAI()){const f=N0(this.apiClient,e);return g=ce("{model}:streamGenerateContent?alt=sse",f._url),p=f._query,delete f._url,delete f._query,c=this.apiClient.requestStream({path:g,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),c.then(function(E){return Fn(this,arguments,function*(){var T,x,M,U;try{for(var k=!0,F=Yn(E),Y;Y=yield Te(F.next()),T=Y.done,!T;k=!0){U=Y.value,k=!1;const B=U,oe=D0(yield Te(B.json()));oe.sdkHttpResponse={headers:B.headers};const se=new nl;Object.assign(se,oe),yield yield Te(se)}}catch(B){x={error:B}}finally{try{!k&&!T&&(M=F.return)&&(yield Te(M.call(F)))}finally{if(x)throw x.error}}})})}else{const f=I0(this.apiClient,e);return g=ce("{model}:streamGenerateContent?alt=sse",f._url),p=f._query,delete f._url,delete f._query,c=this.apiClient.requestStream({path:g,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),c.then(function(E){return Fn(this,arguments,function*(){var T,x,M,U;try{for(var k=!0,F=Yn(E),Y;Y=yield Te(F.next()),T=Y.done,!T;k=!0){U=Y.value,k=!1;const B=U,oe=M0(yield Te(B.json()));oe.sdkHttpResponse={headers:B.headers};const se=new nl;Object.assign(se,oe),yield yield Te(se)}}catch(B){x={error:B}}finally{try{!k&&!T&&(M=F.return)&&(yield Te(M.call(F)))}finally{if(x)throw x.error}}})})}}async embedContent(e){var n,s,r,l;let c,g="",p={};if(this.apiClient.isVertexAI()){const f=Lx(this.apiClient,e);return g=ce("{model}:predict",f._url),p=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:g,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),c.then(v=>{const E=Vx(v),T=new f0;return Object.assign(T,E),T})}else{const f=Ux(this.apiClient,e);return g=ce("{model}:batchEmbedContents",f._url),p=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:g,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),c.then(v=>{const E=Ox(v),T=new f0;return Object.assign(T,E),T})}}async generateImagesInternal(e){var n,s,r,l;let c,g="",p={};if(this.apiClient.isVertexAI()){const f=Xx(this.apiClient,e);return g=ce("{model}:predict",f._url),p=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:g,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),c.then(v=>{const E=Wx(v),T=new h0;return Object.assign(T,E),T})}else{const f=Kx(this.apiClient,e);return g=ce("{model}:predict",f._url),p=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:g,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),c.then(v=>{const E=Qx(v),T=new h0;return Object.assign(T,E),T})}}async editImageInternal(e){var n,s;let r,l="",c={};if(this.apiClient.isVertexAI()){const g=Mx(this.apiClient,e);return l=ce("{model}:predict",g._url),c=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(f=>{const v=f;return v.sdkHttpResponse={headers:p.headers},v})),r.then(p=>{const f=Dx(p),v=new HC;return Object.assign(v,f),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,s;let r,l="",c={};if(this.apiClient.isVertexAI()){const g=Xb(this.apiClient,e);return l=ce("{model}:predict",g._url),c=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(f=>{const v=f;return v.sdkHttpResponse={headers:p.headers},v})),r.then(p=>{const f=Qb(p),v=new GC;return Object.assign(v,f),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,s;let r,l="",c={};if(this.apiClient.isVertexAI()){const g=Nb(this.apiClient,e);return l=ce("{model}:predict",g._url),c=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),r.then(p=>{const f=Mb(p),v=new BC;return Object.assign(v,f),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,s;let r,l="",c={};if(this.apiClient.isVertexAI()){const g=Ob(this.apiClient,e);return l=ce("{model}:predict",g._url),c=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),r.then(p=>{const f=Vb(p),v=new zC;return Object.assign(v,f),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,s,r,l;let c,g="",p={};if(this.apiClient.isVertexAI()){const f=pb(this.apiClient,e);return g=ce("{name}",f._url),p=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:g,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>Rh(v))}else{const f=hb(this.apiClient,e);return g=ce("{name}",f._url),p=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:g,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>bh(v))}}async listInternal(e){var n,s,r,l;let c,g="",p={};if(this.apiClient.isVertexAI()){const f=Ab(this.apiClient,e);return g=ce("{models_url}",f._url),p=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:g,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),c.then(v=>{const E=wb(v),T=new p0;return Object.assign(T,E),T})}else{const f=Sb(this.apiClient,e);return g=ce("{models_url}",f._url),p=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:g,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),c.then(v=>{const E=Cb(v),T=new p0;return Object.assign(T,E),T})}}async update(e){var n,s,r,l;let c,g="",p={};if(this.apiClient.isVertexAI()){const f=$b(this.apiClient,e);return g=ce("{model}",f._url),p=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:g,queryParams:p,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>Rh(v))}else{const f=Jb(this.apiClient,e);return g=ce("{name}",f._url),p=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:g,queryParams:p,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>bh(v))}}async delete(e){var n,s,r,l;let c,g="",p={};if(this.apiClient.isVertexAI()){const f=bx(this.apiClient,e);return g=ce("{name}",f._url),p=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:g,queryParams:p,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),c.then(v=>{const E=Ix(v),T=new m0;return Object.assign(T,E),T})}else{const f=xx(this.apiClient,e);return g=ce("{name}",f._url),p=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:g,queryParams:p,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),c.then(v=>{const E=Rx(v),T=new m0;return Object.assign(T,E),T})}}async countTokens(e){var n,s,r,l;let c,g="",p={};if(this.apiClient.isVertexAI()){const f=Ax(this.apiClient,e);return g=ce("{model}:countTokens",f._url),p=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:g,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),c.then(v=>{const E=wx(v),T=new g0;return Object.assign(T,E),T})}else{const f=Sx(this.apiClient,e);return g=ce("{model}:countTokens",f._url),p=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:g,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),c.then(v=>{const E=Cx(v),T=new g0;return Object.assign(T,E),T})}}async computeTokens(e){var n,s;let r,l="",c={};if(this.apiClient.isVertexAI()){const g=mx(this.apiClient,e);return l=ce("{model}:computeTokens",g._url),c=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(f=>{const v=f;return v.sdkHttpResponse={headers:p.headers},v})),r.then(p=>{const f=gx(p),v=new qC;return Object.assign(v,f),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,s,r,l;let c,g="",p={};if(this.apiClient.isVertexAI()){const f=ib(this.apiClient,e);return g=ce("{model}:predictLongRunning",f._url),p=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:g,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>{const E=tb(v),T=new bc;return Object.assign(T,E),T})}else{const f=nb(this.apiClient,e);return g=ce("{model}:predictLongRunning",f._url),p=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:g,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>{const E=eb(v),T=new bc;return Object.assign(T,E),T})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qR extends Xi{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,s=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let l;s&&"httpOptions"in s&&(l=s.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:l}});return n._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:s});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(e){const n=e.operation,s=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let l;s&&"httpOptions"in s&&(l=s.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:l}});return n._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:s});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,s,r,l;let c,g="",p={};if(this.apiClient.isVertexAI()){const f=kC(e);return g=ce("{operationName}",f._url),p=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:g,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c}else{const f=DC(e);return g=ce("{operationName}",f._url),p=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:g,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c}}async fetchPredictVideosOperationInternal(e){var n,s;let r,l="",c={};if(this.apiClient.isVertexAI()){const g=wC(e);return l=ce("{resourceName}:fetchPredictOperation",g._url),c=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function FR(t){const e={},n=d(t,["data"]);if(n!=null&&h(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=d(t,["mimeType"]);return s!=null&&h(e,["mimeType"],s),e}function YR(t){const e={},n=d(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>eI(l))),h(e,["parts"],r)}const s=d(t,["role"]);return s!=null&&h(e,["role"],s),e}function JR(t,e,n){const s={},r=d(e,["expireTime"]);n!==void 0&&r!=null&&h(n,["expireTime"],r);const l=d(e,["newSessionExpireTime"]);n!==void 0&&l!=null&&h(n,["newSessionExpireTime"],l);const c=d(e,["uses"]);n!==void 0&&c!=null&&h(n,["uses"],c);const g=d(e,["liveConnectConstraints"]);n!==void 0&&g!=null&&h(n,["bidiGenerateContentSetup"],jR(t,g));const p=d(e,["lockAdditionalFields"]);return n!==void 0&&p!=null&&h(n,["fieldMask"],p),s}function $R(t,e){const n={},s=d(e,["config"]);return s!=null&&h(n,["config"],JR(t,s,n)),n}function KR(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&h(e,["fileUri"],n);const s=d(t,["mimeType"]);return s!=null&&h(e,["mimeType"],s),e}function XR(t){const e={},n=d(t,["id"]);n!=null&&h(e,["id"],n);const s=d(t,["args"]);s!=null&&h(e,["args"],s);const r=d(t,["name"]);if(r!=null&&h(e,["name"],r),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function QR(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&h(e,["enableWidget"],n),e}function WR(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&h(e,["timeRangeFilter"],n),e}function ZR(t,e){const n={},s=d(t,["generationConfig"]);e!==void 0&&s!=null&&h(e,["setup","generationConfig"],s);const r=d(t,["responseModalities"]);e!==void 0&&r!=null&&h(e,["setup","generationConfig","responseModalities"],r);const l=d(t,["temperature"]);e!==void 0&&l!=null&&h(e,["setup","generationConfig","temperature"],l);const c=d(t,["topP"]);e!==void 0&&c!=null&&h(e,["setup","generationConfig","topP"],c);const g=d(t,["topK"]);e!==void 0&&g!=null&&h(e,["setup","generationConfig","topK"],g);const p=d(t,["maxOutputTokens"]);e!==void 0&&p!=null&&h(e,["setup","generationConfig","maxOutputTokens"],p);const f=d(t,["mediaResolution"]);e!==void 0&&f!=null&&h(e,["setup","generationConfig","mediaResolution"],f);const v=d(t,["seed"]);e!==void 0&&v!=null&&h(e,["setup","generationConfig","seed"],v);const E=d(t,["speechConfig"]);e!==void 0&&E!=null&&h(e,["setup","generationConfig","speechConfig"],rp(E));const T=d(t,["thinkingConfig"]);e!==void 0&&T!=null&&h(e,["setup","generationConfig","thinkingConfig"],T);const x=d(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&h(e,["setup","generationConfig","enableAffectiveDialog"],x);const M=d(t,["systemInstruction"]);e!==void 0&&M!=null&&h(e,["setup","systemInstruction"],YR(zt(M)));const U=d(t,["tools"]);if(e!==void 0&&U!=null){let ae=qr(U);Array.isArray(ae)&&(ae=ae.map(D=>nI(zr(D)))),h(e,["setup","tools"],ae)}const k=d(t,["sessionResumption"]);e!==void 0&&k!=null&&h(e,["setup","sessionResumption"],tI(k));const F=d(t,["inputAudioTranscription"]);e!==void 0&&F!=null&&h(e,["setup","inputAudioTranscription"],F);const Y=d(t,["outputAudioTranscription"]);e!==void 0&&Y!=null&&h(e,["setup","outputAudioTranscription"],Y);const B=d(t,["realtimeInputConfig"]);e!==void 0&&B!=null&&h(e,["setup","realtimeInputConfig"],B);const oe=d(t,["contextWindowCompression"]);e!==void 0&&oe!=null&&h(e,["setup","contextWindowCompression"],oe);const se=d(t,["proactivity"]);if(e!==void 0&&se!=null&&h(e,["setup","proactivity"],se),d(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function jR(t,e){const n={},s=d(e,["model"]);s!=null&&h(n,["setup","model"],qe(t,s));const r=d(e,["config"]);return r!=null&&h(n,["config"],ZR(r,n)),n}function eI(t){const e={},n=d(t,["mediaResolution"]);n!=null&&h(e,["mediaResolution"],n);const s=d(t,["codeExecutionResult"]);s!=null&&h(e,["codeExecutionResult"],s);const r=d(t,["executableCode"]);r!=null&&h(e,["executableCode"],r);const l=d(t,["fileData"]);l!=null&&h(e,["fileData"],KR(l));const c=d(t,["functionCall"]);c!=null&&h(e,["functionCall"],XR(c));const g=d(t,["functionResponse"]);g!=null&&h(e,["functionResponse"],g);const p=d(t,["inlineData"]);p!=null&&h(e,["inlineData"],FR(p));const f=d(t,["text"]);f!=null&&h(e,["text"],f);const v=d(t,["thought"]);v!=null&&h(e,["thought"],v);const E=d(t,["thoughtSignature"]);E!=null&&h(e,["thoughtSignature"],E);const T=d(t,["videoMetadata"]);return T!=null&&h(e,["videoMetadata"],T),e}function tI(t){const e={},n=d(t,["handle"]);if(n!=null&&h(e,["handle"],n),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function nI(t){const e={};if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=d(t,["computerUse"]);n!=null&&h(e,["computerUse"],n);const s=d(t,["fileSearch"]);s!=null&&h(e,["fileSearch"],s);const r=d(t,["codeExecution"]);if(r!=null&&h(e,["codeExecution"],r),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=d(t,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(E=>E)),h(e,["functionDeclarations"],v)}const c=d(t,["googleMaps"]);c!=null&&h(e,["googleMaps"],QR(c));const g=d(t,["googleSearch"]);g!=null&&h(e,["googleSearch"],WR(g));const p=d(t,["googleSearchRetrieval"]);p!=null&&h(e,["googleSearchRetrieval"],p);const f=d(t,["urlContext"]);return f!=null&&h(e,["urlContext"],f),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iI(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const s=t[n];if(typeof s=="object"&&s!=null&&Object.keys(s).length>0){const r=Object.keys(s).map(l=>`${n}.${l}`);e.push(...r)}else e.push(n)}return e.join(",")}function oI(t,e){let n=null;const s=t.bidiGenerateContentSetup;if(typeof s=="object"&&s!==null&&"setup"in s){const l=s.setup;typeof l=="object"&&l!==null?(t.bidiGenerateContentSetup=l,n=l):delete t.bidiGenerateContentSetup}else s!==void 0&&delete t.bidiGenerateContentSetup;const r=t.fieldMask;if(n){const l=iI(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)l?t.fieldMask=l:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const c=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];r.length>0&&(g=r.map(f=>c.includes(f)?`generationConfig.${f}`:f));const p=[];l&&p.push(l),g.length>0&&p.push(...g),p.length>0?t.fieldMask=p.join(","):delete t.fieldMask}else delete t.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?t.fieldMask=r.join(","):delete t.fieldMask;return t}class sI extends Xi{constructor(e){super(),this.apiClient=e}async create(e){var n,s;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=$R(this.apiClient,e);l=ce("auth_tokens",g._url),c=g._query,delete g.config,delete g._url,delete g._query;const p=oI(g,e.config);return r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),r.then(f=>f)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rI(t,e){const n={},s=d(t,["force"]);return e!==void 0&&s!=null&&h(e,["_query","force"],s),n}function aI(t){const e={},n=d(t,["name"]);n!=null&&h(e,["_url","name"],n);const s=d(t,["config"]);return s!=null&&rI(s,e),e}function lI(t){const e={},n=d(t,["name"]);return n!=null&&h(e,["_url","name"],n),e}function uI(t,e){const n={},s=d(t,["pageSize"]);e!==void 0&&s!=null&&h(e,["_query","pageSize"],s);const r=d(t,["pageToken"]);return e!==void 0&&r!=null&&h(e,["_query","pageToken"],r),n}function cI(t){const e={},n=d(t,["parent"]);n!=null&&h(e,["_url","parent"],n);const s=d(t,["config"]);return s!=null&&uI(s,e),e}function dI(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const s=d(t,["nextPageToken"]);s!=null&&h(e,["nextPageToken"],s);const r=d(t,["documents"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>c)),h(e,["documents"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fI extends Xi{constructor(e){super(),this.apiClient=e,this.list=async n=>new Ls(Yi.PAGED_ITEM_DOCUMENTS,s=>this.listInternal({parent:n.parent,config:s.config}),await this.listInternal(n),n)}async get(e){var n,s;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=lI(e);return l=ce("{name}",g._url),c=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),r.then(p=>p)}}async delete(e){var n,s;let r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=aI(e);r=ce("{name}",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var n,s;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=cI(e);return l=ce("{parent}/documents",g._url),c=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),r.then(p=>{const f=dI(p),v=new FC;return Object.assign(v,f),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hI extends Xi{constructor(e,n=new fI(e)){super(),this.apiClient=e,this.documents=n,this.list=async(s={})=>new Ls(Yi.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(s),s)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,s;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=iR(e);return l=ce("fileSearchStores",g._url),c=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),r.then(p=>p)}}async get(e){var n,s;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=rR(e);return l=ce("{name}",g._url),c=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),r.then(p=>p)}}async delete(e){var n,s;let r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=sR(e);r=ce("{name}",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var n,s;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=fR(e);return l=ce("fileSearchStores",g._url),c=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),r.then(p=>{const f=hR(p),v=new YC;return Object.assign(v,f),v})}}async uploadToFileSearchStoreInternal(e){var n,s;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=pR(e);return l=ce("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",g._url),c=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),r.then(p=>{const f=mR(p),v=new JC;return Object.assign(v,f),v})}}async importFile(e){var n,s;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=uR(e);return l=ce("{file_search_store_name}:importFile",g._url),c=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),r.then(p=>{const f=lR(p),v=new tp;return Object.assign(v,f),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let CE=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return CE=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,s=>(+s^n()&15>>+s/4).toString(16))};const pI=()=>CE();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Nh(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const Mh=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bn extends Error{}class $t extends bn{constructor(e,n,s,r){super(`${$t.makeMessage(e,n,s)}`),this.status=e,this.headers=r,this.error=n}static makeMessage(e,n,s){const r=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):s;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,n,s,r){if(!e||!r)return new $c({message:s,cause:Mh(n)});const l=n;return e===400?new xE(e,l,s,r):e===401?new bE(e,l,s,r):e===403?new RE(e,l,s,r):e===404?new IE(e,l,s,r):e===409?new NE(e,l,s,r):e===422?new ME(e,l,s,r):e===429?new DE(e,l,s,r):e>=500?new kE(e,l,s,r):new $t(e,l,s,r)}}class Dh extends $t{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class $c extends $t{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class wE extends $c{constructor({message:e}={}){super({message:e??"Request timed out."})}}class xE extends $t{}class bE extends $t{}class RE extends $t{}class IE extends $t{}class NE extends $t{}class ME extends $t{}class DE extends $t{}class kE extends $t{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mI=/^[a-z][a-z0-9+.-]*:/i,gI=t=>mI.test(t);let kh=t=>(kh=Array.isArray,kh(t));const yI=kh;let vI=yI;const V0=vI;function _I(t){if(!t)return!0;for(const e in t)return!1;return!0}function EI(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const TI=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new bn(`${t} must be an integer`);if(e<0)throw new bn(`${t} must be a positive integer`);return e},SI=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const AI=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ir="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function CI(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const wI=()=>{var t,e,n,s,r;const l=CI();if(l==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ir,"X-Stainless-OS":G0(Deno.build.os),"X-Stainless-Arch":H0(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ir,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(l==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ir,"X-Stainless-OS":G0((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":H0((s=globalThis.process.arch)!==null&&s!==void 0?s:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const c=xI();return c?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ir,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${c.browser}`,"X-Stainless-Runtime-Version":c.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ir,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function xI(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const s=n.exec(navigator.userAgent);if(s){const r=s[1]||0,l=s[2]||0,c=s[3]||0;return{browser:e,version:`${r}.${l}.${c}`}}}return null}const H0=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",G0=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let rc;const bI=()=>rc??(rc=wI());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RI(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function PE(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function II(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return PE({start(){},async pull(n){const{done:s,value:r}=await e.next();s?n.close():n.enqueue(r)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function UE(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function NI(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const s=t.getReader(),r=s.cancel();s.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const MI=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const LE=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function lh(t,e,n){return LE(),new File(t,e??"unknown_file",n)}function DI(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const kI=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const OE=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",PI=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&OE(t),UI=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function LI(t,e,n){if(LE(),t=await t,PI(t))return t instanceof File?t:lh([await t.arrayBuffer()],t.name);if(UI(t)){const r=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),lh(await Ph(r),e,n)}const s=await Ph(t);if(e||(e=DI(t)),!(n!=null&&n.type)){const r=s.find(l=>typeof l=="object"&&"type"in l&&l.type);typeof r=="string"&&(n=Object.assign(Object.assign({},n),{type:r}))}return lh(s,e,n)}async function Ph(t){var e,n,s,r,l;let c=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)c.push(t);else if(OE(t))c.push(t instanceof Blob?t:await t.arrayBuffer());else if(kI(t))try{for(var g=!0,p=Yn(t),f;f=await p.next(),e=f.done,!e;g=!0){r=f.value,g=!1;const v=r;c.push(...await Ph(v))}}catch(v){n={error:v}}finally{try{!g&&!e&&(s=p.return)&&await s.call(p)}finally{if(n)throw n.error}}else{const v=(l=t==null?void 0:t.constructor)===null||l===void 0?void 0:l.name;throw new Error(`Unexpected data type: ${typeof t}${v?`; constructor: ${v}`:""}${OI(t)}`)}return c}function OI(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class VE{constructor(e){this._client=e}}VE._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HE(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const B0=Object.freeze(Object.create(null)),VI=(t=HE)=>(function(n,...s){if(n.length===1)return n[0];let r=!1;const l=[],c=n.reduce((v,E,T)=>{var x,M,U;/[?#]/.test(E)&&(r=!0);const k=s[T];let F=(r?encodeURIComponent:t)(""+k);return T!==s.length&&(k==null||typeof k=="object"&&k.toString===((U=Object.getPrototypeOf((M=Object.getPrototypeOf((x=k.hasOwnProperty)!==null&&x!==void 0?x:B0))!==null&&M!==void 0?M:B0))===null||U===void 0?void 0:U.toString))&&(F=k+"",l.push({start:v.length+E.length,length:F.length,error:`Value of type ${Object.prototype.toString.call(k).slice(8,-1)} is not a valid path parameter`})),v+E+(T===s.length?"":F)},""),g=c.split(/[?#]/,1)[0],p=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let f;for(;(f=p.exec(g))!==null;)l.push({start:f.index,length:f[0].length,error:`Value "${f[0]}" can't be safely passed as a path parameter`});if(l.sort((v,E)=>v.start-E.start),l.length>0){let v=0;const E=l.reduce((T,x)=>{const M=" ".repeat(x.start-v),U="^".repeat(x.length);return v=x.start+x.length,T+M+U},"");throw new bn(`Path parameters result in path with invalid segments:
${l.map(T=>T.error).join(`
`)}
${c}
${E}`)}return c}),ac=VI(HE);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class GE extends VE{create(e,n){var s;const{api_version:r=this._client.apiVersion}=e,l=Ic(e,["api_version"]);if("model"in l&&"agent_config"in l)throw new bn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in l&&"generation_config"in l)throw new bn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(ac`/${r}/interactions`,Object.assign(Object.assign({body:l},n),{stream:(s=e.stream)!==null&&s!==void 0?s:!1}))}delete(e,n={},s){const{api_version:r=this._client.apiVersion}=n??{};return this._client.delete(ac`/${r}/interactions/${e}`,s)}cancel(e,n={},s){const{api_version:r=this._client.apiVersion}=n??{};return this._client.post(ac`/${r}/interactions/${e}/cancel`,s)}get(e,n={},s){var r;const l=n??{},{api_version:c=this._client.apiVersion}=l,g=Ic(l,["api_version"]);return this._client.get(ac`/${c}/interactions/${e}`,Object.assign(Object.assign({query:g},s),{stream:(r=n==null?void 0:n.stream)!==null&&r!==void 0?r:!1}))}}GE._key=Object.freeze(["interactions"]);class BE extends GE{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HI(t){let e=0;for(const r of t)e+=r.length;const n=new Uint8Array(e);let s=0;for(const r of t)n.set(r,s),s+=r.length;return n}let lc;function lp(t){let e;return(lc??(e=new globalThis.TextEncoder,lc=e.encode.bind(e)))(t)}let uc;function z0(t){let e;return(uc??(e=new globalThis.TextDecoder,uc=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Kc{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?lp(e):e;this.buffer=HI([this.buffer,n]);const s=[];let r;for(;(r=GI(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){s.push(z0(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const l=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,c=z0(this.buffer.subarray(0,l));s.push(c),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return s}flush(){return this.buffer.length?this.decode(`
`):[]}}Kc.NEWLINE_CHARS=new Set([`
`,"\r"]);Kc.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function GI(t,e){for(let r=e??0;r<t.length;r++){if(t[r]===10)return{preceding:r,index:r+1,carriage:!1};if(t[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function BI(t){for(let s=0;s<t.length-1;s++){if(t[s]===10&&t[s+1]===10||t[s]===13&&t[s+1]===13)return s+2;if(t[s]===13&&t[s+1]===10&&s+3<t.length&&t[s+2]===13&&t[s+3]===10)return s+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Nc={off:0,error:200,warn:300,info:400,debug:500},q0=(t,e,n)=>{if(t){if(EI(Nc,t))return t;Yt(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Nc))}`)}};function sl(){}function cc(t,e,n){return!e||Nc[t]>Nc[n]?sl:e[t].bind(e)}const zI={error:sl,warn:sl,info:sl,debug:sl};let F0=new WeakMap;function Yt(t){var e;const n=t.logger,s=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return zI;const r=F0.get(n);if(r&&r[0]===s)return r[1];const l={error:cc("error",n,s),warn:cc("warn",n,s),info:cc("info",n,s),debug:cc("debug",n,s)};return F0.set(n,[s,l]),l}const As=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Mr{constructor(e,n,s){this.iterator=e,this.controller=n,this.client=s}static fromSSEResponse(e,n,s){let r=!1;const l=s?Yt(s):console;function c(){return Fn(this,arguments,function*(){var p,f,v,E;if(r)throw new bn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let T=!1;try{try{for(var x=!0,M=Yn(qI(e,n)),U;U=yield Te(M.next()),p=U.done,!p;x=!0){E=U.value,x=!1;const k=E;if(!T)if(k.data.startsWith("[DONE]")){T=!0;continue}else try{yield yield Te(JSON.parse(k.data))}catch(F){throw l.error("Could not parse message into JSON:",k.data),l.error("From chunk:",k.raw),F}}}catch(k){f={error:k}}finally{try{!x&&!p&&(v=M.return)&&(yield Te(v.call(M)))}finally{if(f)throw f.error}}T=!0}catch(k){if(Nh(k))return yield Te(void 0);throw k}finally{T||n.abort()}})}return new Mr(c,n,s)}static fromReadableStream(e,n,s){let r=!1;function l(){return Fn(this,arguments,function*(){var p,f,v,E;const T=new Kc,x=UE(e);try{for(var M=!0,U=Yn(x),k;k=yield Te(U.next()),p=k.done,!p;M=!0){E=k.value,M=!1;const F=E;for(const Y of T.decode(F))yield yield Te(Y)}}catch(F){f={error:F}}finally{try{!M&&!p&&(v=U.return)&&(yield Te(v.call(U)))}finally{if(f)throw f.error}}for(const F of T.flush())yield yield Te(F)})}function c(){return Fn(this,arguments,function*(){var p,f,v,E;if(r)throw new bn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let T=!1;try{try{for(var x=!0,M=Yn(l()),U;U=yield Te(M.next()),p=U.done,!p;x=!0){E=U.value,x=!1;const k=E;T||k&&(yield yield Te(JSON.parse(k)))}}catch(k){f={error:k}}finally{try{!x&&!p&&(v=M.return)&&(yield Te(v.call(M)))}finally{if(f)throw f.error}}T=!0}catch(k){if(Nh(k))return yield Te(void 0);throw k}finally{T||n.abort()}})}return new Mr(c,n,s)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],s=this.iterator(),r=l=>({next:()=>{if(l.length===0){const c=s.next();e.push(c),n.push(c)}return l.shift()}});return[new Mr(()=>r(e),this.controller,this.client),new Mr(()=>r(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return PE({async start(){n=e[Symbol.asyncIterator]()},async pull(s){try{const{value:r,done:l}=await n.next();if(l)return s.close();const c=lp(JSON.stringify(r)+`
`);s.enqueue(c)}catch(r){s.error(r)}},async cancel(){var s;await((s=n.return)===null||s===void 0?void 0:s.call(n))}})}}function qI(t,e){return Fn(this,arguments,function*(){var s,r,l,c;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new bn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new bn("Attempted to iterate over a response with no body");const g=new YI,p=new Kc,f=UE(t.body);try{for(var v=!0,E=Yn(FI(f)),T;T=yield Te(E.next()),s=T.done,!s;v=!0){c=T.value,v=!1;const x=c;for(const M of p.decode(x)){const U=g.decode(M);U&&(yield yield Te(U))}}}catch(x){r={error:x}}finally{try{!v&&!s&&(l=E.return)&&(yield Te(l.call(E)))}finally{if(r)throw r.error}}for(const x of p.flush()){const M=g.decode(x);M&&(yield yield Te(M))}})}function FI(t){return Fn(this,arguments,function*(){var n,s,r,l;let c=new Uint8Array;try{for(var g=!0,p=Yn(t),f;f=yield Te(p.next()),n=f.done,!n;g=!0){l=f.value,g=!1;const v=l;if(v==null)continue;const E=v instanceof ArrayBuffer?new Uint8Array(v):typeof v=="string"?lp(v):v;let T=new Uint8Array(c.length+E.length);T.set(c),T.set(E,c.length),c=T;let x;for(;(x=BI(c))!==-1;)yield yield Te(c.slice(0,x)),c=c.slice(x)}}catch(v){s={error:v}}finally{try{!g&&!n&&(r=p.return)&&(yield Te(r.call(p)))}finally{if(s)throw s.error}}c.length>0&&(yield yield Te(c))})}class YI{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const l={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],l}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,s,r]=JI(e,":");return r.startsWith(" ")&&(r=r.substring(1)),n==="event"?this.event=r:n==="data"&&this.data.push(r),null}}function JI(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function $I(t,e){const{response:n,requestLogID:s,retryOfRequestLogID:r,startTime:l}=e,c=await(async()=>{var g;if(e.options.stream)return Yt(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Mr.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const p=n.headers.get("content-type"),f=(g=p==null?void 0:p.split(";")[0])===null||g===void 0?void 0:g.trim();return(f==null?void 0:f.includes("application/json"))||(f==null?void 0:f.endsWith("+json"))?await n.json():await n.text()})();return Yt(t).debug(`[${s}] response parsed`,As({retryOfRequestLogID:r,url:n.url,status:n.status,body:c,durationMs:Date.now()-l})),c}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class up extends Promise{constructor(e,n,s=$I){super(r=>{r(null)}),this.responsePromise=n,this.parseResponse=s,this.client=e}_thenUnwrap(e){return new up(this.client,this.responsePromise,async(n,s)=>e(await this.parseResponse(n,s),s))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zE=Symbol("brand.privateNullableHeaders");function*KI(t){if(!t)return;if(zE in t){const{values:s,nulls:r}=t;yield*s.entries();for(const l of r)yield[l,null];return}let e=!1,n;t instanceof Headers?n=t.entries():V0(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let s of n){const r=s[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const l=V0(s[1])?s[1]:[s[1]];let c=!1;for(const g of l)g!==void 0&&(e&&!c&&(c=!0,yield[r,null]),yield[r,g])}}const il=t=>{const e=new Headers,n=new Set;for(const s of t){const r=new Set;for(const[l,c]of KI(s)){const g=l.toLowerCase();r.has(g)||(e.delete(l),r.add(g)),c===null?(e.delete(l),n.add(g)):(e.append(l,c),n.delete(g))}}return{[zE]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const uh=t=>{var e,n,s,r,l,c;if(typeof globalThis.process<"u")return(s=(n=(e=_C)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&s!==void 0?s:void 0;if(typeof globalThis.Deno<"u")return(c=(l=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||l===void 0?void 0:l.call(r,t))===null||c===void 0?void 0:c.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var qE;class Xc{constructor(e){var n,s,r,l,c,g,p,{baseURL:f=uh("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:v=(n=uh("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:E="v1beta"}=e,T=Ic(e,["baseURL","apiKey","apiVersion"]);const x=Object.assign(Object.assign({apiKey:v,apiVersion:E},T),{baseURL:f||"https://generativelanguage.googleapis.com"});this.baseURL=x.baseURL,this.timeout=(s=x.timeout)!==null&&s!==void 0?s:Xc.DEFAULT_TIMEOUT,this.logger=(r=x.logger)!==null&&r!==void 0?r:console;const M="warn";this.logLevel=M,this.logLevel=(c=(l=q0(x.logLevel,"ClientOptions.logLevel",this))!==null&&l!==void 0?l:q0(uh("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&c!==void 0?c:M,this.fetchOptions=x.fetchOptions,this.maxRetries=(g=x.maxRetries)!==null&&g!==void 0?g:2,this.fetch=(p=x.fetch)!==null&&p!==void 0?p:RI(),this.encoder=MI,this._options=x,this.apiKey=v,this.apiVersion=E,this.clientAdapter=x.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=il([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return il([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return il([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,s])=>typeof s<"u").map(([n,s])=>{if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(s)}`;if(s===null)return`${encodeURIComponent(n)}=`;throw new bn(`Cannot stringify type ${typeof s}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Ir}`}defaultIdempotencyKey(){return`stainless-node-retry-${pI()}`}makeStatusError(e,n,s,r){return $t.generate(e,n,s,r)}buildURL(e,n,s){const r=!this.baseURLOverridden()&&s||this.baseURL,l=gI(e)?new URL(e):new URL(r+(r.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),c=this.defaultQuery();return _I(c)||(n=Object.assign(Object.assign({},c),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(l.search=this.stringifyQuery(n)),l.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:s}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,s){return this.request(Promise.resolve(s).then(r=>Object.assign({method:e,path:n},r)))}request(e,n=null){return new up(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,s){var r,l,c;const g=await e,p=(r=g.maxRetries)!==null&&r!==void 0?r:this.maxRetries;n==null&&(n=p),await this.prepareOptions(g);const{req:f,url:v,timeout:E}=await this.buildRequest(g,{retryCount:p-n});await this.prepareRequest(f,{url:v,options:g});const T="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),x=s===void 0?"":`, retryOf: ${s}`,M=Date.now();if(Yt(this).debug(`[${T}] sending request`,As({retryOfRequestLogID:s,method:g.method,url:v,options:g,headers:f.headers})),!((l=g.signal)===null||l===void 0)&&l.aborted)throw new Dh;const U=new AbortController,k=await this.fetchWithTimeout(v,f,E,U).catch(Mh),F=Date.now();if(k instanceof globalThis.Error){const B=`retrying, ${n} attempts remaining`;if(!((c=g.signal)===null||c===void 0)&&c.aborted)throw new Dh;const oe=Nh(k)||/timed? ?out/i.test(String(k)+("cause"in k?String(k.cause):""));if(n)return Yt(this).info(`[${T}] connection ${oe?"timed out":"failed"} - ${B}`),Yt(this).debug(`[${T}] connection ${oe?"timed out":"failed"} (${B})`,As({retryOfRequestLogID:s,url:v,durationMs:F-M,message:k.message})),this.retryRequest(g,n,s??T);throw Yt(this).info(`[${T}] connection ${oe?"timed out":"failed"} - error; no more retries left`),Yt(this).debug(`[${T}] connection ${oe?"timed out":"failed"} (error; no more retries left)`,As({retryOfRequestLogID:s,url:v,durationMs:F-M,message:k.message})),oe?new wE:new $c({cause:k})}const Y=`[${T}${x}] ${f.method} ${v} ${k.ok?"succeeded":"failed"} with status ${k.status} in ${F-M}ms`;if(!k.ok){const B=await this.shouldRetry(k);if(n&&B){const I=`retrying, ${n} attempts remaining`;return await NI(k.body),Yt(this).info(`${Y} - ${I}`),Yt(this).debug(`[${T}] response error (${I})`,As({retryOfRequestLogID:s,url:k.url,status:k.status,headers:k.headers,durationMs:F-M})),this.retryRequest(g,n,s??T,k.headers)}const oe=B?"error; no more retries left":"error; not retryable";Yt(this).info(`${Y} - ${oe}`);const se=await k.text().catch(I=>Mh(I).message),ae=SI(se),D=ae?void 0:se;throw Yt(this).debug(`[${T}] response error (${oe})`,As({retryOfRequestLogID:s,url:k.url,status:k.status,headers:k.headers,message:D,durationMs:Date.now()-M})),this.makeStatusError(k.status,ae,D,k.headers)}return Yt(this).info(Y),Yt(this).debug(`[${T}] response start`,As({retryOfRequestLogID:s,url:k.url,status:k.status,headers:k.headers,durationMs:F-M})),{response:k,options:g,controller:U,requestLogID:T,retryOfRequestLogID:s,startTime:M}}async fetchWithTimeout(e,n,s,r){const l=n||{},{signal:c,method:g}=l,p=Ic(l,["signal","method"]);c&&c.addEventListener("abort",()=>r.abort());const f=setTimeout(()=>r.abort(),s),v=globalThis.ReadableStream&&p.body instanceof globalThis.ReadableStream||typeof p.body=="object"&&p.body!==null&&Symbol.asyncIterator in p.body,E=Object.assign(Object.assign(Object.assign({signal:r.signal},v?{duplex:"half"}:{}),{method:"GET"}),p);g&&(E.method=g.toUpperCase());try{return await this.fetch.call(void 0,e,E)}finally{clearTimeout(f)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,s,r){var l;let c;const g=r==null?void 0:r.get("retry-after-ms");if(g){const f=parseFloat(g);Number.isNaN(f)||(c=f)}const p=r==null?void 0:r.get("retry-after");if(p&&!c){const f=parseFloat(p);Number.isNaN(f)?c=Date.parse(p)-Date.now():c=f*1e3}if(!(c&&0<=c&&c<60*1e3)){const f=(l=e.maxRetries)!==null&&l!==void 0?l:this.maxRetries;c=this.calculateDefaultRetryTimeoutMillis(n,f)}return await AI(c),this.makeRequest(e,n-1,s)}calculateDefaultRetryTimeoutMillis(e,n){const l=n-e,c=Math.min(.5*Math.pow(2,l),8),g=1-Math.random()*.25;return c*g*1e3}async buildRequest(e,{retryCount:n=0}={}){var s,r,l;const c=Object.assign({},e),{method:g,path:p,query:f,defaultBaseURL:v}=c,E=this.buildURL(p,f,v);"timeout"in c&&TI("timeout",c.timeout),c.timeout=(s=c.timeout)!==null&&s!==void 0?s:this.timeout;const{bodyHeaders:T,body:x}=this.buildBody({options:c}),M=await this.buildHeaders({options:e,method:g,bodyHeaders:T,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:g,headers:M},c.signal&&{signal:c.signal}),globalThis.ReadableStream&&x instanceof globalThis.ReadableStream&&{duplex:"half"}),x&&{body:x}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(l=c.fetchOptions)!==null&&l!==void 0?l:{}),url:E,timeout:c.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:s,retryCount:r}){let l={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),l[this.idempotencyHeader]=e.idempotencyKey);const c=await this.authHeaders(e);let g=il([l,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),bI()),this._options.defaultHeaders,s,e.headers,c]);return this.validateHeaders(g),g.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const s=il([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&s.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:II(e)}:this.encoder({body:e,headers:s})}}Xc.DEFAULT_TIMEOUT=6e4;class Dt extends Xc{constructor(){super(...arguments),this.interactions=new BE(this)}}qE=Dt;Dt.GeminiNextGenAPIClient=qE;Dt.GeminiNextGenAPIClientError=bn;Dt.APIError=$t;Dt.APIConnectionError=$c;Dt.APIConnectionTimeoutError=wE;Dt.APIUserAbortError=Dh;Dt.NotFoundError=IE;Dt.ConflictError=NE;Dt.RateLimitError=DE;Dt.BadRequestError=xE;Dt.AuthenticationError=bE;Dt.InternalServerError=kE;Dt.PermissionDeniedError=RE;Dt.UnprocessableEntityError=ME;Dt.toFile=LI;Dt.Interactions=BE;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XI(t,e){const n={},s=d(t,["name"]);return s!=null&&h(n,["_url","name"],s),n}function QI(t,e){const n={},s=d(t,["name"]);return s!=null&&h(n,["_url","name"],s),n}function WI(t,e){const n={},s=d(t,["sdkHttpResponse"]);return s!=null&&h(n,["sdkHttpResponse"],s),n}function ZI(t,e){const n={},s=d(t,["sdkHttpResponse"]);return s!=null&&h(n,["sdkHttpResponse"],s),n}function jI(t,e,n){const s={};if(d(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=d(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&h(e,["displayName"],r),d(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const l=d(t,["epochCount"]);e!==void 0&&l!=null&&h(e,["tuningTask","hyperparameters","epochCount"],l);const c=d(t,["learningRateMultiplier"]);if(c!=null&&h(s,["tuningTask","hyperparameters","learningRateMultiplier"],c),d(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(d(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(d(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const g=d(t,["batchSize"]);e!==void 0&&g!=null&&h(e,["tuningTask","hyperparameters","batchSize"],g);const p=d(t,["learningRate"]);if(e!==void 0&&p!=null&&h(e,["tuningTask","hyperparameters","learningRate"],p),d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(d(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return s}function eN(t,e,n){const s={};let r=d(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const x=d(t,["validationDataset"]);e!==void 0&&x!=null&&h(e,["supervisedTuningSpec"],Y0(x))}else if(r==="PREFERENCE_TUNING"){const x=d(t,["validationDataset"]);e!==void 0&&x!=null&&h(e,["preferenceOptimizationSpec"],Y0(x))}const l=d(t,["tunedModelDisplayName"]);e!==void 0&&l!=null&&h(e,["tunedModelDisplayName"],l);const c=d(t,["description"]);e!==void 0&&c!=null&&h(e,["description"],c);let g=d(n,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const x=d(t,["epochCount"]);e!==void 0&&x!=null&&h(e,["supervisedTuningSpec","hyperParameters","epochCount"],x)}else if(g==="PREFERENCE_TUNING"){const x=d(t,["epochCount"]);e!==void 0&&x!=null&&h(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],x)}let p=d(n,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const x=d(t,["learningRateMultiplier"]);e!==void 0&&x!=null&&h(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],x)}else if(p==="PREFERENCE_TUNING"){const x=d(t,["learningRateMultiplier"]);e!==void 0&&x!=null&&h(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],x)}let f=d(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const x=d(t,["exportLastCheckpointOnly"]);e!==void 0&&x!=null&&h(e,["supervisedTuningSpec","exportLastCheckpointOnly"],x)}else if(f==="PREFERENCE_TUNING"){const x=d(t,["exportLastCheckpointOnly"]);e!==void 0&&x!=null&&h(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],x)}let v=d(n,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const x=d(t,["adapterSize"]);e!==void 0&&x!=null&&h(e,["supervisedTuningSpec","hyperParameters","adapterSize"],x)}else if(v==="PREFERENCE_TUNING"){const x=d(t,["adapterSize"]);e!==void 0&&x!=null&&h(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],x)}if(d(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(d(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const E=d(t,["labels"]);e!==void 0&&E!=null&&h(e,["labels"],E);const T=d(t,["beta"]);return e!==void 0&&T!=null&&h(e,["preferenceOptimizationSpec","hyperParameters","beta"],T),s}function tN(t,e){const n={},s=d(t,["baseModel"]);s!=null&&h(n,["baseModel"],s);const r=d(t,["preTunedModel"]);r!=null&&h(n,["preTunedModel"],r);const l=d(t,["trainingDataset"]);l!=null&&fN(l);const c=d(t,["config"]);return c!=null&&jI(c,n),n}function nN(t,e){const n={},s=d(t,["baseModel"]);s!=null&&h(n,["baseModel"],s);const r=d(t,["preTunedModel"]);r!=null&&h(n,["preTunedModel"],r);const l=d(t,["trainingDataset"]);l!=null&&hN(l,n,e);const c=d(t,["config"]);return c!=null&&eN(c,n,e),n}function iN(t,e){const n={},s=d(t,["name"]);return s!=null&&h(n,["_url","name"],s),n}function oN(t,e){const n={},s=d(t,["name"]);return s!=null&&h(n,["_url","name"],s),n}function sN(t,e,n){const s={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&h(e,["_query","pageSize"],r);const l=d(t,["pageToken"]);e!==void 0&&l!=null&&h(e,["_query","pageToken"],l);const c=d(t,["filter"]);return e!==void 0&&c!=null&&h(e,["_query","filter"],c),s}function rN(t,e,n){const s={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&h(e,["_query","pageSize"],r);const l=d(t,["pageToken"]);e!==void 0&&l!=null&&h(e,["_query","pageToken"],l);const c=d(t,["filter"]);return e!==void 0&&c!=null&&h(e,["_query","filter"],c),s}function aN(t,e){const n={},s=d(t,["config"]);return s!=null&&sN(s,n),n}function lN(t,e){const n={},s=d(t,["config"]);return s!=null&&rN(s,n),n}function uN(t,e){const n={},s=d(t,["sdkHttpResponse"]);s!=null&&h(n,["sdkHttpResponse"],s);const r=d(t,["nextPageToken"]);r!=null&&h(n,["nextPageToken"],r);const l=d(t,["tunedModels"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(g=>FE(g))),h(n,["tuningJobs"],c)}return n}function cN(t,e){const n={},s=d(t,["sdkHttpResponse"]);s!=null&&h(n,["sdkHttpResponse"],s);const r=d(t,["nextPageToken"]);r!=null&&h(n,["nextPageToken"],r);const l=d(t,["tuningJobs"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(g=>Uh(g))),h(n,["tuningJobs"],c)}return n}function dN(t,e){const n={},s=d(t,["name"]);s!=null&&h(n,["model"],s);const r=d(t,["name"]);return r!=null&&h(n,["endpoint"],r),n}function fN(t,e){const n={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const s=d(t,["examples"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(l=>l)),h(n,["examples","examples"],r)}return n}function hN(t,e,n){const s={};let r=d(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const c=d(t,["gcsUri"]);e!==void 0&&c!=null&&h(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(r==="PREFERENCE_TUNING"){const c=d(t,["gcsUri"]);e!==void 0&&c!=null&&h(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}let l=d(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const c=d(t,["vertexDatasetResource"]);e!==void 0&&c!=null&&h(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(l==="PREFERENCE_TUNING"){const c=d(t,["vertexDatasetResource"]);e!==void 0&&c!=null&&h(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}if(d(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return s}function FE(t,e){const n={},s=d(t,["sdkHttpResponse"]);s!=null&&h(n,["sdkHttpResponse"],s);const r=d(t,["name"]);r!=null&&h(n,["name"],r);const l=d(t,["state"]);l!=null&&h(n,["state"],rE(l));const c=d(t,["createTime"]);c!=null&&h(n,["createTime"],c);const g=d(t,["tuningTask","startTime"]);g!=null&&h(n,["startTime"],g);const p=d(t,["tuningTask","completeTime"]);p!=null&&h(n,["endTime"],p);const f=d(t,["updateTime"]);f!=null&&h(n,["updateTime"],f);const v=d(t,["description"]);v!=null&&h(n,["description"],v);const E=d(t,["baseModel"]);E!=null&&h(n,["baseModel"],E);const T=d(t,["_self"]);return T!=null&&h(n,["tunedModel"],dN(T)),n}function Uh(t,e){const n={},s=d(t,["sdkHttpResponse"]);s!=null&&h(n,["sdkHttpResponse"],s);const r=d(t,["name"]);r!=null&&h(n,["name"],r);const l=d(t,["state"]);l!=null&&h(n,["state"],rE(l));const c=d(t,["createTime"]);c!=null&&h(n,["createTime"],c);const g=d(t,["startTime"]);g!=null&&h(n,["startTime"],g);const p=d(t,["endTime"]);p!=null&&h(n,["endTime"],p);const f=d(t,["updateTime"]);f!=null&&h(n,["updateTime"],f);const v=d(t,["error"]);v!=null&&h(n,["error"],v);const E=d(t,["description"]);E!=null&&h(n,["description"],E);const T=d(t,["baseModel"]);T!=null&&h(n,["baseModel"],T);const x=d(t,["tunedModel"]);x!=null&&h(n,["tunedModel"],x);const M=d(t,["preTunedModel"]);M!=null&&h(n,["preTunedModel"],M);const U=d(t,["supervisedTuningSpec"]);U!=null&&h(n,["supervisedTuningSpec"],U);const k=d(t,["preferenceOptimizationSpec"]);k!=null&&h(n,["preferenceOptimizationSpec"],k);const F=d(t,["tuningDataStats"]);F!=null&&h(n,["tuningDataStats"],F);const Y=d(t,["encryptionSpec"]);Y!=null&&h(n,["encryptionSpec"],Y);const B=d(t,["partnerModelTuningSpec"]);B!=null&&h(n,["partnerModelTuningSpec"],B);const oe=d(t,["customBaseModel"]);oe!=null&&h(n,["customBaseModel"],oe);const se=d(t,["experiment"]);se!=null&&h(n,["experiment"],se);const ae=d(t,["labels"]);ae!=null&&h(n,["labels"],ae);const D=d(t,["outputUri"]);D!=null&&h(n,["outputUri"],D);const N=d(t,["pipelineJob"]);N!=null&&h(n,["pipelineJob"],N);const I=d(t,["serviceAccount"]);I!=null&&h(n,["serviceAccount"],I);const O=d(t,["tunedModelDisplayName"]);O!=null&&h(n,["tunedModelDisplayName"],O);const L=d(t,["veoTuningSpec"]);return L!=null&&h(n,["veoTuningSpec"],L),n}function pN(t,e){const n={},s=d(t,["sdkHttpResponse"]);s!=null&&h(n,["sdkHttpResponse"],s);const r=d(t,["name"]);r!=null&&h(n,["name"],r);const l=d(t,["metadata"]);l!=null&&h(n,["metadata"],l);const c=d(t,["done"]);c!=null&&h(n,["done"],c);const g=d(t,["error"]);return g!=null&&h(n,["error"],g),n}function Y0(t,e){const n={},s=d(t,["gcsUri"]);s!=null&&h(n,["validationDatasetUri"],s);const r=d(t,["vertexDatasetResource"]);return r!=null&&h(n,["validationDatasetUri"],r),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mN extends Xi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ls(Yi.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var s;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const r={tunedModelName:n.baseModel};!((s=n.config)===null||s===void 0)&&s.preTunedModelCheckpointId&&(r.checkpointId=n.config.preTunedModelCheckpointId);const l=Object.assign(Object.assign({},n),{preTunedModel:r});return l.baseModel=void 0,await this.tuneInternal(l)}else{const r=Object.assign({},n);return await this.tuneInternal(r)}else{const r=Object.assign({},n),l=await this.tuneMldevInternal(r);let c="";return l.metadata!==void 0&&l.metadata.tunedModel!==void 0?c=l.metadata.tunedModel:l.name!==void 0&&l.name.includes("/operations/")&&(c=l.name.split("/operations/")[0]),{name:c,state:Ah.JOB_STATE_QUEUED}}}}async getInternal(e){var n,s,r,l;let c,g="",p={};if(this.apiClient.isVertexAI()){const f=oN(e);return g=ce("{name}",f._url),p=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:g,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),c.then(v=>Uh(v))}else{const f=iN(e);return g=ce("{name}",f._url),p=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:g,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),c.then(v=>FE(v))}}async listInternal(e){var n,s,r,l;let c,g="",p={};if(this.apiClient.isVertexAI()){const f=lN(e);return g=ce("tuningJobs",f._url),p=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:g,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),c.then(v=>{const E=cN(v),T=new y0;return Object.assign(T,E),T})}else{const f=aN(e);return g=ce("tunedModels",f._url),p=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:g,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),c.then(v=>{const E=uN(v),T=new y0;return Object.assign(T,E),T})}}async cancel(e){var n,s,r,l;let c,g="",p={};if(this.apiClient.isVertexAI()){const f=QI(e);return g=ce("{name}:cancel",f._url),p=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:g,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),c.then(v=>{const E=ZI(v),T=new v0;return Object.assign(T,E),T})}else{const f=XI(e);return g=ce("{name}:cancel",f._url),p=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:g,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),c.then(v=>{const E=WI(v),T=new v0;return Object.assign(T,E),T})}}async tuneInternal(e){var n,s;let r,l="",c={};if(this.apiClient.isVertexAI()){const g=nN(e,e);return l=ce("tuningJobs",g._url),c=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(f=>{const v=f;return v.sdkHttpResponse={headers:p.headers},v})),r.then(p=>Uh(p))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,s;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=tN(e);return l=ce("tunedModels",g._url),c=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(f=>{const v=f;return v.sdkHttpResponse={headers:p.headers},v})),r.then(p=>pN(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gN{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const yN=1024*1024*8,vN=3,_N=1e3,EN=2,Mc="x-goog-upload-status";async function TN(t,e,n){var s;const r=await YE(t,e,n),l=await(r==null?void 0:r.json());if(((s=r==null?void 0:r.headers)===null||s===void 0?void 0:s[Mc])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return l.file}async function SN(t,e,n){var s;const r=await YE(t,e,n),l=await(r==null?void 0:r.json());if(((s=r==null?void 0:r.headers)===null||s===void 0?void 0:s[Mc])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const c=eE(l),g=new np;return Object.assign(g,c),g}async function YE(t,e,n){var s,r;let l=0,c=0,g=new Ch(new Response),p="upload";for(l=t.size;c<l;){const f=Math.min(yN,l-c),v=t.slice(c,c+f);c+f>=l&&(p+=", finalize");let E=0,T=_N;for(;E<vN&&(g=await n.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":String(c),"Content-Length":String(f)}}}),!(!((s=g==null?void 0:g.headers)===null||s===void 0)&&s[Mc]));)E++,await CN(T),T=T*EN;if(c+=f,((r=g==null?void 0:g.headers)===null||r===void 0?void 0:r[Mc])!=="active")break;if(l<=c)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return g}async function AN(t){return{size:t.size,type:t.type}}function CN(t){return new Promise(e=>setTimeout(e,t))}class wN{async upload(e,n,s){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await TN(e,n,s)}async uploadToFileSearchStore(e,n,s){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await SN(e,n,s)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await AN(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xN{create(e,n,s){return new bN(e,n,s)}}class bN{constructor(e,n,s){this.url=e,this.headers=n,this.callbacks=s}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const J0="x-goog-api-key";class RN{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(J0)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(J0,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const IN="gl-node/";class cp{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new Dt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const s=AC(e.httpOptions,e.vertexai,void 0,void 0);s&&(e.httpOptions?e.httpOptions.baseUrl=s:e.httpOptions={baseUrl:s}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const r=new RN(this.apiKey);this.apiClient=new AR({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:IN+"web",uploader:new wN,downloader:new gN}),this.models=new zR(this.apiClient),this.live=new LR(this.apiClient,r,new xN),this.batches=new Z1(this.apiClient),this.chats=new kw(this.models,this.apiClient),this.caches=new Nw(this.apiClient),this.files=new qw(this.apiClient),this.operations=new qR(this.apiClient),this.authTokens=new sI(this.apiClient),this.tunings=new mN(this.apiClient),this.fileSearchStores=new hI(this.apiClient)}}const dp=t=>{if(typeof window<"u"){const e=localStorage.getItem(t==="gemini"?"GEMINI_API_KEY":"VEO_API_KEY");if(e&&e.trim()!=="")return e}},NN={type:ye.OBJECT,properties:{title:{type:ye.STRING,description:"A catchy title for the history lesson"},summaryPoints:{type:ye.ARRAY,items:{type:ye.STRING},description:"5 concise and accurate main points summarizing the event"},timeline:{type:ye.ARRAY,items:{type:ye.OBJECT,properties:{year:{type:ye.STRING},event:{type:ye.STRING}},required:["year","event"]},description:"Chronological timeline of the event"},analysis:{type:ye.OBJECT,properties:{keyCharacters:{type:ye.ARRAY,items:{type:ye.STRING}},causes:{type:ye.ARRAY,items:{type:ye.STRING}},developments:{type:ye.ARRAY,items:{type:ye.STRING}},effects:{type:ye.ARRAY,items:{type:ye.STRING}}},required:["keyCharacters","causes","developments","effects"],description:"Character-Cause-Development-Effect analysis chart"},storyboard:{type:ye.ARRAY,items:{type:ye.OBJECT,properties:{sceneNumber:{type:ye.INTEGER},visualDescription:{type:ye.STRING},cameraAngle:{type:ye.STRING},action:{type:ye.STRING},audio:{type:ye.STRING},textOverlay:{type:ye.STRING}},required:["sceneNumber","visualDescription","cameraAngle","action","audio","textOverlay"]},description:"5-7 scene video storyboard"},imagePrompts:{type:ye.ARRAY,items:{type:ye.STRING},description:"10 educational motion-graphic image prompts for asset creation"},voiceOverScript:{type:ye.STRING,description:"A 45-60 second inspiring and accurate voice-over script"},quiz:{type:ye.OBJECT,properties:{multipleChoice:{type:ye.ARRAY,items:{type:ye.OBJECT,properties:{question:{type:ye.STRING},options:{type:ye.ARRAY,items:{type:ye.STRING}},correctAnswerIndex:{type:ye.INTEGER},explanation:{type:ye.STRING}},required:["question","options","correctAnswerIndex","explanation"]}},thinking:{type:ye.ARRAY,items:{type:ye.OBJECT,properties:{question:{type:ye.STRING},answerGuide:{type:ye.STRING}},required:["question","answerGuide"]}}},required:["multipleChoice","thinking"]},flashcards:{type:ye.ARRAY,items:{type:ye.OBJECT,properties:{front:{type:ye.STRING},back:{type:ye.STRING}},required:["front","back"]},description:"10 flashcards for memorization"}},required:["title","summaryPoints","timeline","analysis","storyboard","imagePrompts","voiceOverScript","quiz","flashcards"]},MN=async(t,e)=>{const n=dp("gemini");if(!n)throw new Error("API Key is missing. Please set it via the Settings menu.");const s=new cp({apiKey:n}),l=`
    You are an expert AI History Tutor and Content Generator, specializing in Vietnamese history but capable of teaching global history with equal precision.
    Your goal is to create a complete educational package for high school students.
    
    ${e==="vi"?"IMPORTANT: ALL CONTENT MUST BE GENERATED IN VIETNAMESE.":"IMPORTANT: ALL CONTENT MUST BE GENERATED IN ENGLISH."}
    
    Tone: Accurate, inspiring, clear, and educational.
    Context: If the user inputs a Vietnamese historical event, ensure deep cultural accuracy and respect.
    
    Requirements:
    1. Summary: 5 critical points.
    2. Timeline: Key dates.
    3. Analysis: Deep dive into who, why, how, and result.
    4. Storyboard: Ready for video production (Veo/Runway compatible descriptions).
    5. Prompts: For Midjourney/DALL-E style assets.
    6. Voice-over: ~150-200 words (45-60s).
    7. Quiz: 5 MCQ, 3 Thinking.
    8. Flashcards: 10 pairs.
  `;try{const c=await s.models.generateContent({model:"gemini-2.5-flash",contents:`Generate a history lesson package for the topic: "${t}". Response must be in ${e==="vi"?"Vietnamese":"English"}.`,config:{systemInstruction:l,responseMimeType:"application/json",responseSchema:NN,temperature:.4}});if(c.text)return JSON.parse(c.text);throw new Error("No content generated.")}catch(c){throw console.error("Gemini API Error:",c),c}},DN=async t=>{var r,l,c;const e=dp("gemini");if(!e)throw new Error("API Key is missing");const s=await new cp({apiKey:e}).models.generateContent({model:"gemini-2.5-flash-image",contents:{parts:[{text:t}]}});for(const g of((c=(l=(r=s.candidates)==null?void 0:r[0])==null?void 0:l.content)==null?void 0:c.parts)||[])if(g.inlineData)return`data:${g.inlineData.mimeType};base64,${g.inlineData.data}`;throw new Error("No image generated")},kN=async t=>{var g,p,f,v;const e=dp("veo");if(!e)throw new Error("API Key is missing");const n=new cp({apiKey:e});let s=await n.models.generateVideos({model:"veo-3.1-fast-generate-preview",prompt:t,config:{numberOfVideos:1,resolution:"720p",aspectRatio:"16:9"}});for(;!s.done;)await new Promise(E=>setTimeout(E,5e3)),s=await n.operations.getVideosOperation({operation:s});const r=(v=(f=(p=(g=s.response)==null?void 0:g.generatedVideos)==null?void 0:p[0])==null?void 0:f.video)==null?void 0:v.uri;if(!r)throw new Error("No video URI returned");const c=await(await fetch(`${r}&key=${e}`)).blob();return URL.createObjectURL(c)};var tt=(t=>(t.OVERVIEW="Overview",t.ANALYSIS="Analysis",t.STORYBOARD="Storyboard",t.ASSETS="Assets",t))(tt||{}),Cs=(t=>(t.FLASHCARDS="Flashcards",t.QUIZ="Quiz",t))(Cs||{});/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),UN=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),$0=t=>{const e=UN(t);return e.charAt(0).toUpperCase()+e.slice(1)},JE=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),LN=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ON={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=J.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:r="",children:l,iconNode:c,...g},p)=>J.createElement("svg",{ref:p,...ON,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:JE("lucide",r),...!l&&!LN(g)&&{"aria-hidden":"true"},...g},[...c.map(([f,v])=>J.createElement(f,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=(t,e)=>{const n=J.forwardRef(({className:s,...r},l)=>J.createElement(VN,{ref:l,iconNode:e,className:JE(`lucide-${PN($0(t))}`,`lucide-${t}`,s),...r}));return n.displayName=$0(t),n};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],fp=ge("arrow-left",HN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],BN=ge("book-open",GN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],qN=ge("bookmark",zN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],YN=ge("camera",FN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],$N=ge("chevron-right",JN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],XN=ge("chevron-left",KN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],WN=ge("circle-alert",QN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],K0=ge("circle-check-big",ZN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],e2=ge("circle-play",jN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],n2=ge("circle-question-mark",t2);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],o2=ge("circle-x",i2);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=[["path",{d:"M20.2 6 3 11l-.9-2.4c-.3-1.1.3-2.2 1.3-2.5l13.5-4c1.1-.3 2.2.3 2.5 1.3Z",key:"1tn4o7"}],["path",{d:"m6.2 5.3 3.1 3.9",key:"iuk76l"}],["path",{d:"m12.4 3.4 3.1 4",key:"6hsd6n"}],["path",{d:"M3 11h18v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2Z",key:"ltgou9"}]],r2=ge("clapperboard",s2);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],l2=ge("clock",a2);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],c2=ge("compass",u2);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],f2=ge("copy",d2);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],X0=ge("download",h2);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Q0=ge("eye-off",p2);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],W0=ge("eye",m2);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=[["path",{d:"M12.67 19a2 2 0 0 0 1.416-.588l6.154-6.172a6 6 0 0 0-8.49-8.49L5.586 9.914A2 2 0 0 0 5 11.328V18a1 1 0 0 0 1 1z",key:"18jl4k"}],["path",{d:"M16 8 2 22",key:"vp34q"}],["path",{d:"M17.5 15H9",key:"1oz8nu"}]],Z0=ge("feather",g2);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]],v2=ge("film",y2);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],E2=ge("globe",_2);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],S2=ge("graduation-cap",T2);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Lh=ge("image",A2);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C2=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],w2=ge("key",C2);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x2=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],b2=ge("layout-dashboard",x2);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],I2=ge("lightbulb",R2);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Oh=ge("loader-circle",N2);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],D2=ge("log-in",M2);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],P2=ge("log-out",k2);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],L2=ge("maximize-2",U2);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],V2=ge("mic",O2);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=[["path",{d:"M6 18h8",key:"1borvv"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M14 22a7 7 0 1 0 0-14h-1",key:"1jwaiy"}],["path",{d:"M9 14h2",key:"197e7h"}],["path",{d:"M9 12a2 2 0 0 1-2-2V6h6v4a2 2 0 0 1-2 2Z",key:"1bmzmy"}],["path",{d:"M12 6V3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3",key:"1drr47"}]],G2=ge("microscope",H2);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],z2=ge("music",B2);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],F2=ge("plus",q2);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],J2=ge("refresh-cw",Y2);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],K2=ge("rotate-cw",$2);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Q2=ge("save",X2);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Z2=ge("search",W2);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],eM=ge("settings",j2);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],$E=ge("shield",tM);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],iM=ge("sparkles",nM);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],sM=ge("square-check-big",oM);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],aM=ge("square",rM);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],uM=ge("target",lM);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],KE=ge("trash-2",cM);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],fM=ge("trending-up",dM);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],pM=ge("triangle-alert",hM);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],gM=ge("type",mM);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],vM=ge("user-plus",yM);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],EM=ge("users",_M);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],SM=ge("video",TM);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],CM=ge("wand-sparkles",AM);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],XE=ge("x",wM),j0=({data:t,labels:e})=>C.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 animate-fade-in-up",children:[C.jsxs("div",{className:"lg:col-span-7 glass-card p-8 md:p-10 rounded-sm relative overflow-hidden transition-all duration-500 hover:shadow-paper-hover border-t-2 border-t-history-gold/20",children:[C.jsxs("h3",{className:"text-2xl font-display font-medium text-history-ink mb-10 flex items-center gap-3 border-b border-history-gold/10 pb-4 tracking-wide",children:[C.jsx(qN,{className:"w-5 h-5 text-history-red"}),e.sections.summary]}),C.jsx("ul",{className:"space-y-8",children:t.summaryPoints.map((n,s)=>C.jsxs("li",{className:"flex gap-5 group animate-slide-in",style:{animationDelay:`${s*.1}s`},children:[C.jsx("span",{className:"flex-shrink-0 font-display text-4xl text-history-gold/30 font-bold -mt-2 group-hover:text-history-red/40 transition-colors",children:s+1}),C.jsx("p",{className:"text-history-dark text-lg leading-loose font-serif font-light text-justify w-full group-hover:text-history-ink transition-colors border-b border-dashed border-gray-200/50 pb-4 last:border-0",children:n})]},s))})]}),C.jsxs("div",{className:"lg:col-span-5 glass-panel bg-history-parchment/20 rounded-sm p-8 md:p-10 shadow-inner-warm",children:[C.jsxs("h3",{className:"text-2xl font-display font-medium text-history-ink mb-10 flex items-center gap-3 tracking-wide",children:[C.jsx(l2,{className:"w-5 h-5 text-history-red"}),e.sections.timeline]}),C.jsx("div",{className:"relative border-l border-history-gold/40 ml-3 space-y-0",children:t.timeline.map((n,s)=>C.jsxs("div",{className:"relative pl-10 pb-12 last:pb-0 group animate-fade-in-up",style:{animationDelay:`${.3+s*.1}s`},children:[C.jsx("div",{className:"absolute -left-[5px] top-2 w-2.5 h-2.5 rounded-full bg-history-paper border border-history-gold group-hover:bg-history-red group-hover:border-history-red transition-colors duration-500 z-10"}),C.jsxs("div",{className:"relative -top-1 transition-all duration-300 hover:translate-x-1",children:[C.jsx("span",{className:"inline-block text-history-red text-sm font-bold mb-1 font-sans tracking-widest uppercase opacity-80",children:n.year}),C.jsx("p",{className:"text-history-dark font-serif leading-relaxed text-base font-light border-l-2 border-transparent pl-0 group-hover:pl-3 group-hover:border-history-gold/30 transition-all duration-300",children:n.event})]})]},s))})]})]}),dc=({title:t,icon:e,items:n,delay:s,variant:r="ink"})=>{const l={ink:"text-history-ink border-history-dark/20",red:"text-history-red border-history-red/20",gold:"text-history-gold border-history-gold/30",wood:"text-history-wood border-history-wood/30"},c={ink:"text-history-ink bg-history-dark/5",red:"text-history-red bg-history-red/5",gold:"text-history-gold bg-history-gold/10",wood:"text-history-wood bg-history-wood/10"};return C.jsxs("div",{className:`glass-card p-8 rounded-sm relative overflow-hidden group hover:shadow-paper-hover transition-all duration-500 animate-fade-in-up border-t-4 ${l[r].split(" ")[1]}`,style:{animationDelay:`${s}s`},children:[C.jsxs("div",{className:"flex items-center gap-4 mb-6 pb-4 border-b border-history-gold/10",children:[C.jsx("div",{className:`p-2 rounded ${c[r]}`,children:e}),C.jsx("h3",{className:`text-lg font-display font-medium uppercase tracking-widest ${l[r].split(" ")[0]}`,children:t})]}),C.jsx("ul",{className:"space-y-4",children:n.map((g,p)=>C.jsxs("li",{className:"text-history-dark font-serif text-base leading-relaxed flex items-start gap-3 group-hover:text-black transition-colors font-light",children:[C.jsx("span",{className:"mt-2 w-1 h-1 rounded-full bg-history-wood/40 flex-shrink-0"}),g]},p))})]})},xM=({data:t,labels:e})=>{const{analysis:n}=t;return C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 pb-8",children:[C.jsx(dc,{title:e.sections.characters,icon:C.jsx(EM,{className:"w-5 h-5"}),items:n.keyCharacters,variant:"ink",delay:0}),C.jsx(dc,{title:e.sections.causes,icon:C.jsx(pM,{className:"w-5 h-5"}),items:n.causes,variant:"red",delay:.1}),C.jsx(dc,{title:e.sections.development,icon:C.jsx(fM,{className:"w-5 h-5"}),items:n.developments,variant:"gold",delay:.2}),C.jsx(dc,{title:e.sections.effects,icon:C.jsx(uM,{className:"w-5 h-5"}),items:n.effects,variant:"wood",delay:.3})]})},bM=({data:t,labels:e})=>{const[n,s]=J.useState({}),[r,l]=J.useState({}),c=async(g,p)=>{if(r[g])return;const f=localStorage.getItem("VEO_API_KEY");if(!(f&&f.trim()!==""||void 0)){alert(e.media.apiKeyRequired);return}l(T=>({...T,[g]:!0}));const E=`Cinematic shot, historical documentary style. ${p.visualDescription} Action: ${p.action}. Camera: ${p.cameraAngle}. High quality, detailed, atmospheric.`;try{const T=await kN(E);s(x=>({...x,[g]:T}))}catch(T){console.error("Failed to generate video",T);const x=T.message||JSON.stringify(T);x.includes("Requested entity was not found")||x.includes("404")?alert("Veo Video Generation Error: The current API key cannot access the video model. Please check your key in Settings."):alert(`Failed to generate video. Error: ${x.substring(0,100)}...`)}finally{l(T=>({...T,[g]:!1}))}};return C.jsxs("div",{className:"space-y-12 animate-fade-in-up",children:[C.jsxs("div",{className:"glass-card p-10 rounded-sm relative transition-transform hover:-translate-y-0.5 duration-500 border-l-4 border-l-history-red",children:[C.jsxs("h3",{className:"text-sm font-display font-medium mb-6 flex items-center gap-3 text-history-red uppercase tracking-widest",children:[C.jsx(V2,{className:"w-4 h-4"}),e.sections.voiceover]}),C.jsxs("div",{className:"font-serif text-xl leading-loose text-history-dark italic font-light pl-4 opacity-90",children:['"',t.voiceOverScript,'"']}),C.jsxs("div",{className:"mt-6 text-right text-[10px] font-sans font-bold text-history-wood/40 uppercase tracking-widest",children:["~ ",(t.voiceOverScript.length/5/2.5).toFixed(0)," seconds est. ~"]})]}),C.jsxs("div",{className:"space-y-8",children:[C.jsxs("h3",{className:"text-2xl font-display font-medium text-history-ink flex items-center gap-3 border-b border-history-gold/20 pb-4 tracking-wide",children:[C.jsx(v2,{className:"w-5 h-5 text-history-red"}),e.sections.storyboard]}),C.jsx("div",{className:"grid grid-cols-1 gap-10",children:t.storyboard.map((g,p)=>C.jsxs("div",{className:"group relative glass-panel rounded-sm overflow-hidden transition-all duration-300 hover:shadow-paper-hover border border-history-gold/10",children:[C.jsxs("div",{className:"h-6 bg-history-ink/5 w-full flex justify-between items-center px-3 border-b border-history-gold/10",children:[C.jsx("div",{className:"flex gap-2",children:[...Array(3)].map((f,v)=>C.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-history-wood/20"},v))}),C.jsxs("div",{className:"text-[9px] font-sans text-history-wood/40 uppercase tracking-widest",children:["Sequence 0",p+1]})]}),C.jsxs("div",{className:"flex flex-col md:flex-row",children:[C.jsx("div",{className:"md:w-16 bg-white/50 flex items-center justify-center border-b md:border-b-0 md:border-r border-history-gold/10 p-4 md:p-0",children:C.jsxs("span",{className:"text-xl md:text-2xl font-display font-medium text-history-wood/30 md:-rotate-90 whitespace-nowrap",children:["SCENE ",g.sceneNumber]})}),C.jsxs("div",{className:"flex-1 p-6 md:p-8 grid grid-cols-1 lg:grid-cols-3 gap-8",children:[C.jsxs("div",{className:"lg:col-span-2 space-y-5",children:[C.jsxs("div",{className:"flex justify-between items-start flex-wrap gap-4",children:[C.jsxs("h4",{className:"font-bold text-history-wood flex items-center gap-2 uppercase tracking-widest text-[10px]",children:[C.jsx(SM,{className:"w-3 h-3 text-history-red"})," ",e.sections.visual]}),!n[p]&&C.jsxs("button",{onClick:()=>c(p,g),disabled:r[p],className:"px-4 py-1.5 text-[10px] font-bold text-history-paper bg-history-ink hover:bg-black rounded-sm shadow-sm transition-all flex items-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed uppercase tracking-widest hover:translate-y-[-1px]",children:[r[p]?C.jsx(Oh,{className:"w-3 h-3 animate-spin"}):C.jsx(e2,{className:"w-3 h-3"}),r[p]?e.media.generating:e.media.generateVideo]})]}),C.jsx("p",{className:"text-history-ink text-lg font-serif leading-relaxed font-light",children:g.visualDescription}),C.jsxs("div",{className:"bg-history-parchment/40 p-5 rounded-sm border border-history-gold/10 mt-2",children:[C.jsx("p",{className:"text-[10px] text-history-wood mb-2 uppercase font-bold tracking-widest opacity-60",children:"Action"}),C.jsx("p",{className:"text-history-dark font-medium text-sm",children:g.action})]})]}),C.jsxs("div",{className:"space-y-6 border-l border-history-gold/10 pl-8 lg:block border-t lg:border-t-0 pt-6 lg:pt-0",children:[C.jsxs("div",{className:"animate-fade-in-up",style:{animationDelay:"0.1s"},children:[C.jsxs("h4",{className:"font-bold text-history-wood mb-1 flex items-center gap-2 text-[10px] uppercase tracking-widest",children:[C.jsx(YN,{className:"w-3 h-3"})," ",e.sections.angle]}),C.jsx("p",{className:"text-sm text-history-ink font-light",children:g.cameraAngle})]}),C.jsxs("div",{className:"animate-fade-in-up",style:{animationDelay:"0.2s"},children:[C.jsxs("h4",{className:"font-bold text-history-wood mb-1 flex items-center gap-2 text-[10px] uppercase tracking-widest",children:[C.jsx(z2,{className:"w-3 h-3"})," ",e.sections.audio]}),C.jsx("p",{className:"text-sm text-history-ink italic font-light opacity-90",children:g.audio})]}),g.textOverlay&&C.jsxs("div",{className:"animate-fade-in-up",style:{animationDelay:"0.3s"},children:[C.jsxs("h4",{className:"font-bold text-history-wood mb-1 flex items-center gap-2 text-[10px] uppercase tracking-widest",children:[C.jsx(gM,{className:"w-3 h-3"})," Overlay"]}),C.jsxs("p",{className:"text-sm text-history-red font-serif font-medium border p-3 rounded-sm bg-white/40 shadow-sm border-history-red/10",children:['"',g.textOverlay,'"']})]})]})]})]}),(n[p]||r[p])&&C.jsxs("div",{className:"bg-black p-4 animate-slide-in relative",children:[r[p]&&C.jsxs("div",{className:"h-64 w-full flex flex-col items-center justify-center text-history-parchment gap-4",children:[C.jsx(Oh,{className:"w-8 h-8 animate-spin text-history-gold opacity-80"}),C.jsxs("div",{className:"text-center",children:[C.jsx("p",{className:"font-display font-medium tracking-widest uppercase mb-1 text-sm text-history-gold/80",children:e.media.generating}),C.jsx("p",{className:"text-[10px] opacity-40 font-mono tracking-widest",children:"VEO MODEL PROCESSING"})]})]}),n[p]&&C.jsx("video",{controls:!0,className:"w-full max-h-[500px] mx-auto shadow-2xl rounded-sm border border-history-wood/30",src:n[p],children:"Your browser does not support the video tag."})]})]},g.sceneNumber))})]})]})},RM=({data:t,labels:e})=>{const[n,s]=J.useState({}),[r,l]=J.useState({}),c=p=>{navigator.clipboard.writeText(p)},g=async(p,f)=>{if(!r[p]){l(v=>({...v,[p]:!0}));try{const v=await DN(f);s(E=>({...E,[p]:v}))}catch(v){console.error("Failed to generate image",v),alert("Failed to generate image. Please try again.")}finally{l(v=>({...v,[p]:!1}))}}};return C.jsxs("div",{className:"animate-fade-in-up pb-8",children:[C.jsxs("div",{className:"flex items-center justify-between mb-8 border-b border-history-gold/20 pb-4",children:[C.jsxs("h3",{className:"text-2xl font-display font-medium text-history-ink flex items-center gap-3 tracking-wide",children:[C.jsx(Lh,{className:"w-5 h-5 text-history-red"}),e.sections.prompts]}),C.jsx("span",{className:"text-xs font-serif text-history-wood/50 italic hidden sm:inline",children:"Gemini 2.5 Image Generation"})]}),C.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:t.imagePrompts.map((p,f)=>C.jsxs("div",{className:"glass-card p-6 rounded-sm hover:shadow-paper-hover transition-all duration-300 flex flex-col h-full hover:-translate-y-1 group border border-history-gold/10",children:[C.jsx("div",{className:"aspect-video w-full bg-white/50 rounded-sm mb-5 border border-history-gold/10 overflow-hidden relative shadow-inner flex items-center justify-center",children:n[f]?C.jsxs(C.Fragment,{children:[C.jsx("img",{src:n[f],alt:"Generated content",className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"}),C.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2 backdrop-blur-[2px]",children:C.jsx("a",{href:n[f],download:`history-image-${f}.png`,className:"p-3 bg-white rounded-full text-history-dark hover:scale-110 transition-transform shadow-lg",title:"Download",children:C.jsx(L2,{className:"w-4 h-4"})})})]}):C.jsx("div",{className:"w-full h-full flex items-center justify-center text-history-wood/10 group-hover:text-history-wood/20 transition-colors",children:r[f]?C.jsx(Oh,{className:"w-6 h-6 animate-spin text-history-gold"}):C.jsx(Lh,{className:"w-10 h-10"})})}),C.jsxs("div",{className:"flex-1 flex flex-col",children:[C.jsx("p",{className:"font-serif text-history-dark/90 mb-5 flex-1 text-sm leading-relaxed font-light",children:p}),C.jsxs("div",{className:"flex gap-3 pt-4 border-t border-history-gold/10",children:[C.jsxs("button",{onClick:()=>c(p),className:"flex-1 px-3 py-2 text-[10px] font-bold text-history-wood hover:text-history-dark border border-history-gold/20 hover:bg-white rounded-sm transition-colors flex items-center justify-center gap-2 uppercase tracking-widest",children:[C.jsx(f2,{className:"w-3 h-3"})," Copy"]}),C.jsxs("button",{onClick:()=>g(f,p),disabled:r[f],className:"flex-1 px-3 py-2 text-[10px] font-bold text-white bg-history-red hover:bg-history-dark rounded-sm shadow-sm transition-colors flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed uppercase tracking-widest hover:shadow-md",children:[C.jsx(CM,{className:"w-3 h-3"})," ",e.media.generateImage]})]})]})]},f))})]})},fc=({label:t,isActive:e,onClick:n,icon:s})=>C.jsxs("button",{onClick:n,className:`
        relative flex items-center gap-2 px-6 py-3 text-sm font-display font-medium tracking-wide transition-all duration-300
        rounded-t-lg border-t border-x shrink-0
        ${e?"glass-panel border-b-0 text-history-red border-history-gold/30 shadow-[0_-2px_6px_-1px_rgba(42,33,28,0.02)] z-10":"bg-white/30 text-history-wood/60 border-transparent hover:bg-white/50 hover:text-history-dark"}
      `,children:[C.jsx("span",{className:`transition-transform duration-300 ${e?"scale-105 text-history-red opacity-100":"opacity-70"}`,children:s}),t,e&&C.jsx("span",{className:"absolute top-0 left-0 w-full h-[2px] bg-history-red rounded-t-lg opacity-80"}),e&&C.jsx("span",{className:"absolute -bottom-[1px] left-0 w-full h-[2px] bg-white z-20"})]}),IM=({data:t,labels:e,tabLabels:n})=>{const[s,r]=J.useState(tt.OVERVIEW),l=()=>{switch(s){case tt.OVERVIEW:return C.jsx(j0,{data:t,labels:e});case tt.ANALYSIS:return C.jsx(xM,{data:t,labels:e});case tt.STORYBOARD:return C.jsx(bM,{data:t,labels:e});case tt.ASSETS:return C.jsx(RM,{data:t,labels:e});default:return C.jsx(j0,{data:t,labels:e})}};return C.jsxs("div",{className:"animate-fade-in-up",children:[C.jsxs("div",{className:"flex overflow-x-auto space-x-2 mb-8 border-b border-history-gold/30 scrollbar-hide pb-1 w-full snap-x",children:[C.jsx(fc,{label:n[tt.OVERVIEW],isActive:s===tt.OVERVIEW,onClick:()=>r(tt.OVERVIEW),icon:C.jsx(b2,{className:"w-4 h-4"})}),C.jsx(fc,{label:n[tt.ANALYSIS],isActive:s===tt.ANALYSIS,onClick:()=>r(tt.ANALYSIS),icon:C.jsx(G2,{className:"w-4 h-4"})}),C.jsx(fc,{label:n[tt.STORYBOARD],isActive:s===tt.STORYBOARD,onClick:()=>r(tt.STORYBOARD),icon:C.jsx(r2,{className:"w-4 h-4"})}),C.jsx(fc,{label:n[tt.ASSETS],isActive:s===tt.ASSETS,onClick:()=>r(tt.ASSETS),icon:C.jsx(Lh,{className:"w-4 h-4"})})]}),C.jsx("div",{className:"min-h-[400px]",children:l()})]})},NM=({data:t,labels:e})=>{const[n,s]=J.useState(Cs.FLASHCARDS);return C.jsxs("div",{className:"animate-fade-in-up max-w-4xl mx-auto pb-10",children:[C.jsx("div",{className:"flex justify-center mb-10",children:C.jsxs("div",{className:"inline-flex glass-panel p-1 rounded-lg shadow-inner-warm border border-history-gold/10",children:[C.jsxs("button",{onClick:()=>s(Cs.FLASHCARDS),className:`flex items-center gap-2 px-6 py-2 rounded font-medium text-xs uppercase tracking-widest transition-all duration-300 ${n===Cs.FLASHCARDS?"bg-white text-history-ink shadow-sm":"text-history-wood/60 hover:text-history-dark hover:bg-white/40"}`,children:[C.jsx(K2,{className:"w-3 h-3"}),e.study.flashcardsMode]}),C.jsxs("button",{onClick:()=>s(Cs.QUIZ),className:`flex items-center gap-2 px-6 py-2 rounded font-medium text-xs uppercase tracking-widest transition-all duration-300 ${n===Cs.QUIZ?"bg-white text-history-ink shadow-sm":"text-history-wood/60 hover:text-history-dark hover:bg-white/40"}`,children:[C.jsx(n2,{className:"w-3 h-3"}),e.study.quizMode]})]})}),n===Cs.FLASHCARDS?C.jsx(MM,{data:t,labels:e}):C.jsx(DM,{data:t,labels:e})]})},MM=({data:t,labels:e})=>{const[n,s]=J.useState(0),[r,l]=J.useState(!1),c=t.flashcards,g=()=>{l(!1),setTimeout(()=>s(f=>(f+1)%c.length),300)},p=()=>{l(!1),setTimeout(()=>s(f=>(f-1+c.length)%c.length),300)};return J.useEffect(()=>{const f=v=>{v.key==="ArrowRight"&&g(),v.key==="ArrowLeft"&&p(),(v.key===" "||v.key==="Enter")&&l(E=>!E)};return window.addEventListener("keydown",f),()=>window.removeEventListener("keydown",f)},[c.length]),C.jsxs("div",{className:"max-w-xl mx-auto px-4",children:[C.jsx("div",{className:"relative h-80 md:h-96 w-full cursor-pointer perspective-1000 mb-8 group",onClick:()=>l(!r),children:C.jsxs("div",{className:`relative w-full h-full transition-transform duration-700 transform-style-3d ${r?"rotate-y-180":""}`,children:[C.jsxs("div",{className:"absolute w-full h-full backface-hidden glass-card rounded-lg shadow-paper flex flex-col items-center justify-center p-10 text-center relative overflow-hidden group-hover:shadow-paper-hover transition-shadow duration-300 border border-history-gold/20",children:[C.jsx("div",{className:"absolute top-0 w-full h-1 bg-history-red/80"}),C.jsxs("span",{className:"absolute top-6 right-6 text-xs font-bold text-history-wood/30 font-sans",children:["#",n+1]}),C.jsx("p",{className:"font-display font-medium text-2xl md:text-3xl text-history-ink leading-snug",children:c[n].front}),C.jsx("p",{className:"absolute bottom-6 text-[10px] font-bold uppercase tracking-widest text-history-gold opacity-80 animate-pulse",children:e.study.flip})]}),C.jsxs("div",{className:"absolute w-full h-full backface-hidden bg-history-ink rounded-lg shadow-paper p-10 flex items-center justify-center text-center rotate-y-180 relative",children:[C.jsx("div",{className:"absolute inset-3 border border-history-gold/20 rounded-sm"}),C.jsx("p",{className:"text-history-paper text-lg md:text-xl font-serif leading-relaxed font-light",children:c[n].back})]})]})}),C.jsxs("div",{className:"flex items-center justify-between px-6 bg-white/40 backdrop-blur-sm rounded-full p-2 border border-history-gold/10 shadow-sm max-w-sm mx-auto",children:[C.jsx("button",{onClick:f=>{f.stopPropagation(),p()},className:"p-2 rounded-full hover:bg-white text-history-wood/70 hover:text-history-dark transition-all active:scale-95",title:e.study.prev,children:C.jsx(XN,{className:"w-5 h-5"})}),C.jsxs("div",{className:"text-xs font-bold text-history-dark font-display tracking-widest",children:["CARD ",n+1," ",C.jsx("span",{className:"text-history-wood/30 mx-1",children:"/"})," ",c.length]}),C.jsx("button",{onClick:f=>{f.stopPropagation(),g()},className:"p-2 rounded-full hover:bg-white text-history-wood/70 hover:text-history-dark transition-all active:scale-95",title:e.study.next,children:C.jsx($N,{className:"w-5 h-5"})})]})]})},DM=({data:t,labels:e})=>{const[n,s]=J.useState({}),[r,l]=J.useState(!1),c=t.quiz.multipleChoice,g=(v,E)=>{r||s(T=>({...T,[v]:E}))},p=()=>{let v=0;return c.forEach((E,T)=>{n[T]===E.correctAnswerIndex&&v++}),v},f=()=>{s({}),l(!1),window.scrollTo({top:0,behavior:"smooth"})};return C.jsxs("div",{className:"space-y-10 px-4 md:px-0",children:[r&&C.jsxs("div",{className:"bg-history-ink p-10 rounded-sm shadow-2xl text-center animate-fade-in-up border-double border-4 border-history-gold/30 relative overflow-hidden",children:[C.jsx("p",{className:"text-history-gold mb-4 font-display uppercase tracking-widest text-xs opacity-80",children:e.study.congrats}),C.jsxs("p",{className:"text-5xl font-medium text-white mb-8 font-display",children:[p()," ",C.jsxs("span",{className:"text-2xl opacity-50",children:["/ ",c.length]})]}),C.jsxs("button",{onClick:f,className:"inline-flex items-center gap-2 px-8 py-3 bg-history-red text-white font-medium rounded-sm hover:bg-red-900 transition-colors uppercase tracking-widest text-xs shadow-lg",children:[C.jsx(J2,{className:"w-3 h-3"})," ",e.study.retake]})]}),C.jsx("div",{className:"space-y-6",children:c.map((v,E)=>{const T=n[E]===v.correctAnswerIndex,x=n[E];return C.jsxs("div",{className:`glass-card p-8 rounded-sm shadow-sm transition-all duration-300 ${r?T?"border-green-800/20 bg-green-50/30":"border-red-800/20 bg-red-50/30":"border-history-gold/10"}`,children:[C.jsxs("p",{className:"font-medium text-history-ink mb-6 text-lg font-display",children:[C.jsxs("span",{className:"text-history-red mr-3 opacity-60 text-base",children:["0",E+1]})," ",v.question]}),C.jsx("div",{className:"space-y-3",children:v.options.map((M,U)=>C.jsxs("button",{onClick:()=>g(E,U),disabled:r,className:`w-full text-left p-4 rounded-sm border transition-all flex items-center justify-between group
                                            ${r?U===v.correctAnswerIndex?"bg-green-50 border-green-800/30 text-green-900":x===U?"bg-red-50 border-red-800/30 text-red-900":"opacity-40 border-transparent bg-white/30":x===U?"bg-history-gold/10 border-history-gold/50 text-history-ink font-medium":"bg-white/40 border-history-gold/5 hover:border-history-gold/30 hover:bg-white/60"}
                                        `,children:[C.jsxs("div",{className:"flex items-center gap-4",children:[C.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-[10px] font-bold border transition-colors shrink-0 ${r&&U===v.correctAnswerIndex?"bg-green-700 border-green-700 text-white":x===U?"bg-history-gold border-history-gold text-white":"border-history-wood/20 text-history-wood/50"}`,children:String.fromCharCode(65+U)}),C.jsx("span",{className:"font-serif text-sm font-light leading-relaxed",children:M})]}),r&&U===v.correctAnswerIndex&&C.jsx(K0,{className:"w-5 h-5 text-green-700 shrink-0"}),r&&x===U&&x!==v.correctAnswerIndex&&C.jsx(o2,{className:"w-5 h-5 text-red-700 shrink-0"})]},U))}),r&&C.jsxs("div",{className:"mt-6 p-5 bg-white/50 rounded-sm border-l-2 border-history-gold flex items-start gap-4",children:[C.jsx("div",{className:"mt-0.5 shrink-0 text-history-gold",children:C.jsx(I2,{className:"w-4 h-4"})}),C.jsxs("div",{children:[C.jsx("span",{className:"font-bold text-history-wood text-[10px] uppercase tracking-widest block mb-2 opacity-70",children:"Explanation"}),C.jsx("p",{className:"text-history-ink leading-relaxed font-serif text-sm font-light italic",children:v.explanation})]})]})]},E)})}),!r&&Object.keys(n).length>0&&C.jsx("div",{className:"flex justify-center pt-8",children:C.jsxs("button",{onClick:()=>l(!0),className:"px-10 py-3 bg-history-red text-white font-medium rounded-sm shadow-md hover:bg-history-ink transform transition-all active:scale-95 flex items-center gap-3 uppercase tracking-widest text-xs",children:[C.jsx(K0,{className:"w-4 h-4"})," ",e.study.submit]})})]})},kM=({data:t,labels:e,sections:n})=>C.jsxs("div",{className:"hidden print:block print:p-8 bg-white text-black font-serif",children:[C.jsxs("div",{className:"text-center border-b-2 border-black pb-6 mb-8 break-inside-avoid",children:[C.jsx("h1",{className:"text-4xl font-display font-black mb-2 text-black uppercase tracking-wide",children:t.title}),C.jsx("p",{className:"text-sm text-gray-600 font-sans tracking-widest uppercase",children:"SuViet AI Tutor - Historical Archive"})]}),n.includes("overview")&&C.jsxs("section",{className:"mb-10 break-inside-avoid",children:[C.jsxs("h2",{className:"text-xl font-display font-bold mb-4 border-b border-gray-400 pb-1 text-black flex items-center gap-2",children:["1. ",e.sections.summary]}),C.jsx("ul",{className:"list-disc pl-5 space-y-2 text-justify",children:t.summaryPoints.map((s,r)=>C.jsx("li",{className:"leading-relaxed text-black",children:s},r))})]}),n.includes("overview")&&C.jsxs("section",{className:"mb-10 break-inside-avoid",children:[C.jsxs("h2",{className:"text-xl font-display font-bold mb-4 border-b border-gray-400 pb-1 text-black flex items-center gap-2",children:["2. ",e.sections.timeline]}),C.jsx("div",{className:"border-l-2 border-gray-300 ml-2 pl-4 space-y-4",children:t.timeline.map((s,r)=>C.jsxs("div",{className:"flex gap-4",children:[C.jsx("span",{className:"font-bold font-sans text-sm w-16 shrink-0 pt-0.5",children:s.year}),C.jsx("p",{className:"text-black leading-relaxed",children:s.event})]},r))})]}),n.includes("analysis")&&C.jsxs("section",{className:"mb-10 break-inside-avoid",children:[C.jsxs("h2",{className:"text-xl font-display font-bold mb-4 border-b border-gray-400 pb-1 text-black flex items-center gap-2",children:["3. ",e.sections.analysis]}),C.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[C.jsxs("div",{children:[C.jsx("h3",{className:"font-bold uppercase text-sm mb-2 border-b border-gray-200",children:e.sections.characters}),C.jsx("ul",{className:"list-disc pl-4 text-sm space-y-1",children:t.analysis.keyCharacters.map((s,r)=>C.jsx("li",{children:s},r))})]}),C.jsxs("div",{children:[C.jsx("h3",{className:"font-bold uppercase text-sm mb-2 border-b border-gray-200",children:e.sections.causes}),C.jsx("ul",{className:"list-disc pl-4 text-sm space-y-1",children:t.analysis.causes.map((s,r)=>C.jsx("li",{children:s},r))})]}),C.jsxs("div",{children:[C.jsx("h3",{className:"font-bold uppercase text-sm mb-2 border-b border-gray-200",children:e.sections.development}),C.jsx("ul",{className:"list-disc pl-4 text-sm space-y-1",children:t.analysis.developments.map((s,r)=>C.jsx("li",{children:s},r))})]}),C.jsxs("div",{children:[C.jsx("h3",{className:"font-bold uppercase text-sm mb-2 border-b border-gray-200",children:e.sections.effects}),C.jsx("ul",{className:"list-disc pl-4 text-sm space-y-1",children:t.analysis.effects.map((s,r)=>C.jsx("li",{children:s},r))})]})]})]}),n.includes("storyboard")&&C.jsxs("section",{className:"mb-10 break-before-auto",children:[C.jsxs("h2",{className:"text-xl font-display font-bold mb-4 border-b border-gray-400 pb-1 text-black flex items-center gap-2",children:["4. ",e.sections.storyboard," & ",e.sections.voiceover]}),C.jsxs("div",{className:"mb-6 p-4 border border-gray-200 rounded bg-gray-50/50 italic break-inside-avoid",children:[C.jsxs("span",{className:"block font-bold not-italic text-xs uppercase mb-1",children:[e.sections.voiceover,":"]}),'"',t.voiceOverScript,'"']}),C.jsx("div",{className:"space-y-6",children:t.storyboard.map((s,r)=>C.jsxs("div",{className:"border border-gray-300 p-4 break-inside-avoid rounded",children:[C.jsxs("div",{className:"flex justify-between border-b border-gray-200 pb-2 mb-2",children:[C.jsxs("h3",{className:"font-bold font-display",children:["SCENE ",s.sceneNumber]}),C.jsx("span",{className:"text-sm font-sans text-gray-600",children:s.cameraAngle})]}),C.jsxs("div",{className:"grid grid-cols-1 gap-2 text-sm",children:[C.jsxs("p",{children:[C.jsx("span",{className:"font-bold",children:"Visual:"})," ",s.visualDescription]}),C.jsxs("p",{children:[C.jsx("span",{className:"font-bold",children:"Action:"})," ",s.action]}),C.jsxs("p",{children:[C.jsx("span",{className:"font-bold",children:"Audio:"})," ",s.audio]}),s.textOverlay&&C.jsxs("p",{children:[C.jsx("span",{className:"font-bold",children:"Overlay:"}),' "',s.textOverlay,'"']})]})]},r))})]}),n.includes("assets")&&C.jsxs("section",{className:"mb-10 break-inside-avoid",children:[C.jsxs("h2",{className:"text-xl font-display font-bold mb-4 border-b border-gray-400 pb-1 text-black flex items-center gap-2",children:["5. ",e.sections.prompts]}),C.jsx("ul",{className:"list-decimal pl-5 space-y-3",children:t.imagePrompts.map((s,r)=>C.jsx("li",{className:"text-sm leading-relaxed border-b border-gray-100 pb-2 last:border-0",children:s},r))})]}),n.includes("quiz")&&C.jsxs("section",{className:"mb-10 break-before-auto",children:[C.jsxs("h2",{className:"text-xl font-display font-bold mb-4 border-b border-gray-400 pb-1 text-black flex items-center gap-2",children:["6. ",e.sections.mcq," & ",e.sections.flashcards]}),C.jsxs("div",{className:"mb-8",children:[C.jsx("h3",{className:"font-bold uppercase text-sm mb-3",children:"Questions"}),C.jsx("div",{className:"space-y-4",children:t.quiz.multipleChoice.map((s,r)=>C.jsxs("div",{className:"break-inside-avoid mb-4",children:[C.jsxs("p",{className:"font-bold text-sm mb-1",children:[r+1,". ",s.question]}),C.jsx("ul",{className:"pl-4 text-sm mb-2 grid grid-cols-2 gap-x-4",children:s.options.map((l,c)=>C.jsxs("li",{className:`${c===s.correctAnswerIndex?"font-bold underline":""}`,children:[String.fromCharCode(65+c),". ",l]},c))}),C.jsxs("p",{className:"text-xs bg-gray-100 p-2 border-l-2 border-black",children:[C.jsx("span",{className:"font-bold",children:"Note:"})," ",s.explanation]})]},r))})]}),C.jsxs("div",{className:"break-inside-avoid",children:[C.jsx("h3",{className:"font-bold uppercase text-sm mb-3",children:e.sections.thinking}),t.quiz.thinking.map((s,r)=>C.jsxs("div",{className:"mb-3",children:[C.jsxs("p",{className:"font-bold text-sm",children:["Q: ",s.question]}),C.jsxs("p",{className:"text-sm italic text-gray-700",children:["Guide: ",s.answerGuide]})]},r))]})]}),C.jsxs("div",{className:"text-center text-xs text-gray-400 mt-10 border-t border-gray-200 pt-4 font-sans uppercase tracking-widest",children:["Generated on ",new Date().toLocaleDateString(),"  SuViet AI Tutor"]})]}),PM=({isOpen:t,onClose:e,labels:n})=>{const[s,r]=J.useState(""),[l,c]=J.useState(""),[g,p]=J.useState(!1),[f,v]=J.useState(!1),[E,T]=J.useState("");J.useEffect(()=>{if(t){const U=localStorage.getItem("GEMINI_API_KEY")||"",k=localStorage.getItem("VEO_API_KEY")||"";r(U),c(k),T("")}},[t]);const x=()=>{localStorage.setItem("GEMINI_API_KEY",s),localStorage.setItem("VEO_API_KEY",l),T(n.settings.saved),setTimeout(()=>T(""),2e3)},M=()=>{localStorage.removeItem("GEMINI_API_KEY"),localStorage.removeItem("VEO_API_KEY"),r(""),c(""),T(n.settings.clear),setTimeout(()=>T(""),2e3)};return t?C.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-history-ink/40 backdrop-blur-sm p-4 animate-fade-in no-print",children:C.jsxs("div",{className:"glass-panel rounded-lg shadow-2xl max-w-md w-full overflow-hidden flex flex-col animate-fade-in-up border border-history-gold/20",children:[C.jsxs("div",{className:"bg-white/80 px-6 py-4 border-b border-history-gold/10 flex justify-between items-center backdrop-blur-sm",children:[C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx(w2,{className:"w-4 h-4 text-history-red"}),C.jsx("h3",{className:"text-lg font-display font-medium text-history-ink tracking-wide",children:n.settings.title})]}),C.jsx("button",{onClick:e,className:"p-1 hover:bg-black/5 rounded-full text-history-wood transition-colors",children:C.jsx(XE,{className:"w-4 h-4"})})]}),C.jsx("div",{className:"p-8",children:C.jsxs("div",{className:"mb-6",children:[C.jsx("h4",{className:"text-sm font-bold uppercase tracking-widest text-history-wood mb-2 border-b border-history-gold/10 pb-2",children:n.settings.apiSection}),C.jsx("p",{className:"text-history-ink font-serif text-sm leading-relaxed mb-4",children:n.settings.apiDesc}),C.jsxs("div",{className:"space-y-5",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-xs font-bold text-history-wood uppercase tracking-widest mb-2",children:n.settings.geminiKeyLabel}),C.jsxs("div",{className:"relative group",children:[C.jsx("input",{type:g?"text":"password",value:s,onChange:U=>r(U.target.value),placeholder:n.settings.placeholder,className:"w-full bg-white/60 border border-history-gold/20 rounded px-4 py-2 text-sm text-history-dark focus:outline-none focus:border-history-gold focus:ring-1 focus:ring-history-gold/30 font-mono tracking-wide"}),C.jsx("button",{onClick:()=>p(!g),className:"absolute right-3 top-2.5 text-history-wood/50 hover:text-history-dark",children:g?C.jsx(Q0,{className:"w-4 h-4"}):C.jsx(W0,{className:"w-4 h-4"})})]})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-xs font-bold text-history-wood uppercase tracking-widest mb-2",children:n.settings.veoKeyLabel}),C.jsxs("div",{className:"relative group",children:[C.jsx("input",{type:f?"text":"password",value:l,onChange:U=>c(U.target.value),placeholder:n.settings.placeholder,className:"w-full bg-white/60 border border-history-gold/20 rounded px-4 py-2 text-sm text-history-dark focus:outline-none focus:border-history-gold focus:ring-1 focus:ring-history-gold/30 font-mono tracking-wide"}),C.jsx("button",{onClick:()=>v(!f),className:"absolute right-3 top-2.5 text-history-wood/50 hover:text-history-dark",children:f?C.jsx(Q0,{className:"w-4 h-4"}):C.jsx(W0,{className:"w-4 h-4"})})]})]})]}),C.jsxs("div",{className:"mt-6 flex flex-col items-center gap-2",children:[C.jsxs("div",{className:"flex gap-3 w-full",children:[C.jsxs("button",{onClick:M,className:"flex-1 px-4 py-2 border border-history-red/30 text-history-red rounded-[4px] font-medium hover:bg-history-red/5 transition-all text-xs uppercase tracking-widest flex items-center justify-center gap-2",children:[C.jsx(KE,{className:"w-3 h-3"})," ",n.settings.clear]}),C.jsxs("button",{onClick:x,className:"flex-1 px-4 py-2 bg-history-ink text-history-paper rounded-[4px] font-medium shadow-sm hover:bg-black transition-all text-xs uppercase tracking-widest flex items-center justify-center gap-2",children:[C.jsx(Q2,{className:"w-3 h-3"})," ",n.settings.save]})]}),E&&C.jsxs("span",{className:"text-xs text-green-700 font-medium animate-fade-in flex items-center gap-1 mt-2",children:[C.jsx($E,{className:"w-3 h-3"})," ",E]})]})]})}),C.jsx("div",{className:"p-4 bg-history-parchment/20 border-t border-history-gold/10 flex justify-end backdrop-blur-sm",children:C.jsx("button",{onClick:e,className:"px-6 py-2 text-history-wood hover:text-history-dark font-medium transition-colors text-xs uppercase tracking-widest",children:n.settings.close})})]})}):null};/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var e_="popstate";function UM(t={}){function e(s,r){let{pathname:l,search:c,hash:g}=s.location;return Vh("",{pathname:l,search:c,hash:g},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(s,r){return typeof r=="string"?r:pl(r)}return OM(e,n,null,t)}function rt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Rn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function LM(){return Math.random().toString(36).substring(2,10)}function t_(t,e){return{usr:t.state,key:t.key,idx:e}}function Vh(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Yr(e):e,state:n,key:e&&e.key||s||LM()}}function pl({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Yr(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function OM(t,e,n,s={}){let{window:r=document.defaultView,v5Compat:l=!1}=s,c=r.history,g="POP",p=null,f=v();f==null&&(f=0,c.replaceState({...c.state,idx:f},""));function v(){return(c.state||{idx:null}).idx}function E(){g="POP";let k=v(),F=k==null?null:k-f;f=k,p&&p({action:g,location:U.location,delta:F})}function T(k,F){g="PUSH";let Y=Vh(U.location,k,F);f=v()+1;let B=t_(Y,f),oe=U.createHref(Y);try{c.pushState(B,"",oe)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;r.location.assign(oe)}l&&p&&p({action:g,location:U.location,delta:1})}function x(k,F){g="REPLACE";let Y=Vh(U.location,k,F);f=v();let B=t_(Y,f),oe=U.createHref(Y);c.replaceState(B,"",oe),l&&p&&p({action:g,location:U.location,delta:0})}function M(k){return VM(k)}let U={get action(){return g},get location(){return t(r,c)},listen(k){if(p)throw new Error("A history only accepts one active listener");return r.addEventListener(e_,E),p=k,()=>{r.removeEventListener(e_,E),p=null}},createHref(k){return e(r,k)},createURL:M,encodeLocation(k){let F=M(k);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:T,replace:x,go(k){return c.go(k)}};return U}function VM(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),rt(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:pl(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function QE(t,e,n="/"){return HM(t,e,n,!1)}function HM(t,e,n,s){let r=typeof e=="string"?Yr(e):e,l=Ji(r.pathname||"/",n);if(l==null)return null;let c=WE(t);GM(c);let g=null;for(let p=0;g==null&&p<c.length;++p){let f=WM(l);g=XM(c[p],f,s)}return g}function WE(t,e=[],n=[],s="",r=!1){let l=(c,g,p=r,f)=>{let v={relativePath:f===void 0?c.path||"":f,caseSensitive:c.caseSensitive===!0,childrenIndex:g,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&p)return;rt(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let E=qi([s,v.relativePath]),T=n.concat(v);c.children&&c.children.length>0&&(rt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),WE(c.children,e,T,E,p)),!(c.path==null&&!c.index)&&e.push({path:E,score:$M(E,c.index),routesMeta:T})};return t.forEach((c,g)=>{var p;if(c.path===""||!((p=c.path)!=null&&p.includes("?")))l(c,g);else for(let f of ZE(c.path))l(c,g,!0,f)}),e}function ZE(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,r=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return r?[l,""]:[l];let c=ZE(s.join("/")),g=[];return g.push(...c.map(p=>p===""?l:[l,p].join("/"))),r&&g.push(...c),g.map(p=>t.startsWith("/")&&p===""?"/":p)}function GM(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:KM(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var BM=/^:[\w-]+$/,zM=3,qM=2,FM=1,YM=10,JM=-2,n_=t=>t==="*";function $M(t,e){let n=t.split("/"),s=n.length;return n.some(n_)&&(s+=JM),e&&(s+=qM),n.filter(r=>!n_(r)).reduce((r,l)=>r+(BM.test(l)?zM:l===""?FM:YM),s)}function KM(t,e){return t.length===e.length&&t.slice(0,-1).every((s,r)=>s===e[r])?t[t.length-1]-e[e.length-1]:0}function XM(t,e,n=!1){let{routesMeta:s}=t,r={},l="/",c=[];for(let g=0;g<s.length;++g){let p=s[g],f=g===s.length-1,v=l==="/"?e:e.slice(l.length)||"/",E=Dc({path:p.relativePath,caseSensitive:p.caseSensitive,end:f},v),T=p.route;if(!E&&f&&n&&!s[s.length-1].route.index&&(E=Dc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!E)return null;Object.assign(r,E.params),c.push({params:r,pathname:qi([l,E.pathname]),pathnameBase:tD(qi([l,E.pathnameBase])),route:T}),E.pathnameBase!=="/"&&(l=qi([l,E.pathnameBase]))}return c}function Dc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=QM(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let l=r[0],c=l.replace(/(.)\/+$/,"$1"),g=r.slice(1);return{params:s.reduce((f,{paramName:v,isOptional:E},T)=>{if(v==="*"){let M=g[T]||"";c=l.slice(0,l.length-M.length).replace(/(.)\/+$/,"$1")}const x=g[T];return E&&!x?f[v]=void 0:f[v]=(x||"").replace(/%2F/g,"/"),f},{}),pathname:l,pathnameBase:c,pattern:t}}function QM(t,e=!1,n=!0){Rn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,g,p)=>(s.push({paramName:g,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),s]}function WM(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Rn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ji(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}var jE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ZM=t=>jE.test(t);function jM(t,e="/"){let{pathname:n,search:s="",hash:r=""}=typeof t=="string"?Yr(t):t,l;if(n)if(ZM(n))l=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),Rn(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?l=i_(n.substring(1),"/"):l=i_(n,e)}else l=e;return{pathname:l,search:nD(s),hash:iD(r)}}function i_(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function ch(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function eD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function hp(t){let e=eD(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function pp(t,e,n,s=!1){let r;typeof t=="string"?r=Yr(t):(r={...t},rt(!r.pathname||!r.pathname.includes("?"),ch("?","pathname","search",r)),rt(!r.pathname||!r.pathname.includes("#"),ch("#","pathname","hash",r)),rt(!r.search||!r.search.includes("#"),ch("#","search","hash",r)));let l=t===""||r.pathname==="",c=l?"/":r.pathname,g;if(c==null)g=n;else{let E=e.length-1;if(!s&&c.startsWith("..")){let T=c.split("/");for(;T[0]==="..";)T.shift(),E-=1;r.pathname=T.join("/")}g=E>=0?e[E]:"/"}let p=jM(r,g),f=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(f||v)&&(p.pathname+="/"),p}var qi=t=>t.join("/").replace(/\/\/+/g,"/"),tD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),nD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,iD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,oD=class{constructor(t,e,n,s=!1){this.status=t,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function sD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function rD(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var eT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function tT(t,e){let n=t;if(typeof n!="string"||!jE.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,r=!1;if(eT)try{let l=new URL(window.location.href),c=n.startsWith("//")?new URL(l.protocol+n):new URL(n),g=Ji(c.pathname,e);c.origin===l.origin&&g!=null?n=g+c.search+c.hash:r=!0}catch{Rn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:r,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var nT=["POST","PUT","PATCH","DELETE"];new Set(nT);var aD=["GET",...nT];new Set(aD);var Jr=J.createContext(null);Jr.displayName="DataRouter";var Qc=J.createContext(null);Qc.displayName="DataRouterState";var lD=J.createContext(!1),iT=J.createContext({isTransitioning:!1});iT.displayName="ViewTransition";var uD=J.createContext(new Map);uD.displayName="Fetchers";var cD=J.createContext(null);cD.displayName="Await";var fn=J.createContext(null);fn.displayName="Navigation";var _l=J.createContext(null);_l.displayName="Location";var Ei=J.createContext({outlet:null,matches:[],isDataRoute:!1});Ei.displayName="Route";var mp=J.createContext(null);mp.displayName="RouteError";var oT="REACT_ROUTER_ERROR",dD="REDIRECT",fD="ROUTE_ERROR_RESPONSE";function hD(t){if(t.startsWith(`${oT}:${dD}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function pD(t){if(t.startsWith(`${oT}:${fD}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new oD(e.status,e.statusText,e.data)}catch{}}function mD(t,{relative:e}={}){rt($r(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=J.useContext(fn),{hash:r,pathname:l,search:c}=Tl(t,{relative:e}),g=l;return n!=="/"&&(g=l==="/"?n:qi([n,l])),s.createHref({pathname:g,search:c,hash:r})}function $r(){return J.useContext(_l)!=null}function Fo(){return rt($r(),"useLocation() may be used only in the context of a <Router> component."),J.useContext(_l).location}var sT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function rT(t){J.useContext(fn).static||J.useLayoutEffect(t)}function El(){let{isDataRoute:t}=J.useContext(Ei);return t?RD():gD()}function gD(){rt($r(),"useNavigate() may be used only in the context of a <Router> component.");let t=J.useContext(Jr),{basename:e,navigator:n}=J.useContext(fn),{matches:s}=J.useContext(Ei),{pathname:r}=Fo(),l=JSON.stringify(hp(s)),c=J.useRef(!1);return rT(()=>{c.current=!0}),J.useCallback((p,f={})=>{if(Rn(c.current,sT),!c.current)return;if(typeof p=="number"){n.go(p);return}let v=pp(p,JSON.parse(l),r,f.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:qi([e,v.pathname])),(f.replace?n.replace:n.push)(v,f.state,f)},[e,n,l,r,t])}J.createContext(null);function Tl(t,{relative:e}={}){let{matches:n}=J.useContext(Ei),{pathname:s}=Fo(),r=JSON.stringify(hp(n));return J.useMemo(()=>pp(t,JSON.parse(r),s,e==="path"),[t,r,s,e])}function yD(t,e){return aT(t,e)}function aT(t,e,n,s,r){var Y;rt($r(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=J.useContext(fn),{matches:c}=J.useContext(Ei),g=c[c.length-1],p=g?g.params:{},f=g?g.pathname:"/",v=g?g.pathnameBase:"/",E=g&&g.route;{let B=E&&E.path||"";uT(f,!E||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let T=Fo(),x;if(e){let B=typeof e=="string"?Yr(e):e;rt(v==="/"||((Y=B.pathname)==null?void 0:Y.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${B.pathname}" was given in the \`location\` prop.`),x=B}else x=T;let M=x.pathname||"/",U=M;if(v!=="/"){let B=v.replace(/^\//,"").split("/");U="/"+M.replace(/^\//,"").split("/").slice(B.length).join("/")}let k=QE(t,{pathname:U});Rn(E||k!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Rn(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=SD(k&&k.map(B=>Object.assign({},B,{params:Object.assign({},p,B.params),pathname:qi([v,l.encodeLocation?l.encodeLocation(B.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?v:qi([v,l.encodeLocation?l.encodeLocation(B.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathnameBase])})),c,n,s,r);return e&&F?J.createElement(_l.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},F):F}function vD(){let t=bD(),e=sD(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=J.createElement(J.Fragment,null,J.createElement("p",null," Hey developer "),J.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",J.createElement("code",{style:l},"ErrorBoundary")," or"," ",J.createElement("code",{style:l},"errorElement")," prop on your route.")),J.createElement(J.Fragment,null,J.createElement("h2",null,"Unexpected Application Error!"),J.createElement("h3",{style:{fontStyle:"italic"}},e),n?J.createElement("pre",{style:r},n):null,c)}var _D=J.createElement(vD,null),lT=class extends J.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=pD(t.digest);n&&(t=n)}let e=t!==void 0?J.createElement(Ei.Provider,{value:this.props.routeContext},J.createElement(mp.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?J.createElement(ED,{error:t},e):e}};lT.contextType=lD;var dh=new WeakMap;function ED({children:t,error:e}){let{basename:n}=J.useContext(fn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=hD(e.digest);if(s){let r=dh.get(e);if(r)throw r;let l=tT(s.location,n);if(eT&&!dh.get(e))if(l.isExternal||s.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:s.replace}));throw dh.set(e,c),c}return J.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function TD({routeContext:t,match:e,children:n}){let s=J.useContext(Jr);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),J.createElement(Ei.Provider,{value:t},n)}function SD(t,e=[],n=null,s=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n==null?void 0:n.errors;if(c!=null){let v=l.findIndex(E=>E.route.id&&(c==null?void 0:c[E.route.id])!==void 0);rt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let g=!1,p=-1;if(n)for(let v=0;v<l.length;v++){let E=l[v];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(p=v),E.route.id){let{loaderData:T,errors:x}=n,M=E.route.loader&&!T.hasOwnProperty(E.route.id)&&(!x||x[E.route.id]===void 0);if(E.route.lazy||M){g=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}let f=n&&s?(v,E)=>{var T,x;s(v,{location:n.location,params:((x=(T=n.matches)==null?void 0:T[0])==null?void 0:x.params)??{},unstable_pattern:rD(n.matches),errorInfo:E})}:void 0;return l.reduceRight((v,E,T)=>{let x,M=!1,U=null,k=null;n&&(x=c&&E.route.id?c[E.route.id]:void 0,U=E.route.errorElement||_D,g&&(p<0&&T===0?(uT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,k=null):p===T&&(M=!0,k=E.route.hydrateFallbackElement||null)));let F=e.concat(l.slice(0,T+1)),Y=()=>{let B;return x?B=U:M?B=k:E.route.Component?B=J.createElement(E.route.Component,null):E.route.element?B=E.route.element:B=v,J.createElement(TD,{match:E,routeContext:{outlet:v,matches:F,isDataRoute:n!=null},children:B})};return n&&(E.route.ErrorBoundary||E.route.errorElement||T===0)?J.createElement(lT,{location:n.location,revalidation:n.revalidation,component:U,error:x,children:Y(),routeContext:{outlet:null,matches:F,isDataRoute:!0},onError:f}):Y()},null)}function gp(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function AD(t){let e=J.useContext(Jr);return rt(e,gp(t)),e}function CD(t){let e=J.useContext(Qc);return rt(e,gp(t)),e}function wD(t){let e=J.useContext(Ei);return rt(e,gp(t)),e}function yp(t){let e=wD(t),n=e.matches[e.matches.length-1];return rt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function xD(){return yp("useRouteId")}function bD(){var s;let t=J.useContext(mp),e=CD("useRouteError"),n=yp("useRouteError");return t!==void 0?t:(s=e.errors)==null?void 0:s[n]}function RD(){let{router:t}=AD("useNavigate"),e=yp("useNavigate"),n=J.useRef(!1);return rT(()=>{n.current=!0}),J.useCallback(async(r,l={})=>{Rn(n.current,sT),n.current&&(typeof r=="number"?await t.navigate(r):await t.navigate(r,{fromRouteId:e,...l}))},[t,e])}var o_={};function uT(t,e,n){!e&&!o_[t]&&(o_[t]=!0,Rn(!1,n))}J.memo(ID);function ID({routes:t,future:e,state:n,onError:s}){return aT(t,void 0,n,s,e)}function ND({to:t,replace:e,state:n,relative:s}){rt($r(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=J.useContext(fn);Rn(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=J.useContext(Ei),{pathname:c}=Fo(),g=El(),p=pp(t,hp(l),c,s==="path"),f=JSON.stringify(p);return J.useEffect(()=>{g(JSON.parse(f),{replace:e,state:n,relative:s})},[g,f,s,e,n]),null}function rl(t){rt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function MD({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:r,static:l=!1,unstable_useTransitions:c}){rt(!$r(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let g=t.replace(/^\/*/,"/"),p=J.useMemo(()=>({basename:g,navigator:r,static:l,unstable_useTransitions:c,future:{}}),[g,r,l,c]);typeof n=="string"&&(n=Yr(n));let{pathname:f="/",search:v="",hash:E="",state:T=null,key:x="default"}=n,M=J.useMemo(()=>{let U=Ji(f,g);return U==null?null:{location:{pathname:U,search:v,hash:E,state:T,key:x},navigationType:s}},[g,f,v,E,T,x,s]);return Rn(M!=null,`<Router basename="${g}"> is not able to match the URL "${f}${v}${E}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:J.createElement(fn.Provider,{value:p},J.createElement(_l.Provider,{children:e,value:M}))}function DD({children:t,location:e}){return yD(Hh(t),e)}function Hh(t,e=[]){let n=[];return J.Children.forEach(t,(s,r)=>{if(!J.isValidElement(s))return;let l=[...e,r];if(s.type===J.Fragment){n.push.apply(n,Hh(s.props.children,l));return}rt(s.type===rl,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),rt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Hh(s.props.children,l)),n.push(c)}),n}var _c="get",Ec="application/x-www-form-urlencoded";function Wc(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function kD(t){return Wc(t)&&t.tagName.toLowerCase()==="button"}function PD(t){return Wc(t)&&t.tagName.toLowerCase()==="form"}function UD(t){return Wc(t)&&t.tagName.toLowerCase()==="input"}function LD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function OD(t,e){return t.button===0&&(!e||e==="_self")&&!LD(t)}var hc=null;function VD(){if(hc===null)try{new FormData(document.createElement("form"),0),hc=!1}catch{hc=!0}return hc}var HD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fh(t){return t!=null&&!HD.has(t)?(Rn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ec}"`),null):t}function GD(t,e){let n,s,r,l,c;if(PD(t)){let g=t.getAttribute("action");s=g?Ji(g,e):null,n=t.getAttribute("method")||_c,r=fh(t.getAttribute("enctype"))||Ec,l=new FormData(t)}else if(kD(t)||UD(t)&&(t.type==="submit"||t.type==="image")){let g=t.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=t.getAttribute("formaction")||g.getAttribute("action");if(s=p?Ji(p,e):null,n=t.getAttribute("formmethod")||g.getAttribute("method")||_c,r=fh(t.getAttribute("formenctype"))||fh(g.getAttribute("enctype"))||Ec,l=new FormData(g,t),!VD()){let{name:f,type:v,value:E}=t;if(v==="image"){let T=f?`${f}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else f&&l.append(f,E)}}else{if(Wc(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=_c,s=null,r=Ec,c=t}return l&&r==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:r,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function vp(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function BD(t,e,n,s){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?r.pathname.endsWith("/")?r.pathname=`${r.pathname}_.${s}`:r.pathname=`${r.pathname}.${s}`:r.pathname==="/"?r.pathname=`_root.${s}`:e&&Ji(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${s}`,r}async function zD(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function qD(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function FD(t,e,n){let s=await Promise.all(t.map(async r=>{let l=e.routes[r.route.id];if(l){let c=await zD(l,n);return c.links?c.links():[]}return[]}));return KD(s.flat(1).filter(qD).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function s_(t,e,n,s,r,l){let c=(p,f)=>n[f]?p.route.id!==n[f].route.id:!0,g=(p,f)=>{var v;return n[f].pathname!==p.pathname||((v=n[f].route.path)==null?void 0:v.endsWith("*"))&&n[f].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,f)=>c(p,f)||g(p,f)):l==="data"?e.filter((p,f)=>{var E;let v=s.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(c(p,f)||g(p,f))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((E=n[0])==null?void 0:E.params)||{},nextUrl:new URL(t,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function YD(t,e,{includeHydrateFallback:n}={}){return JD(t.map(s=>{let r=e.routes[s.route.id];if(!r)return[];let l=[r.module];return r.clientActionModule&&(l=l.concat(r.clientActionModule)),r.clientLoaderModule&&(l=l.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(l=l.concat(r.hydrateFallbackModule)),r.imports&&(l=l.concat(r.imports)),l}).flat(1))}function JD(t){return[...new Set(t)]}function $D(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function KD(t,e){let n=new Set;return new Set(e),t.reduce((s,r)=>{let l=JSON.stringify($D(r));return n.has(l)||(n.add(l),s.push({key:l,link:r})),s},[])}function cT(){let t=J.useContext(Jr);return vp(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function XD(){let t=J.useContext(Qc);return vp(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var _p=J.createContext(void 0);_p.displayName="FrameworkContext";function dT(){let t=J.useContext(_p);return vp(t,"You must render this element inside a <HydratedRouter> element"),t}function QD(t,e){let n=J.useContext(_p),[s,r]=J.useState(!1),[l,c]=J.useState(!1),{onFocus:g,onBlur:p,onMouseEnter:f,onMouseLeave:v,onTouchStart:E}=e,T=J.useRef(null);J.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let U=F=>{F.forEach(Y=>{c(Y.isIntersecting)})},k=new IntersectionObserver(U,{threshold:.5});return T.current&&k.observe(T.current),()=>{k.disconnect()}}},[t]),J.useEffect(()=>{if(s){let U=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(U)}}},[s]);let x=()=>{r(!0)},M=()=>{r(!1),c(!1)};return n?t!=="intent"?[l,T,{}]:[l,T,{onFocus:ol(g,x),onBlur:ol(p,M),onMouseEnter:ol(f,x),onMouseLeave:ol(v,M),onTouchStart:ol(E,x)}]:[!1,T,{}]}function ol(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function WD({page:t,...e}){let{router:n}=cT(),s=J.useMemo(()=>QE(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?J.createElement(jD,{page:t,matches:s,...e}):null}function ZD(t){let{manifest:e,routeModules:n}=dT(),[s,r]=J.useState([]);return J.useEffect(()=>{let l=!1;return FD(t,e,n).then(c=>{l||r(c)}),()=>{l=!0}},[t,e,n]),s}function jD({page:t,matches:e,...n}){let s=Fo(),{future:r,manifest:l,routeModules:c}=dT(),{basename:g}=cT(),{loaderData:p,matches:f}=XD(),v=J.useMemo(()=>s_(t,e,f,l,s,"data"),[t,e,f,l,s]),E=J.useMemo(()=>s_(t,e,f,l,s,"assets"),[t,e,f,l,s]),T=J.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let U=new Set,k=!1;if(e.forEach(Y=>{var oe;let B=l.routes[Y.route.id];!B||!B.hasLoader||(!v.some(se=>se.route.id===Y.route.id)&&Y.route.id in p&&((oe=c[Y.route.id])!=null&&oe.shouldRevalidate)||B.hasClientLoader?k=!0:U.add(Y.route.id))}),U.size===0)return[];let F=BD(t,g,r.unstable_trailingSlashAwareDataRequests,"data");return k&&U.size>0&&F.searchParams.set("_routes",e.filter(Y=>U.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[F.pathname+F.search]},[g,r.unstable_trailingSlashAwareDataRequests,p,s,l,v,e,t,c]),x=J.useMemo(()=>YD(E,l),[E,l]),M=ZD(E);return J.createElement(J.Fragment,null,T.map(U=>J.createElement("link",{key:U,rel:"prefetch",as:"fetch",href:U,...n})),x.map(U=>J.createElement("link",{key:U,rel:"modulepreload",href:U,...n})),M.map(({key:U,link:k})=>J.createElement("link",{key:U,nonce:n.nonce,...k})))}function ek(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var tk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{tk&&(window.__reactRouterVersion="7.12.0")}catch{}function nk({basename:t,children:e,unstable_useTransitions:n,window:s}){let r=J.useRef();r.current==null&&(r.current=UM({window:s,v5Compat:!0}));let l=r.current,[c,g]=J.useState({action:l.action,location:l.location}),p=J.useCallback(f=>{n===!1?g(f):J.startTransition(()=>g(f))},[n]);return J.useLayoutEffect(()=>l.listen(p),[l,p]),J.createElement(MD,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n})}var fT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bo=J.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:r,reloadDocument:l,replace:c,state:g,target:p,to:f,preventScrollReset:v,viewTransition:E,unstable_defaultShouldRevalidate:T,...x},M){let{basename:U,unstable_useTransitions:k}=J.useContext(fn),F=typeof f=="string"&&fT.test(f),Y=tT(f,U);f=Y.to;let B=mD(f,{relative:r}),[oe,se,ae]=QD(s,x),D=rk(f,{replace:c,state:g,target:p,preventScrollReset:v,relative:r,viewTransition:E,unstable_defaultShouldRevalidate:T,unstable_useTransitions:k});function N(O){e&&e(O),O.defaultPrevented||D(O)}let I=J.createElement("a",{...x,...ae,href:Y.absoluteURL||B,onClick:Y.isExternal||l?e:N,ref:ek(M,se),target:p,"data-discover":!F&&n==="render"?"true":void 0});return oe&&!F?J.createElement(J.Fragment,null,I,J.createElement(WD,{page:B})):I});Bo.displayName="Link";var ik=J.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:r=!1,style:l,to:c,viewTransition:g,children:p,...f},v){let E=Tl(c,{relative:f.relative}),T=Fo(),x=J.useContext(Qc),{navigator:M,basename:U}=J.useContext(fn),k=x!=null&&dk(E)&&g===!0,F=M.encodeLocation?M.encodeLocation(E).pathname:E.pathname,Y=T.pathname,B=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(Y=Y.toLowerCase(),B=B?B.toLowerCase():null,F=F.toLowerCase()),B&&U&&(B=Ji(B,U)||B);const oe=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let se=Y===F||!r&&Y.startsWith(F)&&Y.charAt(oe)==="/",ae=B!=null&&(B===F||!r&&B.startsWith(F)&&B.charAt(F.length)==="/"),D={isActive:se,isPending:ae,isTransitioning:k},N=se?e:void 0,I;typeof s=="function"?I=s(D):I=[s,se?"active":null,ae?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let O=typeof l=="function"?l(D):l;return J.createElement(Bo,{...f,"aria-current":N,className:I,ref:v,style:O,to:c,viewTransition:g},typeof p=="function"?p(D):p)});ik.displayName="NavLink";var ok=J.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:r,state:l,method:c=_c,action:g,onSubmit:p,relative:f,preventScrollReset:v,viewTransition:E,unstable_defaultShouldRevalidate:T,...x},M)=>{let{unstable_useTransitions:U}=J.useContext(fn),k=uk(),F=ck(g,{relative:f}),Y=c.toLowerCase()==="get"?"get":"post",B=typeof g=="string"&&fT.test(g),oe=se=>{if(p&&p(se),se.defaultPrevented)return;se.preventDefault();let ae=se.nativeEvent.submitter,D=(ae==null?void 0:ae.getAttribute("formmethod"))||c,N=()=>k(ae||se.currentTarget,{fetcherKey:e,method:D,navigate:n,replace:r,state:l,relative:f,preventScrollReset:v,viewTransition:E,unstable_defaultShouldRevalidate:T});U&&n!==!1?J.startTransition(()=>N()):N()};return J.createElement("form",{ref:M,method:Y,action:F,onSubmit:s?p:oe,...x,"data-discover":!B&&t==="render"?"true":void 0})});ok.displayName="Form";function sk(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hT(t){let e=J.useContext(Jr);return rt(e,sk(t)),e}function rk(t,{target:e,replace:n,state:s,preventScrollReset:r,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:g,unstable_useTransitions:p}={}){let f=El(),v=Fo(),E=Tl(t,{relative:l});return J.useCallback(T=>{if(OD(T,e)){T.preventDefault();let x=n!==void 0?n:pl(v)===pl(E),M=()=>f(t,{replace:x,state:s,preventScrollReset:r,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:g});p?J.startTransition(()=>M()):M()}},[v,f,E,n,s,e,t,r,l,c,g,p])}var ak=0,lk=()=>`__${String(++ak)}__`;function uk(){let{router:t}=hT("useSubmit"),{basename:e}=J.useContext(fn),n=xD(),s=t.fetch,r=t.navigate;return J.useCallback(async(l,c={})=>{let{action:g,method:p,encType:f,formData:v,body:E}=GD(l,e);if(c.navigate===!1){let T=c.fetcherKey||lk();await s(T,n,c.action||g,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:E,formMethod:c.method||p,formEncType:c.encType||f,flushSync:c.flushSync})}else await r(c.action||g,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:E,formMethod:c.method||p,formEncType:c.encType||f,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,r,e,n])}function ck(t,{relative:e}={}){let{basename:n}=J.useContext(fn),s=J.useContext(Ei);rt(s,"useFormAction must be used inside a RouteContext");let[r]=s.matches.slice(-1),l={...Tl(t||".",{relative:e})},c=Fo();if(t==null){l.search=c.search;let g=new URLSearchParams(l.search),p=g.getAll("index");if(p.some(v=>v==="")){g.delete("index"),p.filter(E=>E).forEach(E=>g.append("index",E));let v=g.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&r.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:qi([n,l.pathname])),pl(l)}function dk(t,{relative:e}={}){let n=J.useContext(iT);rt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=hT("useViewTransitionState"),r=Tl(t,{relative:e});if(!n.isTransitioning)return!1;let l=Ji(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=Ji(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Dc(r.pathname,c)!=null||Dc(r.pathname,l)!=null}const fk=()=>{};var r_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let r=t.charCodeAt(s);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},hk=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const r=t[n++];if(r<128)e[s++]=String.fromCharCode(r);else if(r>191&&r<224){const l=t[n++];e[s++]=String.fromCharCode((r&31)<<6|l&63)}else if(r>239&&r<365){const l=t[n++],c=t[n++],g=t[n++],p=((r&7)<<18|(l&63)<<12|(c&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const l=t[n++],c=t[n++];e[s++]=String.fromCharCode((r&15)<<12|(l&63)<<6|c&63)}}return e.join("")},mT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<t.length;r+=3){const l=t[r],c=r+1<t.length,g=c?t[r+1]:0,p=r+2<t.length,f=p?t[r+2]:0,v=l>>2,E=(l&3)<<4|g>>4;let T=(g&15)<<2|f>>6,x=f&63;p||(x=64,c||(T=64)),s.push(n[v],n[E],n[T],n[x])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(pT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):hk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<t.length;){const l=n[t.charAt(r++)],g=r<t.length?n[t.charAt(r)]:0;++r;const f=r<t.length?n[t.charAt(r)]:64;++r;const E=r<t.length?n[t.charAt(r)]:64;if(++r,l==null||g==null||f==null||E==null)throw new pk;const T=l<<2|g>>4;if(s.push(T),f!==64){const x=g<<4&240|f>>2;if(s.push(x),E!==64){const M=f<<6&192|E;s.push(M)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class pk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mk=function(t){const e=pT(t);return mT.encodeByteArray(e,!0)},kc=function(t){return mk(t).replace(/\./g,"")},gT=function(t){try{return mT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk=()=>gk().__FIREBASE_DEFAULTS__,vk=()=>{if(typeof process>"u"||typeof r_>"u")return;const t=r_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},_k=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&gT(t[1]);return e&&JSON.parse(e)},Ep=()=>{try{return fk()||yk()||vk()||_k()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},yT=t=>{var e,n;return(n=(e=Ep())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},Ek=t=>{const e=yT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},vT=()=>{var t;return(t=Ep())==null?void 0:t.config},_T=t=>{var e;return(e=Ep())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ET(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",r=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:r,exp:r+3600,auth_time:r,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[kc(JSON.stringify(n)),kc(JSON.stringify(c)),""].join(".")}const ul={};function Ak(){const t={prod:[],emulator:[]};for(const e of Object.keys(ul))ul[e]?t.emulator.push(e):t.prod.push(e);return t}function Ck(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let a_=!1;function TT(t,e){if(typeof window>"u"||typeof document>"u"||!Sl(window.location.host)||ul[t]===e||ul[t]||a_)return;ul[t]=e;function n(T){return`__firebase__banner__${T}`}const s="__firebase__banner",l=Ak().prod.length>0;function c(){const T=document.getElementById(s);T&&T.remove()}function g(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function p(T,x){T.setAttribute("width","24"),T.setAttribute("id",x),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function f(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{a_=!0,c()},T}function v(T,x){T.setAttribute("id",x),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function E(){const T=Ck(s),x=n("text"),M=document.getElementById(x)||document.createElement("span"),U=n("learnmore"),k=document.getElementById(U)||document.createElement("a"),F=n("preprendIcon"),Y=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const B=T.element;g(B),v(k,U);const oe=f();p(Y,F),B.append(Y,M,k,oe),document.body.appendChild(B)}l?(M.innerText="Preview backend disconnected.",Y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kt())}function xk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bk(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Rk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ik(){const t=Kt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Nk(){try{return typeof indexedDB=="object"}catch{return!1}}function Mk(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var l;e(((l=r.error)==null?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk="FirebaseError";class Wi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Dk,Object.setPrototypeOf(this,Wi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Al.prototype.create)}}class Al{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},r=`${this.service}/${e}`,l=this.errors[e],c=l?kk(l,s):"Error",g=`${this.serviceName}: ${c} (${r}).`;return new Wi(r,g,s)}}function kk(t,e){return t.replace(Pk,(n,s)=>{const r=e[s];return r!=null?String(r):`<${s}?>`})}const Pk=/\{\$([^}]+)}/g;function Uk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ns(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const r of n){if(!s.includes(r))return!1;const l=t[r],c=e[r];if(l_(l)&&l_(c)){if(!Ns(l,c))return!1}else if(l!==c)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function l_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cl(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function al(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[r,l]=s.split("=");e[decodeURIComponent(r)]=decodeURIComponent(l)}}),e}function ll(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Lk(t,e){const n=new Ok(t,e);return n.subscribe.bind(n)}class Ok{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let r;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Vk(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:s},r.next===void 0&&(r.next=hh),r.error===void 0&&(r.error=hh),r.complete===void 0&&(r.complete=hh);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Vk(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function hh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(t){return t&&t._delegate?t._delegate:t}class Ms{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Tk;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Bk(e))try{this.getOrInitializeService({instanceIdentifier:ws})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:r});s.resolve(l)}catch{}}}}clearInstance(e=ws){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ws){return this.instances.has(e)}getOptions(e=ws){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(l);s===g&&c.resolve(r)}return r}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),r=this.onInitCallbacks.get(s)??new Set;r.add(e),this.onInitCallbacks.set(s,r);const l=this.instances.get(s);return l&&e(l,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const r of s)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Gk(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ws){return this.component?this.component.multipleInstances?e:ws:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Gk(t){return t===ws?void 0:t}function Bk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Hk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ye||(Ye={}));const qk={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},Fk=Ye.INFO,Yk={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},Jk=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),r=Yk[e];if(r)console[r](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Tp{constructor(e){this.name=e,this._logLevel=Fk,this._logHandler=Jk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?qk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}}const $k=(t,e)=>e.some(n=>t instanceof n);let u_,c_;function Kk(){return u_||(u_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Xk(){return c_||(c_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ST=new WeakMap,Gh=new WeakMap,AT=new WeakMap,ph=new WeakMap,Sp=new WeakMap;function Qk(t){const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(Vo(t.result)),r()},c=()=>{s(t.error),r()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&ST.set(n,t)}).catch(()=>{}),Sp.set(e,t),e}function Wk(t){if(Gh.has(t))return;const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),r()},c=()=>{s(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});Gh.set(t,e)}let Bh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Gh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||AT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Vo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Zk(t){Bh=t(Bh)}function jk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(mh(this),e,...n);return AT.set(s,e.sort?e.sort():[e]),Vo(s)}:Xk().includes(t)?function(...e){return t.apply(mh(this),e),Vo(ST.get(this))}:function(...e){return Vo(t.apply(mh(this),e))}}function e4(t){return typeof t=="function"?jk(t):(t instanceof IDBTransaction&&Wk(t),$k(t,Kk())?new Proxy(t,Bh):t)}function Vo(t){if(t instanceof IDBRequest)return Qk(t);if(ph.has(t))return ph.get(t);const e=e4(t);return e!==t&&(ph.set(t,e),Sp.set(e,t)),e}const mh=t=>Sp.get(t);function t4(t,e,{blocked:n,upgrade:s,blocking:r,terminated:l}={}){const c=indexedDB.open(t,e),g=Vo(c);return s&&c.addEventListener("upgradeneeded",p=>{s(Vo(c.result),p.oldVersion,p.newVersion,Vo(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),g.then(p=>{l&&p.addEventListener("close",()=>l()),r&&p.addEventListener("versionchange",f=>r(f.oldVersion,f.newVersion,f))}).catch(()=>{}),g}const n4=["get","getKey","getAll","getAllKeys","count"],i4=["put","add","delete","clear"],gh=new Map;function d_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(gh.get(e))return gh.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,r=i4.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||n4.includes(n)))return;const l=async function(c,...g){const p=this.transaction(c,r?"readwrite":"readonly");let f=p.store;return s&&(f=f.index(g.shift())),(await Promise.all([f[n](...g),r&&p.done]))[0]};return gh.set(e,l),l}Zk(t=>({...t,get:(e,n,s)=>d_(e,n)||t.get(e,n,s),has:(e,n)=>!!d_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(s4(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function s4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const zh="@firebase/app",f_="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i=new Tp("@firebase/app"),r4="@firebase/app-compat",a4="@firebase/analytics-compat",l4="@firebase/analytics",u4="@firebase/app-check-compat",c4="@firebase/app-check",d4="@firebase/auth",f4="@firebase/auth-compat",h4="@firebase/database",p4="@firebase/data-connect",m4="@firebase/database-compat",g4="@firebase/functions",y4="@firebase/functions-compat",v4="@firebase/installations",_4="@firebase/installations-compat",E4="@firebase/messaging",T4="@firebase/messaging-compat",S4="@firebase/performance",A4="@firebase/performance-compat",C4="@firebase/remote-config",w4="@firebase/remote-config-compat",x4="@firebase/storage",b4="@firebase/storage-compat",R4="@firebase/firestore",I4="@firebase/ai",N4="@firebase/firestore-compat",M4="firebase",D4="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qh="[DEFAULT]",k4={[zh]:"fire-core",[r4]:"fire-core-compat",[l4]:"fire-analytics",[a4]:"fire-analytics-compat",[c4]:"fire-app-check",[u4]:"fire-app-check-compat",[d4]:"fire-auth",[f4]:"fire-auth-compat",[h4]:"fire-rtdb",[p4]:"fire-data-connect",[m4]:"fire-rtdb-compat",[g4]:"fire-fn",[y4]:"fire-fn-compat",[v4]:"fire-iid",[_4]:"fire-iid-compat",[E4]:"fire-fcm",[T4]:"fire-fcm-compat",[S4]:"fire-perf",[A4]:"fire-perf-compat",[C4]:"fire-rc",[w4]:"fire-rc-compat",[x4]:"fire-gcs",[b4]:"fire-gcs-compat",[R4]:"fire-fst",[N4]:"fire-fst-compat",[I4]:"fire-vertex","fire-js":"fire-js",[M4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pc=new Map,P4=new Map,Fh=new Map;function h_(t,e){try{t.container.addComponent(e)}catch(n){$i.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Gr(t){const e=t.name;if(Fh.has(e))return $i.debug(`There were multiple attempts to register component ${e}.`),!1;Fh.set(e,t);for(const n of Pc.values())h_(n,t);for(const n of P4.values())h_(n,t);return!0}function Ap(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function wn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ho=new Al("app","Firebase",U4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ms("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ho.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr=D4;function CT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:qh,automaticDataCollectionEnabled:!0,...e},r=s.name;if(typeof r!="string"||!r)throw Ho.create("bad-app-name",{appName:String(r)});if(n||(n=vT()),!n)throw Ho.create("no-options");const l=Pc.get(r);if(l){if(Ns(n,l.options)&&Ns(s,l.config))return l;throw Ho.create("duplicate-app",{appName:r})}const c=new zk(r);for(const p of Fh.values())c.addComponent(p);const g=new L4(n,s,c);return Pc.set(r,g),g}function wT(t=qh){const e=Pc.get(t);if(!e&&t===qh&&vT())return CT();if(!e)throw Ho.create("no-app",{appName:t});return e}function Go(t,e,n){let s=k4[t]??t;n&&(s+=`-${n}`);const r=s.match(/\s|\//),l=e.match(/\s|\//);if(r||l){const c=[`Unable to register library "${s}" with version "${e}":`];r&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$i.warn(c.join(" "));return}Gr(new Ms(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4="firebase-heartbeat-database",V4=1,ml="firebase-heartbeat-store";let yh=null;function xT(){return yh||(yh=t4(O4,V4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ml)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ho.create("idb-open",{originalErrorMessage:t.message})})),yh}async function H4(t){try{const n=(await xT()).transaction(ml),s=await n.objectStore(ml).get(bT(t));return await n.done,s}catch(e){if(e instanceof Wi)$i.warn(e.message);else{const n=Ho.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$i.warn(n.message)}}}async function p_(t,e){try{const s=(await xT()).transaction(ml,"readwrite");await s.objectStore(ml).put(e,bT(t)),await s.done}catch(n){if(n instanceof Wi)$i.warn(n.message);else{const s=Ho.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});$i.warn(s.message)}}}function bT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G4=1024,B4=30;class z4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new F4(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=m_();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:r}),this._heartbeatsCache.heartbeats.length>B4){const c=Y4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){$i.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=m_(),{heartbeatsToSend:s,unsentEntries:r}=q4(this._heartbeatsCache.heartbeats),l=kc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return $i.warn(n),""}}}function m_(){return new Date().toISOString().substring(0,10)}function q4(t,e=G4){const n=[];let s=t.slice();for(const r of t){const l=n.find(c=>c.agent===r.agent);if(l){if(l.dates.push(r.date),g_(n)>e){l.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),g_(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class F4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Nk()?Mk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await H4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return p_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return p_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function g_(t){return kc(JSON.stringify({version:2,heartbeats:t})).length}function Y4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J4(t){Gr(new Ms("platform-logger",e=>new o4(e),"PRIVATE")),Gr(new Ms("heartbeat",e=>new z4(e),"PRIVATE")),Go(zh,f_,t),Go(zh,f_,"esm2020"),Go("fire-js","")}J4("");var $4="firebase",K4="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Go($4,K4,"app");function RT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const X4=RT,IT=new Al("auth","Firebase",RT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc=new Tp("@firebase/auth");function Q4(t,...e){Uc.logLevel<=Ye.WARN&&Uc.warn(`Auth (${Kr}): ${t}`,...e)}function Tc(t,...e){Uc.logLevel<=Ye.ERROR&&Uc.error(`Auth (${Kr}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(t,...e){throw Cp(t,...e)}function vi(t,...e){return Cp(t,...e)}function NT(t,e,n){const s={...X4(),[e]:n};return new Al("auth","Firebase",s).create(e,{appName:t.name})}function Fi(t){return NT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Cp(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return IT.create(t,...e)}function _e(t,e,...n){if(!t)throw Cp(e,...n)}function Bi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Tc(e),new Error(e)}function Ki(t,e){t||Bi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yh(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function W4(){return y_()==="http:"||y_()==="https:"}function y_(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(W4()||bk()||"connection"in navigator)?navigator.onLine:!0}function j4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ki(n>e,"Short delay should be less than long delay!"),this.isMobile=wk()||Rk()}get(){return Z4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(t,e){Ki(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Bi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Bi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Bi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],nP=new wl(3e4,6e4);function Yo(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Jo(t,e,n,s,r={}){return DT(t,r,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const g=Cl({key:t.config.apiKey,...c}).slice(1),p=await t._getAdditionalHeaders();p["Content-Type"]="application/json",t.languageCode&&(p["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:p,...l};return xk()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&Sl(t.emulatorConfig.host)&&(f.credentials="include"),MT.fetch()(await kT(t,t.config.apiHost,n,g),f)})}async function DT(t,e,n){t._canInitEmulator=!1;const s={...eP,...e};try{const r=new oP(t),l=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw pc(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const g=l.ok?c.errorMessage:c.error.message,[p,f]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw pc(t,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw pc(t,"email-already-in-use",c);if(p==="USER_DISABLED")throw pc(t,"user-disabled",c);const v=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw NT(t,v,f);Jn(t,v)}}catch(r){if(r instanceof Wi)throw r;Jn(t,"network-request-failed",{message:String(r)})}}async function xl(t,e,n,s,r={}){const l=await Jo(t,e,n,s,r);return"mfaPendingCredential"in l&&Jn(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function kT(t,e,n,s){const r=`${e}${n}?${s}`,l=t,c=l.config.emulator?wp(t.config,r):`${t.config.apiScheme}://${r}`;return tP.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function iP(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class oP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(vi(this.auth,"network-request-failed")),nP.get())})}}function pc(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const r=vi(t,e,s);return r.customData._tokenResponse=n,r}function v_(t){return t!==void 0&&t.enterprise!==void 0}class sP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return iP(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function rP(t,e){return Jo(t,"GET","/v2/recaptchaConfig",Yo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aP(t,e){return Jo(t,"POST","/v1/accounts:delete",e)}async function Lc(t,e){return Jo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function lP(t,e=!1){const n=Zi(t),s=await n.getIdToken(e),r=xp(s);_e(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const l=typeof r.firebase=="object"?r.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:r,token:s,authTime:cl(vh(r.auth_time)),issuedAtTime:cl(vh(r.iat)),expirationTime:cl(vh(r.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function vh(t){return Number(t)*1e3}function xp(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Tc("JWT malformed, contained fewer than 3 sections"),null;try{const r=gT(n);return r?JSON.parse(r):(Tc("Failed to decode base64 JWT payload"),null)}catch(r){return Tc("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function __(t){const e=xp(t);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gl(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Wi&&uP(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function uP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=cl(this.lastLoginAt),this.creationTime=cl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oc(t){var E;const e=t.auth,n=await t.getIdToken(),s=await gl(t,Lc(e,{idToken:n}));_e(s==null?void 0:s.users.length,e,"internal-error");const r=s.users[0];t._notifyReloadListener(r);const l=(E=r.providerUserInfo)!=null&&E.length?PT(r.providerUserInfo):[],c=fP(t.providerData,l),g=t.isAnonymous,p=!(t.email&&r.passwordHash)&&!(c!=null&&c.length),f=g?p:!1,v={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:c,metadata:new Jh(r.createdAt,r.lastLoginAt),isAnonymous:f};Object.assign(t,v)}async function dP(t){const e=Zi(t);await Oc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function fP(t,e){return[...t.filter(s=>!e.some(r=>r.providerId===s.providerId)),...e]}function PT(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hP(t,e){const n=await DT(t,{},async()=>{const s=Cl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:l}=t.config,c=await kT(t,r,"/v1/token",`key=${l}`),g=await t._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:g,body:s};return t.emulatorConfig&&Sl(t.emulatorConfig.host)&&(p.credentials="include"),MT.fetch()(c,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function pP(t,e){return Jo(t,"POST","/v2/accounts:revokeToken",Yo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):__(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const n=__(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:r,expiresIn:l}=await hP(e,n);this.updateTokensAndExpiration(s,r,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:r,expirationTime:l}=n,c=new Lr;return s&&(_e(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),r&&(_e(typeof r=="string","internal-error",{appName:e}),c.accessToken=r),l&&(_e(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Lr,this.toJSON())}_performRefresh(){return Bi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ko(t,e){_e(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class zn{constructor({uid:e,auth:n,stsTokenManager:s,...r}){this.providerId="firebase",this.proactiveRefresh=new cP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Jh(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await gl(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return lP(this,e)}reload(){return dP(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new zn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Oc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wn(this.auth.app))return Promise.reject(Fi(this.auth));const e=await this.getIdToken();return await gl(this,aP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,r=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,g=n.tenantId??void 0,p=n._redirectEventId??void 0,f=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:E,emailVerified:T,isAnonymous:x,providerData:M,stsTokenManager:U}=n;_e(E&&U,e,"internal-error");const k=Lr.fromJSON(this.name,U);_e(typeof E=="string",e,"internal-error"),ko(s,e.name),ko(r,e.name),_e(typeof T=="boolean",e,"internal-error"),_e(typeof x=="boolean",e,"internal-error"),ko(l,e.name),ko(c,e.name),ko(g,e.name),ko(p,e.name),ko(f,e.name),ko(v,e.name);const F=new zn({uid:E,auth:e,email:r,emailVerified:T,displayName:s,isAnonymous:x,photoURL:c,phoneNumber:l,tenantId:g,stsTokenManager:k,createdAt:f,lastLoginAt:v});return M&&Array.isArray(M)&&(F.providerData=M.map(Y=>({...Y}))),p&&(F._redirectEventId=p),F}static async _fromIdTokenResponse(e,n,s=!1){const r=new Lr;r.updateFromServerResponse(n);const l=new zn({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:s});return await Oc(l),l}static async _fromGetAccountInfoResponse(e,n,s){const r=n.users[0];_e(r.localId!==void 0,"internal-error");const l=r.providerUserInfo!==void 0?PT(r.providerUserInfo):[],c=!(r.email&&r.passwordHash)&&!(l!=null&&l.length),g=new Lr;g.updateFromIdToken(s);const p=new zn({uid:r.localId,auth:e,stsTokenManager:g,isAnonymous:c}),f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:l,metadata:new Jh(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,f),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_=new Map;function zi(t){Ki(t instanceof Function,"Expected a class definition");let e=E_.get(t);return e?(Ki(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,E_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}UT.type="NONE";const T_=UT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(t,e,n){return`firebase:${t}:${e}:${n}`}class Or{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:r,name:l}=this.auth;this.fullUserKey=Sc(this.userKey,r.apiKey,l),this.fullPersistenceKey=Sc("persistence",r.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Lc(this.auth,{idToken:e}).catch(()=>{});return n?zn._fromGetAccountInfoResponse(this.auth,n,e):null}return zn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Or(zi(T_),e,s);const r=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let l=r[0]||zi(T_);const c=Sc(s,e.config.apiKey,e.name);let g=null;for(const f of n)try{const v=await f._get(c);if(v){let E;if(typeof v=="string"){const T=await Lc(e,{idToken:v}).catch(()=>{});if(!T)break;E=await zn._fromGetAccountInfoResponse(e,T,v)}else E=zn._fromJSON(e,v);f!==l&&(g=E),l=f;break}}catch{}const p=r.filter(f=>f._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Or(l,e,s):(l=p[0],g&&await l._set(c,g.toJSON()),await Promise.all(n.map(async f=>{if(f!==l)try{await f._remove(c)}catch{}})),new Or(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(HT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(LT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(BT(e))return"Blackberry";if(zT(e))return"Webos";if(OT(e))return"Safari";if((e.includes("chrome/")||VT(e))&&!e.includes("edge/"))return"Chrome";if(GT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function LT(t=Kt()){return/firefox\//i.test(t)}function OT(t=Kt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function VT(t=Kt()){return/crios\//i.test(t)}function HT(t=Kt()){return/iemobile/i.test(t)}function GT(t=Kt()){return/android/i.test(t)}function BT(t=Kt()){return/blackberry/i.test(t)}function zT(t=Kt()){return/webos/i.test(t)}function bp(t=Kt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function mP(t=Kt()){var e;return bp(t)&&!!((e=window.navigator)!=null&&e.standalone)}function gP(){return Ik()&&document.documentMode===10}function qT(t=Kt()){return bp(t)||GT(t)||zT(t)||BT(t)||/windows phone/i.test(t)||HT(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(t,e=[]){let n;switch(t){case"Browser":n=S_(Kt());break;case"Worker":n=`${S_(Kt())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Kr}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((c,g)=>{try{const p=e(l);c(p)}catch(p){g(p)}});s.onAbort=n,this.queue.push(s);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vP(t,e={}){return Jo(t,"GET","/v2/passwordPolicy",Yo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P=6;class EP{constructor(e){var s;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??_P,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let r=0;r<e.length;r++)s=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,r,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(e,n,s,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new A_(this),this.idTokenSubscription=new A_(this),this.beforeStateQueue=new yP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=IT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=zi(n)),this._initializationPromise=this.queue(async()=>{var s,r,l;if(!this._deleted&&(this.persistenceManager=await Or.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((r=this._popupRedirectResolver)!=null&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)==null?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Lc(this,{idToken:e}),s=await zn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var l;if(wn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(g,g))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(l=this.redirectUser)==null?void 0:l._redirectEventId,g=s==null?void 0:s._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===g)&&(p!=null&&p.user)&&(s=p.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Oc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=j4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(wn(this.app))return Promise.reject(Fi(this));const n=e?Zi(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return wn(this.app)?Promise.reject(Fi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return wn(this.app)?Promise.reject(Fi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await vP(this),n=new EP(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Al("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await pP(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&zi(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=await Or.create(this,[zi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,r){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(g,this,"internal-error"),g.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,r);return()=>{c=!0,p()}}else{const p=e.addObserver(n);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=FT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var r;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((r=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var n;if(wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&Q4(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Os(t){return Zi(t)}class A_{constructor(e){this.auth=e,this.observer=null,this.addObserver=Lk(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function SP(t){Zc=t}function YT(t){return Zc.loadJS(t)}function AP(){return Zc.recaptchaEnterpriseScript}function CP(){return Zc.gapiScript}function wP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class xP{constructor(){this.enterprise=new bP}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class bP{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const RP="recaptcha-enterprise",JT="NO_RECAPTCHA";class IP{constructor(e){this.type=RP,this.auth=Os(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,g)=>{rP(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const f=new sP(p);return l.tenantId==null?l._agentRecaptchaConfig=f:l._tenantRecaptchaConfigs[l.tenantId]=f,c(f.siteKey)}}).catch(p=>{g(p)})})}function r(l,c,g){const p=window.grecaptcha;v_(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(f=>{c(f)}).catch(()=>{c(JT)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new xP().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(g=>{if(!n&&v_(window.grecaptcha))r(g,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=AP();p.length!==0&&(p+=g),YT(p).then(()=>{r(g,l,c)}).catch(f=>{c(f)})}}).catch(g=>{c(g)})})}}async function C_(t,e,n,s=!1,r=!1){const l=new IP(t);let c;if(r)c=JT;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const g={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const p=g.phoneEnrollmentInfo.phoneNumber,f=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const p=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return s?Object.assign(g,{captchaResp:c}):Object.assign(g,{captchaResponse:c}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function $h(t,e,n,s,r){var l;if((l=t._getRecaptchaConfig())!=null&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await C_(t,e,n,n==="getOobCode");return s(t,c)}else return s(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const g=await C_(t,e,n,n==="getOobCode");return s(t,g)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NP(t,e){const n=Ap(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),l=n.getOptions();if(Ns(l,e??{}))return r;Jn(r,"already-initialized")}return n.initialize({options:e})}function MP(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(zi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function DP(t,e,n){const s=Os(t);_e(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const r=!1,l=$T(e),{host:c,port:g}=kP(e),p=g===null?"":`:${g}`,f={url:`${l}//${c}${p}/`},v=Object.freeze({host:c,port:g,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!s._canInitEmulator){_e(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),_e(Ns(f,s.config.emulator)&&Ns(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=f,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,Sl(c)?(ET(`${l}//${c}${p}`),TT("Auth",!0)):PP()}function $T(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function kP(t){const e=$T(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(s);if(r){const l=r[1];return{host:l,port:w_(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:w_(c)}}}function w_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function PP(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Bi("not implemented")}_getIdTokenResponse(e){return Bi("not implemented")}_linkToIdToken(e,n){return Bi("not implemented")}_getReauthenticationResolver(e){return Bi("not implemented")}}async function UP(t,e){return Jo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LP(t,e){return xl(t,"POST","/v1/accounts:signInWithPassword",Yo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OP(t,e){return xl(t,"POST","/v1/accounts:signInWithEmailLink",Yo(t,e))}async function VP(t,e){return xl(t,"POST","/v1/accounts:signInWithEmailLink",Yo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl extends Rp{constructor(e,n,s,r=null){super("password",s),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new yl(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new yl(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $h(e,n,"signInWithPassword",LP);case"emailLink":return OP(e,{email:this._email,oobCode:this._password});default:Jn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $h(e,s,"signUpPassword",UP);case"emailLink":return VP(e,{idToken:n,email:this._email,oobCode:this._password});default:Jn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vr(t,e){return xl(t,"POST","/v1/accounts:signInWithIdp",Yo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP="http://localhost";class Ds extends Rp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ds(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Jn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:r,...l}=n;if(!s||!r)return null;const c=new Ds(s,r);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Vr(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Vr(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Vr(e,n)}buildRequest(){const e={requestUri:HP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Cl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GP(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function BP(t){const e=al(ll(t)).link,n=e?al(ll(e)).deep_link_id:null,s=al(ll(t)).deep_link_id;return(s?al(ll(s)).link:null)||s||n||e||t}class Ip{constructor(e){const n=al(ll(e)),s=n.apiKey??null,r=n.oobCode??null,l=GP(n.mode??null);_e(s&&r&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=r,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=BP(e);try{return new Ip(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(){this.providerId=Xr.PROVIDER_ID}static credential(e,n){return yl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Ip.parseLink(n);return _e(s,"argument-error"),yl._fromEmailAndCode(e,s.code,s.tenantId)}}Xr.PROVIDER_ID="password";Xr.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Xr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl extends KT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po extends bl{constructor(){super("facebook.com")}static credential(e){return Ds._fromParams({providerId:Po.PROVIDER_ID,signInMethod:Po.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Po.credentialFromTaggedObject(e)}static credentialFromError(e){return Po.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Po.credential(e.oauthAccessToken)}catch{return null}}}Po.FACEBOOK_SIGN_IN_METHOD="facebook.com";Po.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo extends bl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ds._fromParams({providerId:Uo.PROVIDER_ID,signInMethod:Uo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Uo.credentialFromTaggedObject(e)}static credentialFromError(e){return Uo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Uo.credential(n,s)}catch{return null}}}Uo.GOOGLE_SIGN_IN_METHOD="google.com";Uo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo extends bl{constructor(){super("github.com")}static credential(e){return Ds._fromParams({providerId:Lo.PROVIDER_ID,signInMethod:Lo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lo.credentialFromTaggedObject(e)}static credentialFromError(e){return Lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Lo.credential(e.oauthAccessToken)}catch{return null}}}Lo.GITHUB_SIGN_IN_METHOD="github.com";Lo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo extends bl{constructor(){super("twitter.com")}static credential(e,n){return Ds._fromParams({providerId:Oo.PROVIDER_ID,signInMethod:Oo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Oo.credentialFromTaggedObject(e)}static credentialFromError(e){return Oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Oo.credential(n,s)}catch{return null}}}Oo.TWITTER_SIGN_IN_METHOD="twitter.com";Oo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zP(t,e){return xl(t,"POST","/v1/accounts:signUp",Yo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,r=!1){const l=await zn._fromIdTokenResponse(e,s,r),c=x_(s);return new ks({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const r=x_(s);return new ks({user:e,providerId:r,_tokenResponse:s,operationType:n})}}function x_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc extends Wi{constructor(e,n,s,r){super(n.code,n.message),this.operationType=s,this.user=r,Object.setPrototypeOf(this,Vc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,r){return new Vc(e,n,s,r)}}function XT(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Vc._fromErrorAndOperation(t,l,e,s):l})}async function qP(t,e,n=!1){const s=await gl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ks._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FP(t,e,n=!1){const{auth:s}=t;if(wn(s.app))return Promise.reject(Fi(s));const r="reauthenticate";try{const l=await gl(t,XT(s,r,e,t),n);_e(l.idToken,s,"internal-error");const c=xp(l.idToken);_e(c,s,"internal-error");const{sub:g}=c;return _e(t.uid===g,s,"user-mismatch"),ks._forOperation(t,r,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Jn(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QT(t,e,n=!1){if(wn(t.app))return Promise.reject(Fi(t));const s="signIn",r=await XT(t,s,e),l=await ks._fromIdTokenResponse(t,s,r);return n||await t._updateCurrentUser(l.user),l}async function YP(t,e){return QT(Os(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WT(t){const e=Os(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function JP(t,e,n){if(wn(t.app))return Promise.reject(Fi(t));const s=Os(t),c=await $h(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",zP).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&WT(t),p}),g=await ks._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(g.user),g}function $P(t,e,n){return wn(t.app)?Promise.reject(Fi(t)):YP(Zi(t),Xr.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&WT(t),s})}function KP(t,e,n,s){return Zi(t).onIdTokenChanged(e,n,s)}function XP(t,e,n){return Zi(t).beforeAuthStateChanged(e,n)}function QP(t,e,n,s){return Zi(t).onAuthStateChanged(e,n,s)}const Hc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Hc,"1"),this.storage.removeItem(Hc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP=1e3,ZP=10;class jT extends ZT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),r=this.localCache[n];s!==r&&e(n,r,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,g,p)=>{this.notifyListeners(c,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);gP()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,ZP):r()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},WP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}jT.type="LOCAL";const jP=jT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS extends ZT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}eS.type="SESSION";const tS=eS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const s=new jc(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:r,data:l}=n.data,c=this.handlersMap[r];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:r});const g=Array.from(c).map(async f=>f(n.origin,l)),p=await eU(g);n.ports[0].postMessage({status:"done",eventId:s,eventType:r,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}jc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let l,c;return new Promise((g,p)=>{const f=Np("",20);r.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},s);c={messageChannel:r,onMessage(E){const T=E;if(T.data.eventId===f)switch(T.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),g(T.data.response);break;default:clearTimeout(v),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),r.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[r.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(){return window}function nU(t){_i().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nS(){return typeof _i().WorkerGlobalScope<"u"&&typeof _i().importScripts=="function"}async function iU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function oU(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function sU(){return nS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS="firebaseLocalStorageDb",rU=1,Gc="firebaseLocalStorage",oS="fbase_key";class Rl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ed(t,e){return t.transaction([Gc],e?"readwrite":"readonly").objectStore(Gc)}function aU(){const t=indexedDB.deleteDatabase(iS);return new Rl(t).toPromise()}function Kh(){const t=indexedDB.open(iS,rU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Gc,{keyPath:oS})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Gc)?e(s):(s.close(),await aU(),e(await Kh()))})})}async function b_(t,e,n){const s=ed(t,!0).put({[oS]:e,value:n});return new Rl(s).toPromise()}async function lU(t,e){const n=ed(t,!1).get(e),s=await new Rl(n).toPromise();return s===void 0?null:s.value}function R_(t,e){const n=ed(t,!0).delete(e);return new Rl(n).toPromise()}const uU=800,cU=3;class sS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Kh(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>cU)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jc._getInstance(sU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await iU(),!this.activeServiceWorker)return;this.sender=new tU(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||oU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Kh();return await b_(e,Hc,"1"),await R_(e,Hc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>b_(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>lU(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>R_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const l=ed(r,!1).getAll();return new Rl(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:r,value:l}of e)s.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(l)&&(this.notifyListeners(r,l),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!s.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sS.type="LOCAL";const dU=sS;new wl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fU(t,e){return e?zi(e):(_e(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp extends Rp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vr(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Vr(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Vr(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function hU(t){return QT(t.auth,new Mp(t),t.bypassAuthState)}function pU(t){const{auth:e,user:n}=t;return _e(n,e,"internal-error"),FP(n,new Mp(t),t.bypassAuthState)}async function mU(t){const{auth:e,user:n}=t;return _e(n,e,"internal-error"),qP(n,new Mp(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e,n,s,r,l=!1){this.auth=e,this.resolver=s,this.user=r,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:r,tenantId:l,error:c,type:g}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hU;case"linkViaPopup":case"linkViaRedirect":return mU;case"reauthViaPopup":case"reauthViaRedirect":return pU;default:Jn(this.auth,"internal-error")}}resolve(e){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gU=new wl(2e3,1e4);class Dr extends rS{constructor(e,n,s,r,l){super(e,n,r,l),this.provider=s,this.authWindow=null,this.pollId=null,Dr.currentPopupAction&&Dr.currentPopupAction.cancel(),Dr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){Ki(this.filter.length===1,"Popup operations only handle one event");const e=Np();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Dr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,gU.get())};e()}}Dr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yU="pendingRedirect",Ac=new Map;class vU extends rS{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Ac.get(this.auth._key());if(!e){try{const s=await _U(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Ac.set(this.auth._key(),e)}return this.bypassAuthState||Ac.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _U(t,e){const n=SU(e),s=TU(t);if(!await s._isAvailable())return!1;const r=await s._get(n)==="true";return await s._remove(n),r}function EU(t,e){Ac.set(t._key(),e)}function TU(t){return zi(t._redirectPersistence)}function SU(t){return Sc(yU,t.config.apiKey,t.name)}async function AU(t,e,n=!1){if(wn(t.app))return Promise.reject(Fi(t));const s=Os(t),r=fU(s,e),c=await new vU(s,r,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CU=600*1e3;class wU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!xU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!aS(e)){const r=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(vi(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=CU&&this.cachedEventUids.clear(),this.cachedEventUids.has(I_(e))}saveEventToCache(e){this.cachedEventUids.add(I_(e)),this.lastProcessedEventTime=Date.now()}}function I_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function aS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function xU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bU(t,e={}){return Jo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,IU=/^https?/;async function NU(t){if(t.config.emulator)return;const{authorizedDomains:e}=await bU(t);for(const n of e)try{if(MU(n))return}catch{}Jn(t,"unauthorized-domain")}function MU(t){const e=Yh(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!IU.test(n))return!1;if(RU.test(t))return s===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DU=new wl(3e4,6e4);function N_(){const t=_i().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function kU(t){return new Promise((e,n)=>{var r,l,c;function s(){N_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{N_(),n(vi(t,"network-request-failed"))},timeout:DU.get()})}if((l=(r=_i().gapi)==null?void 0:r.iframes)!=null&&l.Iframe)e(gapi.iframes.getContext());else if((c=_i().gapi)!=null&&c.load)s();else{const g=wP("iframefcb");return _i()[g]=()=>{gapi.load?s():n(vi(t,"network-request-failed"))},YT(`${CP()}?onload=${g}`).catch(p=>n(p))}}).catch(e=>{throw Cc=null,e})}let Cc=null;function PU(t){return Cc=Cc||kU(t),Cc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UU=new wl(5e3,15e3),LU="__/auth/iframe",OU="emulator/auth/iframe",VU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},HU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function GU(t){const e=t.config;_e(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?wp(e,OU):`https://${t.config.authDomain}/${LU}`,s={apiKey:e.apiKey,appName:t.name,v:Kr},r=HU.get(t.config.apiHost);r&&(s.eid=r);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${Cl(s).slice(1)}`}async function BU(t){const e=await PU(t),n=_i().gapi;return _e(n,t,"internal-error"),e.open({where:document.body,url:GU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VU,dontclear:!0},s=>new Promise(async(r,l)=>{await s.restyle({setHideOnLeave:!1});const c=vi(t,"network-request-failed"),g=_i().setTimeout(()=>{l(c)},UU.get());function p(){_i().clearTimeout(g),r(s)}s.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qU=500,FU=600,YU="_blank",JU="http://localhost";class M_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $U(t,e,n,s=qU,r=FU){const l=Math.max((window.screen.availHeight-r)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const p={...zU,width:s.toString(),height:r.toString(),top:l,left:c},f=Kt().toLowerCase();n&&(g=VT(f)?YU:n),LT(f)&&(e=e||JU,p.scrollbars="yes");const v=Object.entries(p).reduce((T,[x,M])=>`${T}${x}=${M},`,"");if(mP(f)&&g!=="_self")return KU(e||"",g),new M_(null);const E=window.open(e||"",g,v);_e(E,t,"popup-blocked");try{E.focus()}catch{}return new M_(E)}function KU(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XU="__/auth/handler",QU="emulator/auth/handler",WU=encodeURIComponent("fac");async function D_(t,e,n,s,r,l){_e(t.config.authDomain,t,"auth-domain-config-required"),_e(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Kr,eventId:r};if(e instanceof KT){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",Uk(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,E]of Object.entries({}))c[v]=E}if(e instanceof bl){const v=e.getScopes().filter(E=>E!=="");v.length>0&&(c.scopes=v.join(","))}t.tenantId&&(c.tid=t.tenantId);const g=c;for(const v of Object.keys(g))g[v]===void 0&&delete g[v];const p=await t._getAppCheckToken(),f=p?`#${WU}=${encodeURIComponent(p)}`:"";return`${ZU(t)}?${Cl(g).slice(1)}${f}`}function ZU({config:t}){return t.emulator?wp(t,QU):`https://${t.authDomain}/${XU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h="webStorageSupport";class jU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tS,this._completeRedirectFn=AU,this._overrideRedirectResult=EU}async _openPopup(e,n,s,r){var c;Ki((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const l=await D_(e,n,s,Yh(),r);return $U(e,l,Np())}async _openRedirect(e,n,s,r){await this._originValidation(e);const l=await D_(e,n,s,Yh(),r);return nU(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:l}=this.eventManagers[n];return r?Promise.resolve(r):(Ki(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await BU(e),s=new wU(e);return n.register("authEvent",r=>(_e(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:s.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_h,{type:_h},r=>{var c;const l=(c=r==null?void 0:r[0])==null?void 0:c[_h];l!==void 0&&n(!!l),Jn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=NU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return qT()||OT()||bp()}}const e3=jU;var k_="@firebase/auth",P_="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function i3(t){Gr(new Ms("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:g}=s.options;_e(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:c,authDomain:g,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:FT(t)},f=new TP(s,r,l,p);return MP(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Gr(new Ms("auth-internal",e=>{const n=Os(e.getProvider("auth").getImmediate());return(s=>new t3(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Go(k_,P_,n3(t)),Go(k_,P_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3=300,s3=_T("authIdTokenMaxAge")||o3;let U_=null;const r3=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>s3)return;const r=n==null?void 0:n.token;U_!==r&&(U_=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function a3(t=wT()){const e=Ap(t,"auth");if(e.isInitialized())return e.getImmediate();const n=NP(t,{popupRedirectResolver:e3,persistence:[dU,jP,tS]}),s=_T("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=r3(l.toString());XP(n,c,()=>c(n.currentUser)),KP(n,g=>c(g))}}const r=yT("auth");return r&&DP(n,`http://${r}`),n}function l3(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}SP({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=r=>{const l=vi("internal-error");l.customData=r,n(l)},s.type="text/javascript",s.charset="UTF-8",l3().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});i3("Browser");var L_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Dp;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,N){function I(){}I.prototype=N.prototype,D.F=N.prototype,D.prototype=new I,D.prototype.constructor=D,D.D=function(O,L,z){for(var P=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)P[Ae-2]=arguments[Ae];return N.prototype[L].apply(O,P)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(D,N,I){I||(I=0);const O=Array(16);if(typeof N=="string")for(var L=0;L<16;++L)O[L]=N.charCodeAt(I++)|N.charCodeAt(I++)<<8|N.charCodeAt(I++)<<16|N.charCodeAt(I++)<<24;else for(L=0;L<16;++L)O[L]=N[I++]|N[I++]<<8|N[I++]<<16|N[I++]<<24;N=D.g[0],I=D.g[1],L=D.g[2];let z=D.g[3],P;P=N+(z^I&(L^z))+O[0]+3614090360&4294967295,N=I+(P<<7&4294967295|P>>>25),P=z+(L^N&(I^L))+O[1]+3905402710&4294967295,z=N+(P<<12&4294967295|P>>>20),P=L+(I^z&(N^I))+O[2]+606105819&4294967295,L=z+(P<<17&4294967295|P>>>15),P=I+(N^L&(z^N))+O[3]+3250441966&4294967295,I=L+(P<<22&4294967295|P>>>10),P=N+(z^I&(L^z))+O[4]+4118548399&4294967295,N=I+(P<<7&4294967295|P>>>25),P=z+(L^N&(I^L))+O[5]+1200080426&4294967295,z=N+(P<<12&4294967295|P>>>20),P=L+(I^z&(N^I))+O[6]+2821735955&4294967295,L=z+(P<<17&4294967295|P>>>15),P=I+(N^L&(z^N))+O[7]+4249261313&4294967295,I=L+(P<<22&4294967295|P>>>10),P=N+(z^I&(L^z))+O[8]+1770035416&4294967295,N=I+(P<<7&4294967295|P>>>25),P=z+(L^N&(I^L))+O[9]+2336552879&4294967295,z=N+(P<<12&4294967295|P>>>20),P=L+(I^z&(N^I))+O[10]+4294925233&4294967295,L=z+(P<<17&4294967295|P>>>15),P=I+(N^L&(z^N))+O[11]+2304563134&4294967295,I=L+(P<<22&4294967295|P>>>10),P=N+(z^I&(L^z))+O[12]+1804603682&4294967295,N=I+(P<<7&4294967295|P>>>25),P=z+(L^N&(I^L))+O[13]+4254626195&4294967295,z=N+(P<<12&4294967295|P>>>20),P=L+(I^z&(N^I))+O[14]+2792965006&4294967295,L=z+(P<<17&4294967295|P>>>15),P=I+(N^L&(z^N))+O[15]+1236535329&4294967295,I=L+(P<<22&4294967295|P>>>10),P=N+(L^z&(I^L))+O[1]+4129170786&4294967295,N=I+(P<<5&4294967295|P>>>27),P=z+(I^L&(N^I))+O[6]+3225465664&4294967295,z=N+(P<<9&4294967295|P>>>23),P=L+(N^I&(z^N))+O[11]+643717713&4294967295,L=z+(P<<14&4294967295|P>>>18),P=I+(z^N&(L^z))+O[0]+3921069994&4294967295,I=L+(P<<20&4294967295|P>>>12),P=N+(L^z&(I^L))+O[5]+3593408605&4294967295,N=I+(P<<5&4294967295|P>>>27),P=z+(I^L&(N^I))+O[10]+38016083&4294967295,z=N+(P<<9&4294967295|P>>>23),P=L+(N^I&(z^N))+O[15]+3634488961&4294967295,L=z+(P<<14&4294967295|P>>>18),P=I+(z^N&(L^z))+O[4]+3889429448&4294967295,I=L+(P<<20&4294967295|P>>>12),P=N+(L^z&(I^L))+O[9]+568446438&4294967295,N=I+(P<<5&4294967295|P>>>27),P=z+(I^L&(N^I))+O[14]+3275163606&4294967295,z=N+(P<<9&4294967295|P>>>23),P=L+(N^I&(z^N))+O[3]+4107603335&4294967295,L=z+(P<<14&4294967295|P>>>18),P=I+(z^N&(L^z))+O[8]+1163531501&4294967295,I=L+(P<<20&4294967295|P>>>12),P=N+(L^z&(I^L))+O[13]+2850285829&4294967295,N=I+(P<<5&4294967295|P>>>27),P=z+(I^L&(N^I))+O[2]+4243563512&4294967295,z=N+(P<<9&4294967295|P>>>23),P=L+(N^I&(z^N))+O[7]+1735328473&4294967295,L=z+(P<<14&4294967295|P>>>18),P=I+(z^N&(L^z))+O[12]+2368359562&4294967295,I=L+(P<<20&4294967295|P>>>12),P=N+(I^L^z)+O[5]+4294588738&4294967295,N=I+(P<<4&4294967295|P>>>28),P=z+(N^I^L)+O[8]+2272392833&4294967295,z=N+(P<<11&4294967295|P>>>21),P=L+(z^N^I)+O[11]+1839030562&4294967295,L=z+(P<<16&4294967295|P>>>16),P=I+(L^z^N)+O[14]+4259657740&4294967295,I=L+(P<<23&4294967295|P>>>9),P=N+(I^L^z)+O[1]+2763975236&4294967295,N=I+(P<<4&4294967295|P>>>28),P=z+(N^I^L)+O[4]+1272893353&4294967295,z=N+(P<<11&4294967295|P>>>21),P=L+(z^N^I)+O[7]+4139469664&4294967295,L=z+(P<<16&4294967295|P>>>16),P=I+(L^z^N)+O[10]+3200236656&4294967295,I=L+(P<<23&4294967295|P>>>9),P=N+(I^L^z)+O[13]+681279174&4294967295,N=I+(P<<4&4294967295|P>>>28),P=z+(N^I^L)+O[0]+3936430074&4294967295,z=N+(P<<11&4294967295|P>>>21),P=L+(z^N^I)+O[3]+3572445317&4294967295,L=z+(P<<16&4294967295|P>>>16),P=I+(L^z^N)+O[6]+76029189&4294967295,I=L+(P<<23&4294967295|P>>>9),P=N+(I^L^z)+O[9]+3654602809&4294967295,N=I+(P<<4&4294967295|P>>>28),P=z+(N^I^L)+O[12]+3873151461&4294967295,z=N+(P<<11&4294967295|P>>>21),P=L+(z^N^I)+O[15]+530742520&4294967295,L=z+(P<<16&4294967295|P>>>16),P=I+(L^z^N)+O[2]+3299628645&4294967295,I=L+(P<<23&4294967295|P>>>9),P=N+(L^(I|~z))+O[0]+4096336452&4294967295,N=I+(P<<6&4294967295|P>>>26),P=z+(I^(N|~L))+O[7]+1126891415&4294967295,z=N+(P<<10&4294967295|P>>>22),P=L+(N^(z|~I))+O[14]+2878612391&4294967295,L=z+(P<<15&4294967295|P>>>17),P=I+(z^(L|~N))+O[5]+4237533241&4294967295,I=L+(P<<21&4294967295|P>>>11),P=N+(L^(I|~z))+O[12]+1700485571&4294967295,N=I+(P<<6&4294967295|P>>>26),P=z+(I^(N|~L))+O[3]+2399980690&4294967295,z=N+(P<<10&4294967295|P>>>22),P=L+(N^(z|~I))+O[10]+4293915773&4294967295,L=z+(P<<15&4294967295|P>>>17),P=I+(z^(L|~N))+O[1]+2240044497&4294967295,I=L+(P<<21&4294967295|P>>>11),P=N+(L^(I|~z))+O[8]+1873313359&4294967295,N=I+(P<<6&4294967295|P>>>26),P=z+(I^(N|~L))+O[15]+4264355552&4294967295,z=N+(P<<10&4294967295|P>>>22),P=L+(N^(z|~I))+O[6]+2734768916&4294967295,L=z+(P<<15&4294967295|P>>>17),P=I+(z^(L|~N))+O[13]+1309151649&4294967295,I=L+(P<<21&4294967295|P>>>11),P=N+(L^(I|~z))+O[4]+4149444226&4294967295,N=I+(P<<6&4294967295|P>>>26),P=z+(I^(N|~L))+O[11]+3174756917&4294967295,z=N+(P<<10&4294967295|P>>>22),P=L+(N^(z|~I))+O[2]+718787259&4294967295,L=z+(P<<15&4294967295|P>>>17),P=I+(z^(L|~N))+O[9]+3951481745&4294967295,D.g[0]=D.g[0]+N&4294967295,D.g[1]=D.g[1]+(L+(P<<21&4294967295|P>>>11))&4294967295,D.g[2]=D.g[2]+L&4294967295,D.g[3]=D.g[3]+z&4294967295}s.prototype.v=function(D,N){N===void 0&&(N=D.length);const I=N-this.blockSize,O=this.C;let L=this.h,z=0;for(;z<N;){if(L==0)for(;z<=I;)r(this,D,z),z+=this.blockSize;if(typeof D=="string"){for(;z<N;)if(O[L++]=D.charCodeAt(z++),L==this.blockSize){r(this,O),L=0;break}}else for(;z<N;)if(O[L++]=D[z++],L==this.blockSize){r(this,O),L=0;break}}this.h=L,this.o+=N},s.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var N=1;N<D.length-8;++N)D[N]=0;N=this.o*8;for(var I=D.length-8;I<D.length;++I)D[I]=N&255,N/=256;for(this.v(D),D=Array(16),N=0,I=0;I<4;++I)for(let O=0;O<32;O+=8)D[N++]=this.g[I]>>>O&255;return D};function l(D,N){var I=g;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=N(D)}function c(D,N){this.h=N;const I=[];let O=!0;for(let L=D.length-1;L>=0;L--){const z=D[L]|0;O&&z==N||(I[L]=z,O=!1)}this.g=I}var g={};function p(D){return-128<=D&&D<128?l(D,function(N){return new c([N|0],N<0?-1:0)}):new c([D|0],D<0?-1:0)}function f(D){if(isNaN(D)||!isFinite(D))return E;if(D<0)return k(f(-D));const N=[];let I=1;for(let O=0;D>=I;O++)N[O]=D/I|0,I*=4294967296;return new c(N,0)}function v(D,N){if(D.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(D.charAt(0)=="-")return k(v(D.substring(1),N));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=f(Math.pow(N,8));let O=E;for(let z=0;z<D.length;z+=8){var L=Math.min(8,D.length-z);const P=parseInt(D.substring(z,z+L),N);L<8?(L=f(Math.pow(N,L)),O=O.j(L).add(f(P))):(O=O.j(I),O=O.add(f(P)))}return O}var E=p(0),T=p(1),x=p(16777216);t=c.prototype,t.m=function(){if(U(this))return-k(this).m();let D=0,N=1;for(let I=0;I<this.g.length;I++){const O=this.i(I);D+=(O>=0?O:4294967296+O)*N,N*=4294967296}return D},t.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(M(this))return"0";if(U(this))return"-"+k(this).toString(D);const N=f(Math.pow(D,6));var I=this;let O="";for(;;){const L=oe(I,N).g;I=F(I,L.j(N));let z=((I.g.length>0?I.g[0]:I.h)>>>0).toString(D);if(I=L,M(I))return z+O;for(;z.length<6;)z="0"+z;O=z+O}},t.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function M(D){if(D.h!=0)return!1;for(let N=0;N<D.g.length;N++)if(D.g[N]!=0)return!1;return!0}function U(D){return D.h==-1}t.l=function(D){return D=F(this,D),U(D)?-1:M(D)?0:1};function k(D){const N=D.g.length,I=[];for(let O=0;O<N;O++)I[O]=~D.g[O];return new c(I,~D.h).add(T)}t.abs=function(){return U(this)?k(this):this},t.add=function(D){const N=Math.max(this.g.length,D.g.length),I=[];let O=0;for(let L=0;L<=N;L++){let z=O+(this.i(L)&65535)+(D.i(L)&65535),P=(z>>>16)+(this.i(L)>>>16)+(D.i(L)>>>16);O=P>>>16,z&=65535,P&=65535,I[L]=P<<16|z}return new c(I,I[I.length-1]&-2147483648?-1:0)};function F(D,N){return D.add(k(N))}t.j=function(D){if(M(this)||M(D))return E;if(U(this))return U(D)?k(this).j(k(D)):k(k(this).j(D));if(U(D))return k(this.j(k(D)));if(this.l(x)<0&&D.l(x)<0)return f(this.m()*D.m());const N=this.g.length+D.g.length,I=[];for(var O=0;O<2*N;O++)I[O]=0;for(O=0;O<this.g.length;O++)for(let L=0;L<D.g.length;L++){const z=this.i(O)>>>16,P=this.i(O)&65535,Ae=D.i(L)>>>16,He=D.i(L)&65535;I[2*O+2*L]+=P*He,Y(I,2*O+2*L),I[2*O+2*L+1]+=z*He,Y(I,2*O+2*L+1),I[2*O+2*L+1]+=P*Ae,Y(I,2*O+2*L+1),I[2*O+2*L+2]+=z*Ae,Y(I,2*O+2*L+2)}for(D=0;D<N;D++)I[D]=I[2*D+1]<<16|I[2*D];for(D=N;D<2*N;D++)I[D]=0;return new c(I,0)};function Y(D,N){for(;(D[N]&65535)!=D[N];)D[N+1]+=D[N]>>>16,D[N]&=65535,N++}function B(D,N){this.g=D,this.h=N}function oe(D,N){if(M(N))throw Error("division by zero");if(M(D))return new B(E,E);if(U(D))return N=oe(k(D),N),new B(k(N.g),k(N.h));if(U(N))return N=oe(D,k(N)),new B(k(N.g),N.h);if(D.g.length>30){if(U(D)||U(N))throw Error("slowDivide_ only works with positive integers.");for(var I=T,O=N;O.l(D)<=0;)I=se(I),O=se(O);var L=ae(I,1),z=ae(O,1);for(O=ae(O,2),I=ae(I,2);!M(O);){var P=z.add(O);P.l(D)<=0&&(L=L.add(I),z=P),O=ae(O,1),I=ae(I,1)}return N=F(D,L.j(N)),new B(L,N)}for(L=E;D.l(N)>=0;){for(I=Math.max(1,Math.floor(D.m()/N.m())),O=Math.ceil(Math.log(I)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),z=f(I),P=z.j(N);U(P)||P.l(D)>0;)I-=O,z=f(I),P=z.j(N);M(z)&&(z=T),L=L.add(z),D=F(D,P)}return new B(L,D)}t.B=function(D){return oe(this,D).h},t.and=function(D){const N=Math.max(this.g.length,D.g.length),I=[];for(let O=0;O<N;O++)I[O]=this.i(O)&D.i(O);return new c(I,this.h&D.h)},t.or=function(D){const N=Math.max(this.g.length,D.g.length),I=[];for(let O=0;O<N;O++)I[O]=this.i(O)|D.i(O);return new c(I,this.h|D.h)},t.xor=function(D){const N=Math.max(this.g.length,D.g.length),I=[];for(let O=0;O<N;O++)I[O]=this.i(O)^D.i(O);return new c(I,this.h^D.h)};function se(D){const N=D.g.length+1,I=[];for(let O=0;O<N;O++)I[O]=D.i(O)<<1|D.i(O-1)>>>31;return new c(I,D.h)}function ae(D,N){const I=N>>5;N%=32;const O=D.g.length-I,L=[];for(let z=0;z<O;z++)L[z]=N>0?D.i(z+I)>>>N|D.i(z+I+1)<<32-N:D.i(z+I);return new c(L,D.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=f,c.fromString=v,Dp=c}).apply(typeof L_<"u"?L_:typeof self<"u"?self:typeof window<"u"?window:{});var mc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var t,e=Object.defineProperty;function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof mc=="object"&&mc];for(var S=0;S<m.length;++S){var w=m[S];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var s=n(this);function r(m,S){if(S)e:{var w=s;m=m.split(".");for(var R=0;R<m.length-1;R++){var $=m[R];if(!($ in w))break e;w=w[$]}m=m[m.length-1],R=w[m],S=S(R),S!=R&&S!=null&&e(w,m,{configurable:!0,writable:!0,value:S})}}r("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(m){return m||function(S){var w=[],R;for(R in S)Object.prototype.hasOwnProperty.call(S,R)&&w.push([R,S[R]]);return w}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function g(m){var S=typeof m;return S=="object"&&m!=null||S=="function"}function p(m,S,w){return m.call.apply(m.bind,arguments)}function f(m,S,w){return f=p,f.apply(null,arguments)}function v(m,S){var w=Array.prototype.slice.call(arguments,1);return function(){var R=w.slice();return R.push.apply(R,arguments),m.apply(this,R)}}function E(m,S){function w(){}w.prototype=S.prototype,m.Z=S.prototype,m.prototype=new w,m.prototype.constructor=m,m.Ob=function(R,$,W){for(var le=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)le[Ce-2]=arguments[Ce];return S.prototype[$].apply(R,le)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function x(m){const S=m.length;if(S>0){const w=Array(S);for(let R=0;R<S;R++)w[R]=m[R];return w}return[]}function M(m,S){for(let R=1;R<arguments.length;R++){const $=arguments[R];var w=typeof $;if(w=w!="object"?w:$?Array.isArray($)?"array":w:"null",w=="array"||w=="object"&&typeof $.length=="number"){w=m.length||0;const W=$.length||0;m.length=w+W;for(let le=0;le<W;le++)m[w+le]=$[le]}else m.push($)}}class U{constructor(S,w){this.i=S,this.j=w,this.h=0,this.g=null}get(){let S;return this.h>0?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function k(m){c.setTimeout(()=>{throw m},0)}function F(){var m=D;let S=null;return m.g&&(S=m.g,m.g=m.g.next,m.g||(m.h=null),S.next=null),S}class Y{constructor(){this.h=this.g=null}add(S,w){const R=B.get();R.set(S,w),this.h?this.h.next=R:this.g=R,this.h=R}}var B=new U(()=>new oe,m=>m.reset());class oe{constructor(){this.next=this.g=this.h=null}set(S,w){this.h=S,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let se,ae=!1,D=new Y,N=()=>{const m=Promise.resolve(void 0);se=()=>{m.then(I)}};function I(){for(var m;m=F();){try{m.h.call(m.g)}catch(w){k(w)}var S=B;S.j(m),S.h<100&&(S.h++,m.next=S.g,S.g=m)}ae=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(m,S){this.type=m,this.g=this.target=S,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var m=!1,S=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const w=()=>{};c.addEventListener("test",w,S),c.removeEventListener("test",w,S)}catch{}return m})();function P(m){return/^[\s\xa0]*$/.test(m)}function Ae(m,S){L.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,S)}E(Ae,L),Ae.prototype.init=function(m,S){const w=this.type=m.type,R=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=S,S=m.relatedTarget,S||(w=="mouseover"?S=m.fromElement:w=="mouseout"&&(S=m.toElement)),this.relatedTarget=S,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&Ae.Z.h.call(this)},Ae.prototype.h=function(){Ae.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var He="closure_listenable_"+(Math.random()*1e6|0),j=0;function re(m,S,w,R,$){this.listener=m,this.proxy=null,this.src=S,this.type=w,this.capture=!!R,this.ha=$,this.key=++j,this.da=this.fa=!1}function pe(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Me(m,S,w){for(const R in m)S.call(w,m[R],R,m)}function Ge(m,S){for(const w in m)S.call(void 0,m[w],w,m)}function G(m){const S={};for(const w in m)S[w]=m[w];return S}const ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(m,S){let w,R;for(let $=1;$<arguments.length;$++){R=arguments[$];for(w in R)m[w]=R[w];for(let W=0;W<ne.length;W++)w=ne[W],Object.prototype.hasOwnProperty.call(R,w)&&(m[w]=R[w])}}function de(m){this.src=m,this.g={},this.h=0}de.prototype.add=function(m,S,w,R,$){const W=m.toString();m=this.g[W],m||(m=this.g[W]=[],this.h++);const le=xe(m,S,R,$);return le>-1?(S=m[le],w||(S.fa=!1)):(S=new re(S,this.src,W,!!R,$),S.fa=w,m.push(S)),S};function Ee(m,S){const w=S.type;if(w in m.g){var R=m.g[w],$=Array.prototype.indexOf.call(R,S,void 0),W;(W=$>=0)&&Array.prototype.splice.call(R,$,1),W&&(pe(S),m.g[w].length==0&&(delete m.g[w],m.h--))}}function xe(m,S,w,R){for(let $=0;$<m.length;++$){const W=m[$];if(!W.da&&W.listener==S&&W.capture==!!w&&W.ha==R)return $}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),xt={};function ot(m,S,w,R,$){if(Array.isArray(S)){for(let W=0;W<S.length;W++)ot(m,S[W],w,R,$);return null}return w=Zr(w),m&&m[He]?m.J(S,w,g(R)?!!R.capture:!1,$):$o(m,S,w,!1,R,$)}function $o(m,S,w,R,$,W){if(!S)throw Error("Invalid event type");const le=g($)?!!$.capture:!!$;let Ce=Ko(m);if(Ce||(m[Ue]=Ce=new de(m)),w=Ce.add(S,w,R,le,W),w.proxy)return w;if(R=Vs(),w.proxy=R,R.src=m,R.listener=w,m.addEventListener)z||($=le),$===void 0&&($=!1),m.addEventListener(S.toString(),R,$);else if(m.attachEvent)m.attachEvent(Kn(S.toString()),R);else if(m.addListener&&m.removeListener)m.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Vs(){function m(w){return S.call(m.src,m.listener,w)}const S=Qr;return m}function Hs(m,S,w,R,$){if(Array.isArray(S))for(var W=0;W<S.length;W++)Hs(m,S[W],w,R,$);else R=g(R)?!!R.capture:!!R,w=Zr(w),m&&m[He]?(m=m.i,W=String(S).toString(),W in m.g&&(S=m.g[W],w=xe(S,w,R,$),w>-1&&(pe(S[w]),Array.prototype.splice.call(S,w,1),S.length==0&&(delete m.g[W],m.h--)))):m&&(m=Ko(m))&&(S=m.g[S.toString()],m=-1,S&&(m=xe(S,w,R,$)),(w=m>-1?S[m]:null)&&Gs(w))}function Gs(m){if(typeof m!="number"&&m&&!m.da){var S=m.src;if(S&&S[He])Ee(S.i,m);else{var w=m.type,R=m.proxy;S.removeEventListener?S.removeEventListener(w,R,m.capture):S.detachEvent?S.detachEvent(Kn(w),R):S.addListener&&S.removeListener&&S.removeListener(R),(w=Ko(S))?(Ee(w,m),w.h==0&&(w.src=null,S[Ue]=null)):pe(m)}}}function Kn(m){return m in xt?xt[m]:xt[m]="on"+m}function Qr(m,S){if(m.da)m=!0;else{S=new Ae(S,this);const w=m.listener,R=m.ha||m.src;m.fa&&Gs(m),m=w.call(R,S)}return m}function Ko(m){return m=m[Ue],m instanceof de?m:null}var Wr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Zr(m){return typeof m=="function"?m:(m[Wr]||(m[Wr]=function(S){return m.handleEvent(S)}),m[Wr])}function pt(){O.call(this),this.i=new de(this),this.M=this,this.G=null}E(pt,O),pt.prototype[He]=!0,pt.prototype.removeEventListener=function(m,S,w,R){Hs(this,m,S,w,R)};function bt(m,S){var w,R=m.G;if(R)for(w=[];R;R=R.G)w.push(R);if(m=m.M,R=S.type||S,typeof S=="string")S=new L(S,m);else if(S instanceof L)S.target=S.target||m;else{var $=S;S=new L(R,m),ue(S,$)}$=!0;let W,le;if(w)for(le=w.length-1;le>=0;le--)W=S.g=w[le],$=ji(W,R,!0,S)&&$;if(W=S.g=m,$=ji(W,R,!0,S)&&$,$=ji(W,R,!1,S)&&$,w)for(le=0;le<w.length;le++)W=S.g=w[le],$=ji(W,R,!1,S)&&$}pt.prototype.N=function(){if(pt.Z.N.call(this),this.i){var m=this.i;for(const S in m.g){const w=m.g[S];for(let R=0;R<w.length;R++)pe(w[R]);delete m.g[S],m.h--}}this.G=null},pt.prototype.J=function(m,S,w,R){return this.i.add(String(m),S,!1,w,R)},pt.prototype.K=function(m,S,w,R){return this.i.add(String(m),S,!0,w,R)};function ji(m,S,w,R){if(S=m.i.g[String(S)],!S)return!0;S=S.concat();let $=!0;for(let W=0;W<S.length;++W){const le=S[W];if(le&&!le.da&&le.capture==w){const Ce=le.listener,dt=le.ha||le.src;le.fa&&Ee(m.i,le),$=Ce.call(dt,R)!==!1&&$}}return $&&!R.defaultPrevented}function nd(m,S){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=f(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(S)>2147483647?-1:c.setTimeout(m,S||0)}function Ml(m){m.g=nd(()=>{m.g=null,m.i&&(m.i=!1,Ml(m))},m.l);const S=m.h;m.h=null,m.m.apply(null,S)}class qt extends O{constructor(S,w){super(),this.m=S,this.l=w,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:Ml(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xo(m){O.call(this),this.h=m,this.g={}}E(Xo,O);var jr=[];function ea(m){Me(m.g,function(S,w){this.g.hasOwnProperty(w)&&Gs(S)},m),m.g={}}Xo.prototype.N=function(){Xo.Z.N.call(this),ea(this)},Xo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var eo=c.JSON.stringify,id=c.JSON.parse,Dl=class{stringify(m){return c.JSON.stringify(m,void 0)}parse(m){return c.JSON.parse(m,void 0)}};function kl(){}function od(){}var In={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function kt(){L.call(this,"d")}E(kt,L);function hn(){L.call(this,"c")}E(hn,L);var mt={},Pl=null;function ta(){return Pl=Pl||new pt}mt.Ia="serverreachability";function Ul(m){L.call(this,mt.Ia,m)}E(Ul,L);function Xn(m){const S=ta();bt(S,new Ul(S))}mt.STAT_EVENT="statevent";function Qo(m,S){L.call(this,mt.STAT_EVENT,m),this.stat=S}E(Qo,L);function gt(m){const S=ta();bt(S,new Qo(S,m))}mt.Ja="timingevent";function Qn(m,S){L.call(this,mt.Ja,m),this.size=S}E(Qn,L);function Wn(m,S){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){m()},S)}function Nn(){this.g=!0}Nn.prototype.ua=function(){this.g=!1};function sd(m,S,w,R,$,W){m.info(function(){if(m.g)if(W){var le="",Ce=W.split("&");for(let $e=0;$e<Ce.length;$e++){var dt=Ce[$e].split("=");if(dt.length>1){const at=dt[0];dt=dt[1];const Gt=at.split("_");le=Gt.length>=2&&Gt[1]=="type"?le+(at+"="+dt+"&"):le+(at+"=redacted&")}}}else le=null;else le=W;return"XMLHTTP REQ ("+R+") [attempt "+$+"]: "+S+`
`+w+`
`+le})}function Ll(m,S,w,R,$,W,le){m.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+$+"]: "+S+`
`+w+`
`+W+" "+le})}function Zn(m,S,w,R){m.info(function(){return"XMLHTTP TEXT ("+S+"): "+rd(m,w)+(R?" "+R:"")})}function Wo(m,S){m.info(function(){return"TIMEOUT: "+S})}Nn.prototype.info=function(){};function rd(m,S){if(!m.g)return S;if(!S)return null;try{const W=JSON.parse(S);if(W){for(m=0;m<W.length;m++)if(Array.isArray(W[m])){var w=W[m];if(!(w.length<2)){var R=w[1];if(Array.isArray(R)&&!(R.length<1)){var $=R[0];if($!="noop"&&$!="stop"&&$!="close")for(let le=1;le<R.length;le++)R[le]=""}}}}return eo(W)}catch{return S}}var Bs={NO_ERROR:0,TIMEOUT:8},Ol={},na;function Zo(){}E(Zo,kl),Zo.prototype.g=function(){return new XMLHttpRequest},na=new Zo;function Ti(m){return encodeURIComponent(String(m))}function Vl(m){var S=1;m=m.split(":");const w=[];for(;S>0&&m.length;)w.push(m.shift()),S--;return m.length&&w.push(m.join(":")),w}function Mn(m,S,w,R){this.j=m,this.i=S,this.l=w,this.S=R||1,this.V=new Xo(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Dn}function Dn(){this.i=null,this.g="",this.h=!1}var yt={},It={};function jn(m,S,w){m.M=1,m.A=jo(_t(S)),m.u=w,m.R=!0,zs(m,null)}function zs(m,S){m.F=Date.now(),ei(m),m.B=_t(m.A);var w=m.B,R=m.S;Array.isArray(R)||(R=[String(R)]),Js(w.i,"t",R),m.C=0,w=m.j.L,m.h=new Dn,m.g=jl(m.j,w?S:null,!m.u),m.P>0&&(m.O=new qt(f(m.Y,m,m.g),m.P)),S=m.V,w=m.g,R=m.ba;var $="readystatechange";Array.isArray($)||($&&(jr[0]=$.toString()),$=jr);for(let W=0;W<$.length;W++){const le=ot(w,$[W],R||S.handleEvent,!1,S.h||S);if(!le)break;S.g[le.key]=le}S=m.J?G(m.J):{},m.u?(m.v||(m.v="POST"),S["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,S)):(m.v="GET",m.g.ea(m.B,m.v,null,S)),Xn(),sd(m.i,m.v,m.B,m.l,m.S,m.u)}Mn.prototype.ba=function(m){m=m.target;const S=this.O;S&&Un(m)==3?S.j():this.Y(m)},Mn.prototype.Y=function(m){try{if(m==this.g)e:{const Ce=Un(this.g),dt=this.g.ya(),$e=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||Pt(this.g)))){this.K||Ce!=4||dt==7||(dt==8||$e<=0?Xn(3):Xn(2)),ti(this);var S=this.g.ca();this.X=S;var w=ad(this);if(this.o=S==200,Ll(this.i,this.v,this.B,this.l,this.S,Ce,S),this.o){if(this.U&&!this.L){t:{if(this.g){var R,$=this.g;if((R=$.g?$.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(R)){var W=R;break t}}W=null}if(m=W)Zn(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ni(this,m);else{this.o=!1,this.m=3,gt(12),nn(this),pn(this);break e}}if(this.R){m=!0;let at;for(;!this.K&&this.C<w.length;)if(at=Gl(this,w),at==It){Ce==4&&(this.m=4,gt(14),m=!1),Zn(this.i,this.l,null,"[Incomplete Response]");break}else if(at==yt){this.m=4,gt(15),Zn(this.i,this.l,w,"[Invalid Chunk]"),m=!1;break}else Zn(this.i,this.l,at,null),ni(this,at);if(Hl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||w.length!=0||this.h.h||(this.m=1,gt(16),m=!1),this.o=this.o&&m,!m)Zn(this.i,this.l,w,"[Invalid Chunked Response]"),nn(this),pn(this);else if(w.length>0&&!this.W){this.W=!0;var le=this.j;le.g==this&&le.aa&&!le.P&&(le.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),ya(le),le.P=!0,gt(11))}}else Zn(this.i,this.l,w,null),ni(this,w);Ce==4&&nn(this),this.o&&!this.K&&(Ce==4?Xl(this.j,this):(this.o=!1,ei(this)))}else Ai(this.g),S==400&&w.indexOf("Unknown SID")>0?(this.m=3,gt(12)):(this.m=0,gt(13)),nn(this),pn(this)}}}catch{}finally{}};function ad(m){if(!Hl(m))return m.g.la();const S=Pt(m.g);if(S==="")return"";let w="";const R=S.length,$=Un(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return nn(m),pn(m),"";m.h.i=new c.TextDecoder}for(let W=0;W<R;W++)m.h.h=!0,w+=m.h.i.decode(S[W],{stream:!($&&W==R-1)});return S.length=0,m.h.g+=w,m.C=0,m.h.g}function Hl(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function Gl(m,S){var w=m.C,R=S.indexOf(`
`,w);return R==-1?It:(w=Number(S.substring(w,R)),isNaN(w)?yt:(R+=1,R+w>S.length?It:(S=S.slice(R,R+w),m.C=R+w,S)))}Mn.prototype.cancel=function(){this.K=!0,nn(this)};function ei(m){m.T=Date.now()+m.H,qs(m,m.H)}function qs(m,S){if(m.D!=null)throw Error("WatchDog timer not null");m.D=Wn(f(m.aa,m),S)}function ti(m){m.D&&(c.clearTimeout(m.D),m.D=null)}Mn.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(Wo(this.i,this.B),this.M!=2&&(Xn(),gt(17)),nn(this),this.m=2,pn(this)):qs(this,this.T-m)};function pn(m){m.j.I==0||m.K||Xl(m.j,m)}function nn(m){ti(m);var S=m.O;S&&typeof S.dispose=="function"&&S.dispose(),m.O=null,ea(m.V),m.g&&(S=m.g,m.g=null,S.abort(),S.dispose())}function ni(m,S){try{var w=m.j;if(w.I!=0&&(w.g==m||oi(w.h,m))){if(!m.L&&oi(w.h,m)&&w.I==3){try{var R=w.Ba.g.parse(S)}catch{R=null}if(Array.isArray(R)&&R.length==3){var $=R;if($[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<m.F)Ws(w),lo(w);else break e;rs(w),gt(18)}}else w.xa=$[1],0<w.xa-w.K&&$[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=Wn(f(w.Va,w),6e3));ii(w.h)<=1&&w.ta&&(w.ta=void 0)}else ci(w,11)}else if((m.L||w.g==m)&&Ws(w),!P(S))for($=w.Ba.g.parse(S),S=0;S<$.length;S++){let $e=$[S];const at=$e[0];if(!(at<=w.K))if(w.K=at,$e=$e[1],w.I==2)if($e[0]=="c"){w.M=$e[1],w.ba=$e[2];const Gt=$e[3];Gt!=null&&(w.ka=Gt,w.j.info("VER="+w.ka));const Ci=$e[4];Ci!=null&&(w.za=Ci,w.j.info("SVER="+w.za));const Ln=$e[5];Ln!=null&&typeof Ln=="number"&&Ln>0&&(R=1.5*Ln,w.O=R,w.j.info("backChannelRequestTimeoutMs_="+R)),R=w;const On=m.g;if(On){const as=On.g?On.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(as){var W=R.h;W.g||as.indexOf("spdy")==-1&&as.indexOf("quic")==-1&&as.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(sa(W,W.h),W.h=null))}if(R.G){const Zs=On.g?On.g.getResponseHeader("X-HTTP-Session-Id"):null;Zs&&(R.wa=Zs,Je(R.J,R.G,Zs))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-m.F,w.j.info("Handshake RTT: "+w.T+"ms")),R=w;var le=m;if(R.na=Zl(R,R.L?R.ba:null,R.W),le.L){ra(R.h,le);var Ce=le,dt=R.O;dt&&(Ce.H=dt),Ce.D&&(ti(Ce),ei(Ce)),R.g=le}else $l(R);w.i.length>0&&ui(w)}else $e[0]!="stop"&&$e[0]!="close"||ci(w,7);else w.I==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?ci(w,7):ma(w):$e[0]!="noop"&&w.l&&w.l.qa($e),w.A=0)}}Xn(4)}catch{}}var vt=class{constructor(m,S){this.g=m,this.map=S}};function ia(m){this.l=m||10,c.PerformanceNavigationTiming?(m=c.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function oa(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function ii(m){return m.h?1:m.g?m.g.size:0}function oi(m,S){return m.h?m.h==S:m.g?m.g.has(S):!1}function sa(m,S){m.g?m.g.add(S):m.h=S}function ra(m,S){m.h&&m.h==S?m.h=null:m.g&&m.g.has(S)&&m.g.delete(S)}ia.prototype.cancel=function(){if(this.i=aa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function aa(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let S=m.i;for(const w of m.g.values())S=S.concat(w.G);return S}return x(m.i)}var Bl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fs(m,S){if(m){m=m.split("&");for(let w=0;w<m.length;w++){const R=m[w].indexOf("=");let $,W=null;R>=0?($=m[w].substring(0,R),W=m[w].substring(R+1)):$=m[w],S($,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function on(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let S;m instanceof on?(this.l=m.l,Nt(this,m.j),this.o=m.o,this.g=m.g,to(this,m.u),this.h=m.h,la(this,Yl(m.i)),this.m=m.m):m&&(S=String(m).match(Bl))?(this.l=!1,Nt(this,S[1]||"",!0),this.o=si(S[2]||""),this.g=si(S[3]||"",!0),to(this,S[4]),this.h=si(S[5]||"",!0),la(this,S[6]||"",!0),this.m=si(S[7]||"")):(this.l=!1,this.i=new io(null,this.l))}on.prototype.toString=function(){const m=[];var S=this.j;S&&m.push(es(S,Ys,!0),":");var w=this.g;return(w||S=="file")&&(m.push("//"),(S=this.o)&&m.push(es(S,Ys,!0),"@"),m.push(Ti(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&m.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&m.push("/"),m.push(es(w,w.charAt(0)=="/"?ua:zl,!0))),(w=this.i.toString())&&m.push("?",w),(w=this.m)&&m.push("#",es(w,ql)),m.join("")},on.prototype.resolve=function(m){const S=_t(this);let w=!!m.j;w?Nt(S,m.j):w=!!m.o,w?S.o=m.o:w=!!m.g,w?S.g=m.g:w=m.u!=null;var R=m.h;if(w)to(S,m.u);else if(w=!!m.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var $=S.h.lastIndexOf("/");$!=-1&&(R=S.h.slice(0,$+1)+R)}if($=R,$==".."||$==".")R="";else if($.indexOf("./")!=-1||$.indexOf("/.")!=-1){R=$.lastIndexOf("/",0)==0,$=$.split("/");const W=[];for(let le=0;le<$.length;){const Ce=$[le++];Ce=="."?R&&le==$.length&&W.push(""):Ce==".."?((W.length>1||W.length==1&&W[0]!="")&&W.pop(),R&&le==$.length&&W.push("")):(W.push(Ce),R=!0)}R=W.join("/")}else R=$}return w?S.h=R:w=m.i.toString()!=="",w?la(S,Yl(m.i)):w=!!m.m,w&&(S.m=m.m),S};function _t(m){return new on(m)}function Nt(m,S,w){m.j=w?si(S,!0):S,m.j&&(m.j=m.j.replace(/:$/,""))}function to(m,S){if(S){if(S=Number(S),isNaN(S)||S<0)throw Error("Bad port number "+S);m.u=S}else m.u=null}function la(m,S,w){S instanceof io?(m.i=S,$s(m.i,m.l)):(w||(S=es(S,no)),m.i=new io(S,m.l))}function Je(m,S,w){m.i.set(S,w)}function jo(m){return Je(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function si(m,S){return m?S?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function es(m,S,w){return typeof m=="string"?(m=encodeURI(m).replace(S,Xt),w&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Xt(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Ys=/[#\/\?@]/g,zl=/[#\?:]/g,ua=/[#\?]/g,no=/[#\?@]/g,ql=/#/g;function io(m,S){this.h=this.g=null,this.i=m||null,this.j=!!S}function Qt(m){m.g||(m.g=new Map,m.h=0,m.i&&Fs(m.i,function(S,w){m.add(decodeURIComponent(S.replace(/\+/g," ")),w)}))}t=io.prototype,t.add=function(m,S){Qt(this),this.i=null,m=oo(this,m);let w=this.g.get(m);return w||this.g.set(m,w=[]),w.push(S),this.h+=1,this};function Fl(m,S){Qt(m),S=oo(m,S),m.g.has(S)&&(m.i=null,m.h-=m.g.get(S).length,m.g.delete(S))}function ca(m,S){return Qt(m),S=oo(m,S),m.g.has(S)}t.forEach=function(m,S){Qt(this),this.g.forEach(function(w,R){w.forEach(function($){m.call(S,$,R,this)},this)},this)};function da(m,S){Qt(m);let w=[];if(typeof S=="string")ca(m,S)&&(w=w.concat(m.g.get(oo(m,S))));else for(m=Array.from(m.g.values()),S=0;S<m.length;S++)w=w.concat(m[S]);return w}t.set=function(m,S){return Qt(this),this.i=null,m=oo(this,m),ca(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[S]),this.h+=1,this},t.get=function(m,S){return m?(m=da(this,m),m.length>0?String(m[0]):S):S};function Js(m,S,w){Fl(m,S),w.length>0&&(m.i=null,m.g.set(oo(m,S),x(w)),m.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],S=Array.from(this.g.keys());for(let R=0;R<S.length;R++){var w=S[R];const $=Ti(w);w=da(this,w);for(let W=0;W<w.length;W++){let le=$;w[W]!==""&&(le+="="+Ti(w[W])),m.push(le)}}return this.i=m.join("&")};function Yl(m){const S=new io;return S.i=m.i,m.g&&(S.g=new Map(m.g),S.h=m.h),S}function oo(m,S){return S=String(S),m.j&&(S=S.toLowerCase()),S}function $s(m,S){S&&!m.j&&(Qt(m),m.i=null,m.g.forEach(function(w,R){const $=R.toLowerCase();R!=$&&(Fl(this,R),Js(this,$,w))},m)),m.j=S}function kn(m,S){const w=new Nn;if(c.Image){const R=new Image;R.onload=v(mn,w,"TestLoadImage: loaded",!0,S,R),R.onerror=v(mn,w,"TestLoadImage: error",!1,S,R),R.onabort=v(mn,w,"TestLoadImage: abort",!1,S,R),R.ontimeout=v(mn,w,"TestLoadImage: timeout",!1,S,R),c.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=m}else S(!1)}function fa(m,S){const w=new Nn,R=new AbortController,$=setTimeout(()=>{R.abort(),mn(w,"TestPingServer: timeout",!1,S)},1e4);fetch(m,{signal:R.signal}).then(W=>{clearTimeout($),W.ok?mn(w,"TestPingServer: ok",!0,S):mn(w,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout($),mn(w,"TestPingServer: error",!1,S)})}function mn(m,S,w,R,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),R(w)}catch{}}function so(){this.g=new Dl}function ri(m){this.i=m.Sb||null,this.h=m.ab||!1}E(ri,kl),ri.prototype.g=function(){return new ts(this.i,this.h)};function ts(m,S){pt.call(this),this.H=m,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(ts,pt),t=ts.prototype,t.open=function(m,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=S,this.readyState=1,Pn(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const S={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(S.body=m),(this.H||c).fetch(new Request(this.D,S)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ro(this)),this.readyState=0},t.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Pn(this)),this.g&&(this.readyState=3,Pn(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ks(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ks(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}t.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var S=m.value?m.value:new Uint8Array(0);(S=this.B.decode(S,{stream:!m.done}))&&(this.response=this.responseText+=S)}m.done?ro(this):Pn(this),this.readyState==3&&Ks(this)}},t.Oa=function(m){this.g&&(this.response=this.responseText=m,ro(this))},t.Na=function(m){this.g&&(this.response=m,ro(this))},t.ga=function(){this.g&&ro(this)};function ro(m){m.readyState=4,m.l=null,m.j=null,m.B=null,Pn(m)}t.setRequestHeader=function(m,S){this.A.append(m,S)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],S=this.h.entries();for(var w=S.next();!w.done;)w=w.value,m.push(w[0]+": "+w[1]),w=S.next();return m.join(`\r
`)};function Pn(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(ts.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function gn(m){let S="";return Me(m,function(w,R){S+=R,S+=":",S+=w,S+=`\r
`}),S}function ns(m,S,w){e:{for(R in w){var R=!1;break e}R=!0}R||(w=gn(w),typeof m=="string"?w!=null&&Ti(w):Je(m,S,w))}function je(m){pt.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(je,pt);var ai=/^https?$/i,ha=["POST","PUT"];t=je.prototype,t.Fa=function(m){this.H=m},t.ea=function(m,S,w,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);S=S?S.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():na.g(),this.g.onreadystatechange=T(f(this.Ca,this));try{this.B=!0,this.g.open(S,String(m),!0),this.B=!1}catch(W){is(this,W);return}if(m=w||"",w=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var $ in R)w.set($,R[$]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const W of R.keys())w.set(W,R.get(W));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(w.keys()).find(W=>W.toLowerCase()=="content-type"),$=c.FormData&&m instanceof c.FormData,!(Array.prototype.indexOf.call(ha,S,void 0)>=0)||R||$||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,le]of w)this.g.setRequestHeader(W,le);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(W){is(this,W)}};function is(m,S){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=S,m.o=5,pa(m),Si(m)}function pa(m){m.A||(m.A=!0,bt(m,"complete"),bt(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,bt(this,"complete"),bt(this,"abort"),Si(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Si(this,!0)),je.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?os(this):this.Xa())},t.Xa=function(){os(this)};function os(m){if(m.h&&typeof l<"u"){if(m.v&&Un(m)==4)setTimeout(m.Ca.bind(m),0);else if(bt(m,"readystatechange"),Un(m)==4){m.h=!1;try{const W=m.ca();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var w;if(!(w=S)){var R;if(R=W===0){let le=String(m.D).match(Bl)[1]||null;!le&&c.self&&c.self.location&&(le=c.self.location.protocol.slice(0,-1)),R=!ai.test(le?le.toLowerCase():"")}w=R}if(w)bt(m,"complete"),bt(m,"success");else{m.o=6;try{var $=Un(m)>2?m.g.statusText:""}catch{$=""}m.l=$+" ["+m.ca()+"]",pa(m)}}finally{Si(m)}}}}function Si(m,S){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const w=m.g;m.g=null,S||bt(m,"ready");try{w.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Un(m){return m.g?m.g.readyState:0}t.ca=function(){try{return Un(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(m){if(this.g){var S=this.g.responseText;return m&&S.indexOf(m)==0&&(S=S.substring(m.length)),id(S)}};function Pt(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Ai(m){const S={};m=(m.g&&Un(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<m.length;R++){if(P(m[R]))continue;var w=Vl(m[R]);const $=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const W=S[$]||[];S[$]=W,W.push(w)}Ge(S,function(R){return R.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function li(m,S,w){return w&&w.internalChannelParams&&w.internalChannelParams[m]||S}function ao(m){this.za=0,this.i=[],this.j=new Nn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=li("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=li("baseRetryDelayMs",5e3,m),this.Za=li("retryDelaySeedMs",1e4,m),this.Ta=li("forwardChannelMaxRetries",2,m),this.va=li("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new ia(m&&m.concurrentRequestLimit),this.Ba=new so,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ao.prototype,t.ka=8,t.I=1,t.connect=function(m,S,w,R){gt(0),this.W=m,this.H=S||{},w&&R!==void 0&&(this.H.OSID=w,this.H.OAID=R),this.F=this.X,this.J=Zl(this,null,this.W),ui(this)};function ma(m){if(Xs(m),m.I==3){var S=m.V++,w=_t(m.J);if(Je(w,"SID",m.M),Je(w,"RID",S),Je(w,"TYPE","terminate"),ss(m,w),S=new Mn(m,m.j,S),S.M=2,S.A=jo(_t(w)),w=!1,c.navigator&&c.navigator.sendBeacon)try{w=c.navigator.sendBeacon(S.A.toString(),"")}catch{}!w&&c.Image&&(new Image().src=S.A,w=!0),w||(S.g=jl(S.j,null),S.g.ea(S.A)),S.F=Date.now(),ei(S)}Wl(m)}function lo(m){m.g&&(ya(m),m.g.cancel(),m.g=null)}function Xs(m){lo(m),m.v&&(c.clearTimeout(m.v),m.v=null),Ws(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&c.clearTimeout(m.m),m.m=null)}function ui(m){if(!oa(m.h)&&!m.m){m.m=!0;var S=m.Ea;se||N(),ae||(se(),ae=!0),D.add(S,m),m.D=0}}function Qs(m,S){return ii(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=S.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=Wn(f(m.Ea,m,S),Ql(m,m.D)),m.D++,!0)}t.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const $=new Mn(this,this.j,m);let W=this.o;if(this.U&&(W?(W=G(W),ue(W,this.U)):W=this.U),this.u!==null||this.R||($.J=W,W=null),this.S)e:{for(var S=0,w=0;w<this.i.length;w++){t:{var R=this.i[w];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(S+=R,S>4096){S=w;break e}if(S===4096||w===this.i.length-1){S=w+1;break e}}S=1e3}else S=1e3;S=Jl(this,$,S),w=_t(this.J),Je(w,"RID",m),Je(w,"CVER",22),this.G&&Je(w,"X-HTTP-Session-Id",this.G),ss(this,w),W&&(this.R?S="headers="+Ti(gn(W))+"&"+S:this.u&&ns(w,this.u,W)),sa(this.h,$),this.Ra&&Je(w,"TYPE","init"),this.S?(Je(w,"$req",S),Je(w,"SID","null"),$.U=!0,jn($,w,null)):jn($,w,S),this.I=2}}else this.I==3&&(m?ga(this,m):this.i.length==0||oa(this.h)||ga(this))};function ga(m,S){var w;S?w=S.l:w=m.V++;const R=_t(m.J);Je(R,"SID",m.M),Je(R,"RID",w),Je(R,"AID",m.K),ss(m,R),m.u&&m.o&&ns(R,m.u,m.o),w=new Mn(m,m.j,w,m.D+1),m.u===null&&(w.J=m.o),S&&(m.i=S.G.concat(m.i)),S=Jl(m,w,1e3),w.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),sa(m.h,w),jn(w,R,S)}function ss(m,S){m.H&&Me(m.H,function(w,R){Je(S,R,w)}),m.l&&Me({},function(w,R){Je(S,R,w)})}function Jl(m,S,w){w=Math.min(m.i.length,w);const R=m.l?f(m.l.Ka,m.l,m):null;e:{var $=m.i;let Ce=-1;for(;;){const dt=["count="+w];Ce==-1?w>0?(Ce=$[0].g,dt.push("ofs="+Ce)):Ce=0:dt.push("ofs="+Ce);let $e=!0;for(let at=0;at<w;at++){var W=$[at].g;const Gt=$[at].map;if(W-=Ce,W<0)Ce=Math.max(0,$[at].g-100),$e=!1;else try{W="req"+W+"_"||"";try{var le=Gt instanceof Map?Gt:Object.entries(Gt);for(const[Ci,Ln]of le){let On=Ln;g(Ln)&&(On=eo(Ln)),dt.push(W+Ci+"="+encodeURIComponent(On))}}catch(Ci){throw dt.push(W+"type="+encodeURIComponent("_badmap")),Ci}}catch{R&&R(Gt)}}if($e){le=dt.join("&");break e}}le=void 0}return m=m.i.splice(0,w),S.G=m,le}function $l(m){if(!m.g&&!m.v){m.Y=1;var S=m.Da;se||N(),ae||(se(),ae=!0),D.add(S,m),m.A=0}}function rs(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=Wn(f(m.Da,m),Ql(m,m.A)),m.A++,!0)}t.Da=function(){if(this.v=null,Kl(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=Wn(f(this.Wa,this),m)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,gt(10),lo(this),Kl(this))};function ya(m){m.B!=null&&(c.clearTimeout(m.B),m.B=null)}function Kl(m){m.g=new Mn(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var S=_t(m.na);Je(S,"RID","rpc"),Je(S,"SID",m.M),Je(S,"AID",m.K),Je(S,"CI",m.F?"0":"1"),!m.F&&m.ia&&Je(S,"TO",m.ia),Je(S,"TYPE","xmlhttp"),ss(m,S),m.u&&m.o&&ns(S,m.u,m.o),m.O&&(m.g.H=m.O);var w=m.g;m=m.ba,w.M=1,w.A=jo(_t(S)),w.u=null,w.R=!0,zs(w,m)}t.Va=function(){this.C!=null&&(this.C=null,lo(this),rs(this),gt(19))};function Ws(m){m.C!=null&&(c.clearTimeout(m.C),m.C=null)}function Xl(m,S){var w=null;if(m.g==S){Ws(m),ya(m),m.g=null;var R=2}else if(oi(m.h,S))w=S.G,ra(m.h,S),R=1;else return;if(m.I!=0){if(S.o)if(R==1){w=S.u?S.u.length:0,S=Date.now()-S.F;var $=m.D;R=ta(),bt(R,new Qn(R,w)),ui(m)}else $l(m);else if($=S.m,$==3||$==0&&S.X>0||!(R==1&&Qs(m,S)||R==2&&rs(m)))switch(w&&w.length>0&&(S=m.h,S.i=S.i.concat(w)),$){case 1:ci(m,5);break;case 4:ci(m,10);break;case 3:ci(m,6);break;default:ci(m,2)}}}function Ql(m,S){let w=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(w*=2),w*S}function ci(m,S){if(m.j.info("Error code "+S),S==2){var w=f(m.bb,m),R=m.Ua;const $=!R;R=new on(R||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Nt(R,"https"),jo(R),$?kn(R.toString(),w):fa(R.toString(),w)}else gt(2);m.I=0,m.l&&m.l.pa(S),Wl(m),Xs(m)}t.bb=function(m){m?(this.j.info("Successfully pinged google.com"),gt(2)):(this.j.info("Failed to ping google.com"),gt(1))};function Wl(m){if(m.I=0,m.ja=[],m.l){const S=aa(m.h);(S.length!=0||m.i.length!=0)&&(M(m.ja,S),M(m.ja,m.i),m.h.i.length=0,x(m.i),m.i.length=0),m.l.oa()}}function Zl(m,S,w){var R=w instanceof on?_t(w):new on(w);if(R.g!="")S&&(R.g=S+"."+R.g),to(R,R.u);else{var $=c.location;R=$.protocol,S=S?S+"."+$.hostname:$.hostname,$=+$.port;const W=new on(null);R&&Nt(W,R),S&&(W.g=S),$&&to(W,$),w&&(W.h=w),R=W}return w=m.G,S=m.wa,w&&S&&Je(R,w,S),Je(R,"VER",m.ka),ss(m,R),R}function jl(m,S,w){if(S&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return S=m.Aa&&!m.ma?new je(new ri({ab:w})):new je(m.ma),S.Fa(m.L),S}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function eu(){}t=eu.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Ht(m,S){pt.call(this),this.g=new ao(S),this.l=m,this.h=S&&S.messageUrlParams||null,m=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(m?m["X-WebChannel-Content-Type"]=S.messageContentType:m={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.sa&&(m?m["X-WebChannel-Client-Profile"]=S.sa:m={"X-WebChannel-Client-Profile":S.sa}),this.g.U=m,(m=S&&S.Qb)&&!P(m)&&(this.g.u=m),this.A=S&&S.supportsCrossDomainXhr||!1,this.v=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!P(S)&&(this.g.G=S,m=this.h,m!==null&&S in m&&(m=this.h,S in m&&delete m[S])),this.j=new uo(this)}E(Ht,pt),Ht.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ht.prototype.close=function(){ma(this.g)},Ht.prototype.o=function(m){var S=this.g;if(typeof m=="string"){var w={};w.__data__=m,m=w}else this.v&&(w={},w.__data__=eo(m),m=w);S.i.push(new vt(S.Ya++,m)),S.I==3&&ui(S)},Ht.prototype.N=function(){this.g.l=null,delete this.j,ma(this.g),delete this.g,Ht.Z.N.call(this)};function tu(m){kt.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var S=m.__sm__;if(S){e:{for(const w in S){m=w;break e}m=void 0}(this.i=m)&&(m=this.i,S=S!==null&&m in S?S[m]:void 0),this.data=S}else this.data=m}E(tu,kt);function nu(){hn.call(this),this.status=1}E(nu,hn);function uo(m){this.g=m}E(uo,eu),uo.prototype.ra=function(){bt(this.g,"a")},uo.prototype.qa=function(m){bt(this.g,new tu(m))},uo.prototype.pa=function(m){bt(this.g,new nu)},uo.prototype.oa=function(){bt(this.g,"b")},Ht.prototype.send=Ht.prototype.o,Ht.prototype.open=Ht.prototype.m,Ht.prototype.close=Ht.prototype.close,Bs.NO_ERROR=0,Bs.TIMEOUT=8,Bs.HTTP_ERROR=6,Ol.COMPLETE="complete",od.EventType=In,In.OPEN="a",In.CLOSE="b",In.ERROR="c",In.MESSAGE="d",pt.prototype.listen=pt.prototype.J,je.prototype.listenOnce=je.prototype.K,je.prototype.getLastError=je.prototype.Ha,je.prototype.getLastErrorCode=je.prototype.ya,je.prototype.getStatus=je.prototype.ca,je.prototype.getResponseJson=je.prototype.La,je.prototype.getResponseText=je.prototype.la,je.prototype.send=je.prototype.ea,je.prototype.setWithCredentials=je.prototype.Fa}).apply(typeof mc<"u"?mc:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Il="12.8.0";function u3(t){Il=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br=new Tp("@firebase/firestore");function qn(t,...e){if(Br.logLevel<=Ye.DEBUG){const n=e.map(kp);Br.debug(`Firestore (${Il}): ${t}`,...n)}}function lS(t,...e){if(Br.logLevel<=Ye.ERROR){const n=e.map(kp);Br.error(`Firestore (${Il}): ${t}`,...n)}}function c3(t,...e){if(Br.logLevel<=Ye.WARN){const n=e.map(kp);Br.warn(`Firestore (${Il}): ${t}`,...n)}}function kp(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vl(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,uS(t,s,n)}function uS(t,e,n){let s=`FIRESTORE (${Il}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw lS(s),new Error(s)}function dl(t,e,n,s){let r="Unexpected state";typeof n=="string"?r=n:s=n,t||uS(e,r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oe={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class Ve extends Wi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class d3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Jt.UNAUTHENTICATED)))}shutdown(){}}class f3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class h3{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){dl(this.o===void 0,42304);let s=this.i;const r=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let l=new fl;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new fl,e.enqueueRetryable((()=>r(this.currentUser)))};const c=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await r(this.currentUser)}))},g=p=>{qn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>g(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(qn("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new fl)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(qn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(dl(typeof s.accessToken=="string",31837,{l:s}),new cS(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return dl(e===null||typeof e=="string",2055,{h:e}),new Jt(e)}}class p3{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class m3{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new p3(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Jt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class O_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class g3{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,wn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){dl(this.o===void 0,3512);const s=l=>{l.error!=null&&qn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,qn("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const r=l=>{qn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>r(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?r(l):qn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new O_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(dl(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new O_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const r=y3(40);for(let l=0;l<r.length;++l)s.length<20&&r[l]<n&&(s+=e.charAt(r[l]%62))}return s}}function zo(t,e){return t<e?-1:t>e?1:0}function _3(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const r=t.charAt(s),l=e.charAt(s);if(r!==l)return Eh(r)===Eh(l)?zo(r,l):Eh(r)?1:-1}return zo(t.length,e.length)}const E3=55296,T3=57343;function Eh(t){const e=t.charCodeAt(0);return e>=E3&&e<=T3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_="__name__";class mi{constructor(e,n,s){n===void 0?n=0:n>e.length&&vl(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&vl(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return mi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof mi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let r=0;r<s;r++){const l=mi.compareSegments(e.get(r),n.get(r));if(l!==0)return l}return zo(e.length,n.length)}static compareSegments(e,n){const s=mi.isNumericId(e),r=mi.isNumericId(n);return s&&!r?-1:!s&&r?1:s&&r?mi.extractNumericId(e).compare(mi.extractNumericId(n)):_3(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Dp.fromString(e.substring(4,e.length-2))}}class Bn extends mi{construct(e,n,s){return new Bn(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new Ve(Oe.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((r=>r.length>0)))}return new Bn(n)}static emptyPath(){return new Bn([])}}const S3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xs extends mi{construct(e,n,s){return new xs(e,n,s)}static isValidIdentifier(e){return S3.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xs.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===V_}static keyField(){return new xs([V_])}static fromServerFormat(e){const n=[];let s="",r=0;const l=()=>{if(s.length===0)throw new Ve(Oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;r<e.length;){const g=e[r];if(g==="\\"){if(r+1===e.length)throw new Ve(Oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[r+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Ve(Oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,r+=2}else g==="`"?(c=!c,r++):g!=="."||c?(s+=g,r++):(l(),r++)}if(l(),c)throw new Ve(Oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xs(n)}static emptyPath(){return new xs([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e){this.path=e}static fromPath(e){return new bs(Bn.fromString(e))}static fromName(e){return new bs(Bn.fromString(e).popFirst(5))}static empty(){return new bs(Bn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Bn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Bn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new bs(new Bn(e.slice()))}}function A3(t,e,n,s){if(e===!0&&s===!0)throw new Ve(Oe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function C3(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function w3(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":vl(12329,{type:typeof t})}function x3(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ve(Oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=w3(t);throw new Ve(Oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Nl(t,e){if(!C3(t))throw new Ve(Oe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const r=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const c=t[s];if(r&&typeof c!==r){n=`JSON field '${s}' must be a ${r}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new Ve(Oe.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_=-62135596800,G_=1e6;class gi{static now(){return gi.fromMillis(Date.now())}static fromDate(e){return gi.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*G_);return new gi(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ve(Oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ve(Oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<H_)throw new Ve(Oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ve(Oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/G_}_compareTo(e){return this.seconds===e.seconds?zo(this.nanoseconds,e.nanoseconds):zo(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:gi._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Nl(e,gi._jsonSchema))return new gi(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-H_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}gi._jsonSchemaVersion="firestore/timestamp/1.0",gi._jsonSchema={type:wt("string",gi._jsonSchemaVersion),seconds:wt("number"),nanoseconds:wt("number")};function b3(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(r){try{return atob(r)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new R3("Invalid base64 string: "+l):l}})(e);return new Ps(n)}static fromUint8Array(e){const n=(function(r){let l="";for(let c=0;c<r.length;++c)l+=String.fromCharCode(r[c]);return l})(e);return new Ps(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let r=0;r<n.length;r++)s[r]=n.charCodeAt(r);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return zo(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ps.EMPTY_BYTE_STRING=new Ps("");const Xh="(default)";class Bc{constructor(e,n){this.projectId=e,this.database=n||Xh}static empty(){return new Bc("","")}get isDefaultDatabase(){return this.database===Xh}isEqual(e){return e instanceof Bc&&e.projectId===this.projectId&&e.database===this.database}}function I3(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Ve(Oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bc(t.options.projectId,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(e,n=null,s=[],r=[],l=null,c="F",g=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=r,this.limit=l,this.limitType=c,this.startAt=g,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function M3(t){return new N3(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var B_,Le;(Le=B_||(B_={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Dp([4294967295,4294967295],0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D3=41943040;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k3=1048576;function Th(){return typeof document<"u"?document:null}class P3{constructor(e,n,s=1e3,r=1.5,l=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=r,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),r=Math.max(0,n-s);r>0&&qn("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e,n,s,r,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=r,this.removalCallback=l,this.deferred=new fl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,r,l){const c=Date.now()+s,g=new Pp(e,n,c,r,l);return g.start(s),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ve(Oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var z_,q_;(q_=z_||(z_={})).Ma="default",q_.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U3(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L3="ComponentProvider",F_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS="firestore.googleapis.com",Y_=!0;class J_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ve(Oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=dS,this.ssl=Y_}else this.host=e.host,this.ssl=e.ssl??Y_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=D3;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<k3)throw new Ve(Oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}A3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=U3(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ve(Oe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ve(Oe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ve(Oe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,r){return s.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fS{constructor(e,n,s,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new J_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ve(Oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ve(Oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new J_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new d3;switch(s.type){case"firstParty":return new m3(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Ve(Oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=F_.get(n);s&&(qn(L3,"Removing Datastore"),F_.delete(n),s.terminate())})(this),Promise.resolve()}}function O3(t,e,n,s={}){var f;t=x3(t,fS);const r=Sl(e),l=t._getSettings(),c={...l,emulatorOptions:t._getEmulatorOptions()},g=`${e}:${n}`;r&&(ET(`https://${g}`),TT("Firestore",!0)),l.host!==dS&&l.host!==g&&c3("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:g,ssl:r,emulatorOptions:s};if(!Ns(p,c)&&(t._setSettings(p),s.mockUserToken)){let v,E;if(typeof s.mockUserToken=="string")v=s.mockUserToken,E=Jt.MOCK_USER;else{v=Sk(s.mockUserToken,(f=t._app)==null?void 0:f.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new Ve(Oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Jt(T)}t._authCredentials=new f3(new cS(v,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Up(this.firestore,e,this._query)}}class yi{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Lp(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yi(this.firestore,e,this._key)}toJSON(){return{type:yi._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Nl(n,yi._jsonSchema))return new yi(e,s||null,new bs(Bn.fromString(n.referencePath)))}}yi._jsonSchemaVersion="firestore/documentReference/1.0",yi._jsonSchema={type:wt("string",yi._jsonSchemaVersion),referencePath:wt("string")};class Lp extends Up{constructor(e,n,s){super(e,n,M3(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yi(this.firestore,null,new bs(e))}withConverter(e){return new Lp(this.firestore,e,this._path)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_="AsyncQueue";class K_{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new P3(this,"async_queue_retry"),this._c=()=>{const s=Th();s&&qn($_,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Th();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Th();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new fl;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!b3(e))throw e;qn($_,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,lS("INTERNAL UNHANDLED ERROR: ",X_(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const r=Pp.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(r),r}uc(){this.nc&&vl(47125,{Pc:X_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function X_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class V3 extends fS{constructor(e,n,s,r){super(e,n,s,r),this.type="firestore",this._queue=new K_,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new K_(e),this._firestoreClient=void 0,await e}}}function H3(t,e){const n=typeof t=="object"?t:wT(),s=typeof t=="string"?t:Xh,r=Ap(n,"firestore").getImmediate({identifier:s});if(!r._initialized){const l=Ek("firestore");l&&O3(r,...l)}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gi(Ps.fromBase64String(e))}catch(n){throw new Ve(Oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Gi(Ps.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Gi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Nl(e,Gi._jsonSchema))return Gi.fromBase64String(e.bytes)}}Gi._jsonSchemaVersion="firestore/bytes/1.0",Gi._jsonSchema={type:wt("string",Gi._jsonSchemaVersion),bytes:wt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ve(Oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xs(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ve(Oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ve(Oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return zo(this._lat,e._lat)||zo(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Rs._jsonSchemaVersion}}static fromJSON(e){if(Nl(e,Rs._jsonSchema))return new Rs(e.latitude,e.longitude)}}Rs._jsonSchemaVersion="firestore/geoPoint/1.0",Rs._jsonSchema={type:wt("string",Rs._jsonSchemaVersion),latitude:wt("number"),longitude:wt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,r){if(s.length!==r.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==r[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Is._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Nl(e,Is._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Is(e.vectorValues);throw new Ve(Oe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Is._jsonSchemaVersion="firestore/vectorValue/1.0",Is._jsonSchema={type:wt("string",Is._jsonSchemaVersion),vectorValues:wt("object")};function pS(t,e,n){if((e=Zi(e))instanceof hS)return e._internalPath;if(typeof e=="string")return B3(t,e);throw Qh("Field path arguments must be of type string or ",t)}const G3=new RegExp("[~\\*/\\[\\]]");function B3(t,e,n){if(e.search(G3)>=0)throw Qh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t);try{return new hS(...e.split("."))._internalPath}catch{throw Qh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t)}}function Qh(t,e,n,s,r){let l=`Function ${e}() called with invalid data`;l+=". ";let c="";return new Ve(Oe.INVALID_ARGUMENT,l+t+c)}const Q_="@firebase/firestore",W_="4.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e,n,s,r,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=r,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new yi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new z3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(pS("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class z3 extends mS{data(){return super.data()}}class gc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Hr extends mS{constructor(e,n,s,r,l,c){super(e,n,s,r,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new wc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(pS("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ve(Oe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Hr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Hr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Hr._jsonSchema={type:wt("string",Hr._jsonSchemaVersion),bundleSource:wt("string","DocumentSnapshot"),bundleName:wt("string"),bundle:wt("string")};class wc extends Hr{data(e={}){return super.data(e)}}class hl{constructor(e,n,s,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new gc(r.hasPendingWrites,r.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new wc(this._firestore,this._userDataWriter,s.key,s,new gc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ve(Oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(r,l){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map((g=>{const p=new wc(r._firestore,r._userDataWriter,g.doc.key,g.doc,new gc(r._snapshot.mutatedKeys.has(g.doc.key),r._snapshot.fromCache),r.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((g=>l||g.type!==3)).map((g=>{const p=new wc(r._firestore,r._userDataWriter,g.doc.key,g.doc,new gc(r._snapshot.mutatedKeys.has(g.doc.key),r._snapshot.fromCache),r.query.converter);let f=-1,v=-1;return g.type!==0&&(f=c.indexOf(g.doc.key),c=c.delete(g.doc.key)),g.type!==1&&(c=c.add(g.doc),v=c.indexOf(g.doc.key)),{type:q3(g.type),doc:p,oldIndex:f,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ve(Oe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=hl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=v3.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],r=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),r.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function q3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vl(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hl._jsonSchemaVersion="firestore/querySnapshot/1.0",hl._jsonSchema={type:wt("string",hl._jsonSchemaVersion),bundleSource:wt("string","QuerySnapshot"),bundleName:wt("string"),bundle:wt("string")};(function(e,n=!0){u3(Kr),Gr(new Ms("firestore",((s,{instanceIdentifier:r,options:l})=>{const c=s.getProvider("app").getImmediate(),g=new V3(new h3(s.getProvider("auth-internal")),new g3(c,s.getProvider("app-check-internal")),I3(c,r),c);return l={useFetchStreams:n,...l},g._setSettings(l),g}),"PUBLIC").setMultipleInstances(!0)),Go(Q_,W_,e),Go(Q_,W_,"esm2020")})();const F3={apiKey:"YOUR_API_KEY",authDomain:"YOUR_PROJECT_ID.firebaseapp.com",projectId:"YOUR_PROJECT_ID",storageBucket:"YOUR_PROJECT_ID.appspot.com",messagingSenderId:"YOUR_MESSAGING_SENDER_ID",appId:"YOUR_APP_ID"},gS=CT(F3),td=a3(gS);H3(gS);const yS=J.createContext({currentUser:null,loading:!0}),vS=()=>J.useContext(yS),Y3=({children:t})=>{const[e,n]=J.useState(null),[s,r]=J.useState(!0);J.useEffect(()=>QP(td,g=>{n(g),r(!1)}),[]);const l={currentUser:e,loading:s};return C.jsx(yS.Provider,{value:l,children:!s&&t})},J3=()=>{const[t,e]=J.useState(""),[n,s]=J.useState(""),[r,l]=J.useState(""),c=El(),g=async p=>{p.preventDefault();try{await $P(td,t,n),c("/")}catch(f){l("Failed to login. Please check your credentials."),console.error(f)}};return C.jsx("div",{className:"min-h-screen flex items-center justify-center bg-history-parchment/20 p-4 font-serif",children:C.jsxs("div",{className:"max-w-md w-full glass-panel p-8 border border-history-gold/30 rounded-lg shadow-2xl relative",children:[C.jsx(Bo,{to:"/",className:"absolute top-4 left-4 text-history-wood hover:text-history-ink transition-colors",children:C.jsx(fp,{className:"w-5 h-5"})}),C.jsxs("div",{className:"flex flex-col items-center mb-8",children:[C.jsx("div",{className:"w-12 h-12 bg-history-gold/10 rounded-full flex items-center justify-center mb-4 text-history-ink",children:C.jsx(D2,{className:"w-6 h-6"})}),C.jsx("h2",{className:"text-2xl font-display font-medium text-history-ink tracking-wide",children:"Access Archives"}),C.jsx("p",{className:"text-history-wood text-sm italic mt-2",children:"Enter your credentials to proceed"})]}),r&&C.jsx("div",{className:"mb-4 p-3 bg-red-50/50 text-red-900 border border-red-200 rounded text-sm text-center",children:r}),C.jsxs("form",{onSubmit:g,className:"space-y-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-xs font-bold text-history-wood uppercase tracking-widest mb-1.5",children:"Email Address"}),C.jsx("input",{type:"email",value:t,onChange:p=>e(p.target.value),className:"w-full bg-white/50 border border-history-gold/20 rounded-md px-4 py-2.5 text-history-dark focus:outline-none focus:ring-1 focus:ring-history-gold/50 placeholder-history-wood/30",required:!0,placeholder:"scholar@example.com"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-xs font-bold text-history-wood uppercase tracking-widest mb-1.5",children:"Password"}),C.jsx("input",{type:"password",value:n,onChange:p=>s(p.target.value),className:"w-full bg-white/50 border border-history-gold/20 rounded-md px-4 py-2.5 text-history-dark focus:outline-none focus:ring-1 focus:ring-history-gold/50 placeholder-history-wood/30",required:!0,placeholder:""})]}),C.jsx("button",{type:"submit",className:"w-full bg-history-ink hover:bg-black text-history-paper py-3 rounded-[4px] font-display font-medium text-sm tracking-widest uppercase transition-all shadow-md mt-4",children:"Enter"})]}),C.jsx("div",{className:"mt-6 text-center text-sm text-history-wood",children:C.jsxs("p",{children:["New scholar? ",C.jsx(Bo,{to:"/register",className:"text-history-red hover:underline font-medium",children:"Register here"})]})})]})})},$3=()=>{const[t,e]=J.useState(""),[n,s]=J.useState(""),[r,l]=J.useState(""),[c,g]=J.useState(""),p=El(),f=async v=>{if(v.preventDefault(),n!==r)return g("Passwords do not match");try{await JP(td,t,n),p("/")}catch(E){g("Failed to create an account. "+E.message)}};return C.jsx("div",{className:"min-h-screen flex items-center justify-center bg-history-parchment/20 p-4 font-serif",children:C.jsxs("div",{className:"max-w-md w-full glass-panel p-8 border border-history-gold/30 rounded-lg shadow-2xl relative",children:[C.jsx(Bo,{to:"/",className:"absolute top-4 left-4 text-history-wood hover:text-history-ink transition-colors",children:C.jsx(fp,{className:"w-5 h-5"})}),C.jsxs("div",{className:"flex flex-col items-center mb-8",children:[C.jsx("div",{className:"w-12 h-12 bg-history-gold/10 rounded-full flex items-center justify-center mb-4 text-history-ink",children:C.jsx(vM,{className:"w-6 h-6"})}),C.jsx("h2",{className:"text-2xl font-display font-medium text-history-ink tracking-wide",children:"Scholar Registration"}),C.jsx("p",{className:"text-history-wood text-sm italic mt-2",children:"Join the archives of history"})]}),c&&C.jsx("div",{className:"mb-4 p-3 bg-red-50/50 text-red-900 border border-red-200 rounded text-sm text-center",children:c}),C.jsxs("form",{onSubmit:f,className:"space-y-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-xs font-bold text-history-wood uppercase tracking-widest mb-1.5",children:"Email Address"}),C.jsx("input",{type:"email",value:t,onChange:v=>e(v.target.value),className:"w-full bg-white/50 border border-history-gold/20 rounded-md px-4 py-2.5 text-history-dark focus:outline-none focus:ring-1 focus:ring-history-gold/50 placeholder-history-wood/30",required:!0,placeholder:"scholar@example.com"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-xs font-bold text-history-wood uppercase tracking-widest mb-1.5",children:"Password"}),C.jsx("input",{type:"password",value:n,onChange:v=>s(v.target.value),className:"w-full bg-white/50 border border-history-gold/20 rounded-md px-4 py-2.5 text-history-dark focus:outline-none focus:ring-1 focus:ring-history-gold/50 placeholder-history-wood/30",required:!0,placeholder:""})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-xs font-bold text-history-wood uppercase tracking-widest mb-1.5",children:"Confirm Password"}),C.jsx("input",{type:"password",value:r,onChange:v=>l(v.target.value),className:"w-full bg-white/50 border border-history-gold/20 rounded-md px-4 py-2.5 text-history-dark focus:outline-none focus:ring-1 focus:ring-history-gold/50 placeholder-history-wood/30",required:!0,placeholder:""})]}),C.jsx("button",{type:"submit",className:"w-full bg-history-ink hover:bg-black text-history-paper py-3 rounded-[4px] font-display font-medium text-sm tracking-widest uppercase transition-all shadow-md mt-4",children:"Register"})]}),C.jsx("div",{className:"mt-6 text-center text-sm text-history-wood",children:C.jsxs("p",{children:["Already a scholar? ",C.jsx(Bo,{to:"/login",className:"text-history-red hover:underline font-medium",children:"Login"})]})})]})})};var K3=Object.defineProperty,zc=Object.getOwnPropertySymbols,_S=Object.prototype.hasOwnProperty,ES=Object.prototype.propertyIsEnumerable,Z_=(t,e,n)=>e in t?K3(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Wh=(t,e)=>{for(var n in e||(e={}))_S.call(e,n)&&Z_(t,n,e[n]);if(zc)for(var n of zc(e))ES.call(e,n)&&Z_(t,n,e[n]);return t},Zh=(t,e)=>{var n={};for(var s in t)_S.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&zc)for(var s of zc(t))e.indexOf(s)<0&&ES.call(t,s)&&(n[s]=t[s]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Us;(t=>{const e=class Ne{constructor(p,f,v,E){if(this.version=p,this.errorCorrectionLevel=f,this.modules=[],this.isFunction=[],p<Ne.MIN_VERSION||p>Ne.MAX_VERSION)throw new RangeError("Version value out of range");if(E<-1||E>7)throw new RangeError("Mask value out of range");this.size=p*4+17;let T=[];for(let M=0;M<this.size;M++)T.push(!1);for(let M=0;M<this.size;M++)this.modules.push(T.slice()),this.isFunction.push(T.slice());this.drawFunctionPatterns();const x=this.addEccAndInterleave(v);if(this.drawCodewords(x),E==-1){let M=1e9;for(let U=0;U<8;U++){this.applyMask(U),this.drawFormatBits(U);const k=this.getPenaltyScore();k<M&&(E=U,M=k),this.applyMask(U)}}r(0<=E&&E<=7),this.mask=E,this.applyMask(E),this.drawFormatBits(E),this.isFunction=[]}static encodeText(p,f){const v=t.QrSegment.makeSegments(p);return Ne.encodeSegments(v,f)}static encodeBinary(p,f){const v=t.QrSegment.makeBytes(p);return Ne.encodeSegments([v],f)}static encodeSegments(p,f,v=1,E=40,T=-1,x=!0){if(!(Ne.MIN_VERSION<=v&&v<=E&&E<=Ne.MAX_VERSION)||T<-1||T>7)throw new RangeError("Invalid value");let M,U;for(M=v;;M++){const B=Ne.getNumDataCodewords(M,f)*8,oe=c.getTotalBits(p,M);if(oe<=B){U=oe;break}if(M>=E)throw new RangeError("Data too long")}for(const B of[Ne.Ecc.MEDIUM,Ne.Ecc.QUARTILE,Ne.Ecc.HIGH])x&&U<=Ne.getNumDataCodewords(M,B)*8&&(f=B);let k=[];for(const B of p){n(B.mode.modeBits,4,k),n(B.numChars,B.mode.numCharCountBits(M),k);for(const oe of B.getData())k.push(oe)}r(k.length==U);const F=Ne.getNumDataCodewords(M,f)*8;r(k.length<=F),n(0,Math.min(4,F-k.length),k),n(0,(8-k.length%8)%8,k),r(k.length%8==0);for(let B=236;k.length<F;B^=253)n(B,8,k);let Y=[];for(;Y.length*8<k.length;)Y.push(0);return k.forEach((B,oe)=>Y[oe>>>3]|=B<<7-(oe&7)),new Ne(M,f,Y,T)}getModule(p,f){return 0<=p&&p<this.size&&0<=f&&f<this.size&&this.modules[f][p]}getModules(){return this.modules}drawFunctionPatterns(){for(let v=0;v<this.size;v++)this.setFunctionModule(6,v,v%2==0),this.setFunctionModule(v,6,v%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const p=this.getAlignmentPatternPositions(),f=p.length;for(let v=0;v<f;v++)for(let E=0;E<f;E++)v==0&&E==0||v==0&&E==f-1||v==f-1&&E==0||this.drawAlignmentPattern(p[v],p[E]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(p){const f=this.errorCorrectionLevel.formatBits<<3|p;let v=f;for(let T=0;T<10;T++)v=v<<1^(v>>>9)*1335;const E=(f<<10|v)^21522;r(E>>>15==0);for(let T=0;T<=5;T++)this.setFunctionModule(8,T,s(E,T));this.setFunctionModule(8,7,s(E,6)),this.setFunctionModule(8,8,s(E,7)),this.setFunctionModule(7,8,s(E,8));for(let T=9;T<15;T++)this.setFunctionModule(14-T,8,s(E,T));for(let T=0;T<8;T++)this.setFunctionModule(this.size-1-T,8,s(E,T));for(let T=8;T<15;T++)this.setFunctionModule(8,this.size-15+T,s(E,T));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let p=this.version;for(let v=0;v<12;v++)p=p<<1^(p>>>11)*7973;const f=this.version<<12|p;r(f>>>18==0);for(let v=0;v<18;v++){const E=s(f,v),T=this.size-11+v%3,x=Math.floor(v/3);this.setFunctionModule(T,x,E),this.setFunctionModule(x,T,E)}}drawFinderPattern(p,f){for(let v=-4;v<=4;v++)for(let E=-4;E<=4;E++){const T=Math.max(Math.abs(E),Math.abs(v)),x=p+E,M=f+v;0<=x&&x<this.size&&0<=M&&M<this.size&&this.setFunctionModule(x,M,T!=2&&T!=4)}}drawAlignmentPattern(p,f){for(let v=-2;v<=2;v++)for(let E=-2;E<=2;E++)this.setFunctionModule(p+E,f+v,Math.max(Math.abs(E),Math.abs(v))!=1)}setFunctionModule(p,f,v){this.modules[f][p]=v,this.isFunction[f][p]=!0}addEccAndInterleave(p){const f=this.version,v=this.errorCorrectionLevel;if(p.length!=Ne.getNumDataCodewords(f,v))throw new RangeError("Invalid argument");const E=Ne.NUM_ERROR_CORRECTION_BLOCKS[v.ordinal][f],T=Ne.ECC_CODEWORDS_PER_BLOCK[v.ordinal][f],x=Math.floor(Ne.getNumRawDataModules(f)/8),M=E-x%E,U=Math.floor(x/E);let k=[];const F=Ne.reedSolomonComputeDivisor(T);for(let B=0,oe=0;B<E;B++){let se=p.slice(oe,oe+U-T+(B<M?0:1));oe+=se.length;const ae=Ne.reedSolomonComputeRemainder(se,F);B<M&&se.push(0),k.push(se.concat(ae))}let Y=[];for(let B=0;B<k[0].length;B++)k.forEach((oe,se)=>{(B!=U-T||se>=M)&&Y.push(oe[B])});return r(Y.length==x),Y}drawCodewords(p){if(p.length!=Math.floor(Ne.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let f=0;for(let v=this.size-1;v>=1;v-=2){v==6&&(v=5);for(let E=0;E<this.size;E++)for(let T=0;T<2;T++){const x=v-T,U=(v+1&2)==0?this.size-1-E:E;!this.isFunction[U][x]&&f<p.length*8&&(this.modules[U][x]=s(p[f>>>3],7-(f&7)),f++)}}r(f==p.length*8)}applyMask(p){if(p<0||p>7)throw new RangeError("Mask value out of range");for(let f=0;f<this.size;f++)for(let v=0;v<this.size;v++){let E;switch(p){case 0:E=(v+f)%2==0;break;case 1:E=f%2==0;break;case 2:E=v%3==0;break;case 3:E=(v+f)%3==0;break;case 4:E=(Math.floor(v/3)+Math.floor(f/2))%2==0;break;case 5:E=v*f%2+v*f%3==0;break;case 6:E=(v*f%2+v*f%3)%2==0;break;case 7:E=((v+f)%2+v*f%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[f][v]&&E&&(this.modules[f][v]=!this.modules[f][v])}}getPenaltyScore(){let p=0;for(let T=0;T<this.size;T++){let x=!1,M=0,U=[0,0,0,0,0,0,0];for(let k=0;k<this.size;k++)this.modules[T][k]==x?(M++,M==5?p+=Ne.PENALTY_N1:M>5&&p++):(this.finderPenaltyAddHistory(M,U),x||(p+=this.finderPenaltyCountPatterns(U)*Ne.PENALTY_N3),x=this.modules[T][k],M=1);p+=this.finderPenaltyTerminateAndCount(x,M,U)*Ne.PENALTY_N3}for(let T=0;T<this.size;T++){let x=!1,M=0,U=[0,0,0,0,0,0,0];for(let k=0;k<this.size;k++)this.modules[k][T]==x?(M++,M==5?p+=Ne.PENALTY_N1:M>5&&p++):(this.finderPenaltyAddHistory(M,U),x||(p+=this.finderPenaltyCountPatterns(U)*Ne.PENALTY_N3),x=this.modules[k][T],M=1);p+=this.finderPenaltyTerminateAndCount(x,M,U)*Ne.PENALTY_N3}for(let T=0;T<this.size-1;T++)for(let x=0;x<this.size-1;x++){const M=this.modules[T][x];M==this.modules[T][x+1]&&M==this.modules[T+1][x]&&M==this.modules[T+1][x+1]&&(p+=Ne.PENALTY_N2)}let f=0;for(const T of this.modules)f=T.reduce((x,M)=>x+(M?1:0),f);const v=this.size*this.size,E=Math.ceil(Math.abs(f*20-v*10)/v)-1;return r(0<=E&&E<=9),p+=E*Ne.PENALTY_N4,r(0<=p&&p<=2568888),p}getAlignmentPatternPositions(){if(this.version==1)return[];{const p=Math.floor(this.version/7)+2,f=this.version==32?26:Math.ceil((this.version*4+4)/(p*2-2))*2;let v=[6];for(let E=this.size-7;v.length<p;E-=f)v.splice(1,0,E);return v}}static getNumRawDataModules(p){if(p<Ne.MIN_VERSION||p>Ne.MAX_VERSION)throw new RangeError("Version number out of range");let f=(16*p+128)*p+64;if(p>=2){const v=Math.floor(p/7)+2;f-=(25*v-10)*v-55,p>=7&&(f-=36)}return r(208<=f&&f<=29648),f}static getNumDataCodewords(p,f){return Math.floor(Ne.getNumRawDataModules(p)/8)-Ne.ECC_CODEWORDS_PER_BLOCK[f.ordinal][p]*Ne.NUM_ERROR_CORRECTION_BLOCKS[f.ordinal][p]}static reedSolomonComputeDivisor(p){if(p<1||p>255)throw new RangeError("Degree out of range");let f=[];for(let E=0;E<p-1;E++)f.push(0);f.push(1);let v=1;for(let E=0;E<p;E++){for(let T=0;T<f.length;T++)f[T]=Ne.reedSolomonMultiply(f[T],v),T+1<f.length&&(f[T]^=f[T+1]);v=Ne.reedSolomonMultiply(v,2)}return f}static reedSolomonComputeRemainder(p,f){let v=f.map(E=>0);for(const E of p){const T=E^v.shift();v.push(0),f.forEach((x,M)=>v[M]^=Ne.reedSolomonMultiply(x,T))}return v}static reedSolomonMultiply(p,f){if(p>>>8||f>>>8)throw new RangeError("Byte out of range");let v=0;for(let E=7;E>=0;E--)v=v<<1^(v>>>7)*285,v^=(f>>>E&1)*p;return r(v>>>8==0),v}finderPenaltyCountPatterns(p){const f=p[1];r(f<=this.size*3);const v=f>0&&p[2]==f&&p[3]==f*3&&p[4]==f&&p[5]==f;return(v&&p[0]>=f*4&&p[6]>=f?1:0)+(v&&p[6]>=f*4&&p[0]>=f?1:0)}finderPenaltyTerminateAndCount(p,f,v){return p&&(this.finderPenaltyAddHistory(f,v),f=0),f+=this.size,this.finderPenaltyAddHistory(f,v),this.finderPenaltyCountPatterns(v)}finderPenaltyAddHistory(p,f){f[0]==0&&(p+=this.size),f.pop(),f.unshift(p)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=e;function n(g,p,f){if(p<0||p>31||g>>>p)throw new RangeError("Value out of range");for(let v=p-1;v>=0;v--)f.push(g>>>v&1)}function s(g,p){return(g>>>p&1)!=0}function r(g){if(!g)throw new Error("Assertion error")}const l=class ct{constructor(p,f,v){if(this.mode=p,this.numChars=f,this.bitData=v,f<0)throw new RangeError("Invalid argument");this.bitData=v.slice()}static makeBytes(p){let f=[];for(const v of p)n(v,8,f);return new ct(ct.Mode.BYTE,p.length,f)}static makeNumeric(p){if(!ct.isNumeric(p))throw new RangeError("String contains non-numeric characters");let f=[];for(let v=0;v<p.length;){const E=Math.min(p.length-v,3);n(parseInt(p.substring(v,v+E),10),E*3+1,f),v+=E}return new ct(ct.Mode.NUMERIC,p.length,f)}static makeAlphanumeric(p){if(!ct.isAlphanumeric(p))throw new RangeError("String contains unencodable characters in alphanumeric mode");let f=[],v;for(v=0;v+2<=p.length;v+=2){let E=ct.ALPHANUMERIC_CHARSET.indexOf(p.charAt(v))*45;E+=ct.ALPHANUMERIC_CHARSET.indexOf(p.charAt(v+1)),n(E,11,f)}return v<p.length&&n(ct.ALPHANUMERIC_CHARSET.indexOf(p.charAt(v)),6,f),new ct(ct.Mode.ALPHANUMERIC,p.length,f)}static makeSegments(p){return p==""?[]:ct.isNumeric(p)?[ct.makeNumeric(p)]:ct.isAlphanumeric(p)?[ct.makeAlphanumeric(p)]:[ct.makeBytes(ct.toUtf8ByteArray(p))]}static makeEci(p){let f=[];if(p<0)throw new RangeError("ECI assignment value out of range");if(p<128)n(p,8,f);else if(p<16384)n(2,2,f),n(p,14,f);else if(p<1e6)n(6,3,f),n(p,21,f);else throw new RangeError("ECI assignment value out of range");return new ct(ct.Mode.ECI,0,f)}static isNumeric(p){return ct.NUMERIC_REGEX.test(p)}static isAlphanumeric(p){return ct.ALPHANUMERIC_REGEX.test(p)}getData(){return this.bitData.slice()}static getTotalBits(p,f){let v=0;for(const E of p){const T=E.mode.numCharCountBits(f);if(E.numChars>=1<<T)return 1/0;v+=4+T+E.bitData.length}return v}static toUtf8ByteArray(p){p=encodeURI(p);let f=[];for(let v=0;v<p.length;v++)p.charAt(v)!="%"?f.push(p.charCodeAt(v)):(f.push(parseInt(p.substring(v+1,v+3),16)),v+=2);return f}};l.NUMERIC_REGEX=/^[0-9]*$/,l.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,l.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let c=l;t.QrSegment=l})(Us||(Us={}));(t=>{(e=>{const n=class{constructor(r,l){this.ordinal=r,this.formatBits=l}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),e.Ecc=n})(t.QrCode||(t.QrCode={}))})(Us||(Us={}));(t=>{(e=>{const n=class{constructor(r,l){this.modeBits=r,this.numBitsCharCount=l}numCharCountBits(r){return this.numBitsCharCount[Math.floor((r+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),e.Mode=n})(t.QrSegment||(t.QrSegment={}))})(Us||(Us={}));var kr=Us;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var X3={L:kr.QrCode.Ecc.LOW,M:kr.QrCode.Ecc.MEDIUM,Q:kr.QrCode.Ecc.QUARTILE,H:kr.QrCode.Ecc.HIGH},TS=128,SS="L",AS="#FFFFFF",CS="#000000",wS=!1,xS=1,Q3=4,W3=0,Z3=.1;function bS(t,e=0){const n=[];return t.forEach(function(s,r){let l=null;s.forEach(function(c,g){if(!c&&l!==null){n.push(`M${l+e} ${r+e}h${g-l}v1H${l+e}z`),l=null;return}if(g===s.length-1){if(!c)return;l===null?n.push(`M${g+e},${r+e} h1v1H${g+e}z`):n.push(`M${l+e},${r+e} h${g+1-l}v1H${l+e}z`);return}c&&l===null&&(l=g)})}),n.join("")}function RS(t,e){return t.slice().map((n,s)=>s<e.y||s>=e.y+e.h?n:n.map((r,l)=>l<e.x||l>=e.x+e.w?r:!1))}function j3(t,e,n,s){if(s==null)return null;const r=t.length+n*2,l=Math.floor(e*Z3),c=r/e,g=(s.width||l)*c,p=(s.height||l)*c,f=s.x==null?t.length/2-g/2:s.x*c,v=s.y==null?t.length/2-p/2:s.y*c,E=s.opacity==null?1:s.opacity;let T=null;if(s.excavate){let M=Math.floor(f),U=Math.floor(v),k=Math.ceil(g+f-M),F=Math.ceil(p+v-U);T={x:M,y:U,w:k,h:F}}const x=s.crossOrigin;return{x:f,y:v,h:p,w:g,excavation:T,opacity:E,crossOrigin:x}}function eL(t,e){return e!=null?Math.max(Math.floor(e),0):t?Q3:W3}function IS({value:t,level:e,minVersion:n,includeMargin:s,marginSize:r,imageSettings:l,size:c,boostLevel:g}){let p=Ct.useMemo(()=>{const M=(Array.isArray(t)?t:[t]).reduce((U,k)=>(U.push(...kr.QrSegment.makeSegments(k)),U),[]);return kr.QrCode.encodeSegments(M,X3[e],n,void 0,void 0,g)},[t,e,n,g]);const{cells:f,margin:v,numCells:E,calculatedImageSettings:T}=Ct.useMemo(()=>{let x=p.getModules();const M=eL(s,r),U=x.length+M*2,k=j3(x,c,M,l);return{cells:x,margin:M,numCells:U,calculatedImageSettings:k}},[p,c,l,s,r]);return{qrcode:p,margin:v,cells:f,numCells:E,calculatedImageSettings:T}}var tL=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),NS=Ct.forwardRef(function(e,n){const s=e,{value:r,size:l=TS,level:c=SS,bgColor:g=AS,fgColor:p=CS,includeMargin:f=wS,minVersion:v=xS,boostLevel:E,marginSize:T,imageSettings:x}=s,U=Zh(s,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:k}=U,F=Zh(U,["style"]),Y=x==null?void 0:x.src,B=Ct.useRef(null),oe=Ct.useRef(null),se=Ct.useCallback(Ae=>{B.current=Ae,typeof n=="function"?n(Ae):n&&(n.current=Ae)},[n]),[ae,D]=Ct.useState(!1),{margin:N,cells:I,numCells:O,calculatedImageSettings:L}=IS({value:r,level:c,minVersion:v,boostLevel:E,includeMargin:f,marginSize:T,imageSettings:x,size:l});Ct.useEffect(()=>{if(B.current!=null){const Ae=B.current,He=Ae.getContext("2d");if(!He)return;let j=I;const re=oe.current,pe=L!=null&&re!==null&&re.complete&&re.naturalHeight!==0&&re.naturalWidth!==0;pe&&L.excavation!=null&&(j=RS(I,L.excavation));const Me=window.devicePixelRatio||1;Ae.height=Ae.width=l*Me;const Ge=l/O*Me;He.scale(Ge,Ge),He.fillStyle=g,He.fillRect(0,0,O,O),He.fillStyle=p,tL?He.fill(new Path2D(bS(j,N))):I.forEach(function(G,ne){G.forEach(function(ue,de){ue&&He.fillRect(de+N,ne+N,1,1)})}),L&&(He.globalAlpha=L.opacity),pe&&He.drawImage(re,L.x+N,L.y+N,L.w,L.h)}}),Ct.useEffect(()=>{D(!1)},[Y]);const z=Wh({height:l,width:l},k);let P=null;return Y!=null&&(P=Ct.createElement("img",{src:Y,key:Y,style:{display:"none"},onLoad:()=>{D(!0)},ref:oe,crossOrigin:L==null?void 0:L.crossOrigin})),Ct.createElement(Ct.Fragment,null,Ct.createElement("canvas",Wh({style:z,height:l,width:l,ref:se,role:"img"},F)),P)});NS.displayName="QRCodeCanvas";var nL=Ct.forwardRef(function(e,n){const s=e,{value:r,size:l=TS,level:c=SS,bgColor:g=AS,fgColor:p=CS,includeMargin:f=wS,minVersion:v=xS,boostLevel:E,title:T,marginSize:x,imageSettings:M}=s,U=Zh(s,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:k,cells:F,numCells:Y,calculatedImageSettings:B}=IS({value:r,level:c,minVersion:v,boostLevel:E,includeMargin:f,marginSize:x,imageSettings:M,size:l});let oe=F,se=null;M!=null&&B!=null&&(B.excavation!=null&&(oe=RS(F,B.excavation)),se=Ct.createElement("image",{href:M.src,height:B.h,width:B.w,x:B.x+k,y:B.y+k,preserveAspectRatio:"none",opacity:B.opacity,crossOrigin:B.crossOrigin}));const ae=bS(oe,k);return Ct.createElement("svg",Wh({height:l,width:l,viewBox:`0 0 ${Y} ${Y}`,ref:n,role:"img"},U),!!T&&Ct.createElement("title",null,T),Ct.createElement("path",{fill:g,d:`M0,0 h${Y}v${Y}H0z`,shapeRendering:"crispEdges"}),Ct.createElement("path",{fill:p,d:ae,shapeRendering:"crispEdges"}),se)});nL.displayName="QRCodeSVG";const iL=()=>{const{currentUser:t}=vS(),e=El(),[n,s]=J.useState(""),[r,l]=J.useState(""),[c,g]=J.useState([]),p=async()=>{try{await td.signOut(),e("/login")}catch(v){console.error("Failed to log out",v)}},f=v=>{if(v.preventDefault(),!r)return;const E=Math.random().toString(36).substring(2,8).toUpperCase(),T=`${window.location.origin}/register?ref=${E}`;s(T),g([{name:r,code:E,date:new Date().toLocaleDateString()},...c]),l("")};return t?C.jsxs("div",{className:"min-h-screen bg-history-parchment/20 p-6 font-serif",children:[C.jsxs("header",{className:"max-w-6xl mx-auto flex items-center justify-between mb-10 pb-6 border-b border-history-gold/30",children:[C.jsxs("div",{className:"flex items-center gap-4",children:[C.jsx(Bo,{to:"/",className:"p-2 hover:bg-black/5 rounded-full transition-colors text-history-wood",children:C.jsx(fp,{className:"w-5 h-5"})}),C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("div",{className:"w-10 h-10 bg-history-red/10 rounded-full flex items-center justify-center text-history-red",children:C.jsx($E,{className:"w-5 h-5"})}),C.jsxs("div",{children:[C.jsx("h1",{className:"font-display font-medium text-xl text-history-ink tracking-wide",children:"Admin Council"}),C.jsx("p",{className:"text-xs text-history-wood font-medium uppercase tracking-widest",children:t.email})]})]})]}),C.jsxs("button",{onClick:p,className:"flex items-center gap-2 px-4 py-2 rounded border border-history-gold/30 text-history-wood hover:text-history-red hover:border-history-red/30 transition-all text-xs font-bold uppercase tracking-widest",children:[C.jsx(P2,{className:"w-4 h-4"}),"Logout"]})]}),C.jsxs("main",{className:"max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8",children:[C.jsxs("div",{className:"glass-panel p-6 border border-history-gold/20 rounded-lg shadow-sm",children:[C.jsxs("h2",{className:"font-display font-medium text-lg text-history-dark mb-6 flex items-center gap-2",children:[C.jsx(F2,{className:"w-4 h-4 text-history-red"}),"Generate Referral Scroll"]}),C.jsxs("form",{onSubmit:f,className:"space-y-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-xs font-bold text-history-wood uppercase tracking-widest mb-1.5",children:"Invitee Name / Identifier"}),C.jsx("input",{type:"text",value:r,onChange:v=>l(v.target.value),className:"w-full bg-white/50 border border-history-gold/20 rounded-md px-4 py-2.5 text-history-dark focus:outline-none focus:ring-1 focus:ring-history-gold/50",placeholder:"Enter name..."})]}),C.jsx("button",{type:"submit",disabled:!r,className:"w-full bg-history-ink hover:bg-black text-history-paper py-3 rounded-[4px] font-display font-medium text-sm tracking-widest uppercase transition-all shadow-md disabled:opacity-50",children:"Generate Seal (QR)"})]}),n&&C.jsxs("div",{className:"mt-8 p-6 bg-white/60 rounded border border-history-gold/10 flex flex-col items-center animate-fade-in-up",children:[C.jsx("div",{className:"mb-4 p-2 bg-white rounded shadow-sm",children:C.jsx(NS,{value:n,size:150,level:"H"})}),C.jsx("p",{className:"text-xs text-history-wood uppercase tracking-widest mb-2 font-bold",children:"Referral Link"}),C.jsx("code",{className:"text-xs bg-black/5 p-2 rounded w-full text-center break-all mb-4 text-history-dark font-mono",children:n}),C.jsx("div",{className:"flex gap-2 w-full",children:C.jsx("button",{onClick:()=>{navigator.clipboard.writeText(n)},className:"flex-1 py-2 text-xs font-bold uppercase tracking-widest border border-history-dark/10 rounded hover:bg-white transition-colors",children:"Copy Link"})})]})]}),C.jsxs("div",{className:"glass-panel p-6 border border-history-gold/20 rounded-lg shadow-sm",children:[C.jsx("h2",{className:"font-display font-medium text-lg text-history-dark mb-6",children:"Issued Invitations"}),c.length===0?C.jsx("div",{className:"text-center py-10 text-history-wood/50 italic text-sm border-2 border-dashed border-history-gold/10 rounded",children:"No invitations issued yet."}):C.jsx("div",{className:"space-y-3",children:c.map((v,E)=>C.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/40 border border-history-gold/10 rounded hover:bg-white/70 transition-colors",children:[C.jsxs("div",{children:[C.jsx("p",{className:"font-medium text-history-dark",children:v.name}),C.jsxs("p",{className:"text-xs text-history-wood",children:[v.date,"  Code: ",C.jsx("span",{className:"font-mono text-history-ink",children:v.code})]})]}),C.jsx("button",{className:"text-history-red/50 hover:text-history-red p-2 transition-colors",children:C.jsx(KE,{className:"w-4 h-4"})})]},E))})]})]})]}):C.jsx("div",{className:"p-10 text-center",children:"Loading... or unauthorized"})},oL={en:{title:"SuViet AI Tutor",subtitle:"History Education Reimagined",placeholder:"Which historical event shall we uncover today?",teachBtn:"Begin Journey",teachingBtn:"Consulting Archives...",error:"Failed to generate content. Please check your API key or try a different topic.",welcome:"Unlock the Past",welcomeSub:"Journey through history with immersive AI narratives, visual storyboards, and interactive learning tools.",tabs:{[tt.OVERVIEW]:"Overview",[tt.ANALYSIS]:"Analysis",[tt.STORYBOARD]:"Visuals",[tt.ASSETS]:"Assets"},labels:{sections:{summary:"Key Takeaways",timeline:"Chronicle of Events",characters:"Historical Figures",causes:"Roots & Origins",development:"The Unfolding",effects:"Legacy & Impact",voiceover:"Narration Script",storyboard:"Visual Storyboard",prompts:"Asset Generation",flashcards:"Knowledge Deck",mcq:"Assessment",thinking:"Critical Inquiry",visual:"Visual Description",angle:"Cinematography",audio:"Soundscape",analysis:"Deep Analysis"},study:{flashcardsMode:"Flashcards",quizMode:"Quiz Mode",next:"Next Card",prev:"Previous",flip:"Reveal Answer",submit:"Submit Assessment",score:"Final Score",retake:"Retake Assessment",correct:"Correct",incorrect:"Incorrect",question:"Query",of:"of",downloadPdf:"Export PDF",exploreLabel:"Explore",studyLabel:"Study",congrats:"Assessment Complete"},pdfModal:{title:"Export Document",description:"Select the archives you wish to include in your dossier.",selectAll:"Select All",deselectAll:"Deselect All",cancel:"Return",print:"Print / Save"},media:{generateImage:"Manifest Image",generateVideo:"Manifest Video",generating:"Crafting...",view:"View Artifact",download:"Download",videoDisclaimer:"Video generation typically takes 1-2 minutes.",selectKey:"Select API Key",apiKeyRequired:"API Key Required. Please set it in Settings."},settings:{title:"Settings",apiSection:"API Credentials",apiDesc:"Enter your Google AI Studio API Keys. Keys are stored locally in your browser cache.",geminiKeyLabel:"Gemini API Key (Text & Image)",veoKeyLabel:"Veo API Key (Video)",placeholder:"Enter API Key...",save:"Save Keys",saved:"Saved!",clear:"Clear All",close:"Close"}},steps:[{title:"Explore",desc:"Access comprehensive summaries and timelines."},{title:"Visualize",desc:"Generate storyboards and assets for media."},{title:"Master",desc:"Solidify knowledge with quizzes and flashcards."}]},vi:{title:"S Vit AI Tutor",subtitle:"Ti hin Lch s sng ng",placeholder:"Hm nay chng ta s tm hiu s kin no?",teachBtn:"Bt u",teachingBtn:"ang tra cu...",error:"Khng th to ni dung. Vui lng kim tra API key hoc th ch  khc.",welcome:"Khm Ph Lch S",welcomeSub:"Hnh trnh xuyn thi gian vi phn tch chuyn su, hnh nh trc quan v cng c hc tp thng minh.",tabs:{[tt.OVERVIEW]:"Tng quan",[tt.ANALYSIS]:"Phn tch",[tt.STORYBOARD]:"Hnh nh",[tt.ASSETS]:"Ti nguyn"},labels:{sections:{summary:"Ct li",timeline:"Nin biu",characters:"Nhn vt lch s",causes:"Nguyn nhn",development:"Din bin",effects:"H qu &  ngha",voiceover:"Li bnh",storyboard:"Kch bn phn cnh",prompts:"Gi  AI",flashcards:"Th ghi nh",mcq:"Trc nghim",thinking:"T duy phn bin",visual:"M t hnh nh",angle:"Gc my & Hnh ng",audio:"m thanh",analysis:"Phn tch chuyn su"},study:{flashcardsMode:"Th hc",quizMode:"Bi thi",next:"Tip theo",prev:"Quay li",flip:"Lt th",submit:"Np bi",score:"Kt qu",retake:"Lm li",correct:"Chnh xc",incorrect:"Cha ng",question:"Cu hi",of:"trn",downloadPdf:"Xut PDF",exploreLabel:"Khm ph",studyLabel:"Hc tp",congrats:"Hon thnh!"},pdfModal:{title:"Xut Ti Liu",description:"Chn cc ni dung bn mun lu tr.",selectAll:"Chn tt c",deselectAll:"B chn",cancel:"Hy",print:"In / Ti v"},media:{generateImage:"To Hnh nh",generateVideo:"To Video",generating:"ang to...",view:"Xem Media",download:"Ti v",videoDisclaimer:"Vic to video c th mt 1-2 pht.",selectKey:"Chn API Key",apiKeyRequired:"Cn API Key. Vui lng nhp trong Ci t."},settings:{title:"Ci t",apiSection:"Thng tin API",apiDesc:"Nhp kha API Google AI Studio ca bn. Kha s c lu cc b trn trnh duyt.",geminiKeyLabel:"Gemini API Key (Vn bn & nh)",veoKeyLabel:"Veo API Key (Video)",placeholder:"Nhp API Key...",save:"Lu Kha",saved:" Lu!",clear:"Xa Tt C",close:"ng"}},steps:[{title:"Khm ph",desc:"Tng hp kin thc v nin biu lch s."},{title:"Sng to",desc:"Dng li bi cnh vi AI v storyboard."},{title:"Lnh hi",desc:"Ghi nh su sc qua bi tp tng tc."}]}},Rr=["overview","analysis","storyboard","assets","quiz"],sL=()=>{const[t,e]=J.useState(""),[n,s]=J.useState("vi"),[r,l]=J.useState(null),[c,g]=J.useState(!1),[p,f]=J.useState(null),[v,E]=J.useState("explore"),[T,x]=J.useState(!1),[M,U]=J.useState(Rr),[k,F]=J.useState(!1),Y=oL[n],B=async O=>{if(O.preventDefault(),!!t.trim()){g(!0),f(null),l(null);try{const L=await MN(t,n);l(L),E("explore"),U(Rr)}catch{f(Y.error)}finally{g(!1)}}},oe=()=>{s(O=>O==="en"?"vi":"en")},se=()=>{x(!0)},ae=()=>{x(!1)},D=O=>{U(L=>L.includes(O)?L.filter(z=>z!==O):[...L,O])},N=()=>{M.length===Rr.length?U([]):U(Rr)},I=async()=>{x(!1);try{await document.fonts.ready}catch{console.warn("Font loading check failed, proceeding to print.")}setTimeout(()=>{window.print()},500)};return C.jsxs("div",{className:"min-h-screen pb-20 font-serif",children:[C.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 glass-panel border-b border-history-gold/20 shadow-sm no-print transition-all duration-300",children:C.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-8 h-16 flex items-center justify-between",children:[C.jsxs("div",{className:"flex items-center gap-3 cursor-pointer group",onClick:()=>{l(null),e("")},children:[C.jsx("div",{className:"w-8 h-8 rounded-sm border border-history-dark/10 flex items-center justify-center text-history-red bg-white/50 group-hover:bg-history-red group-hover:text-white transition-colors duration-500",children:C.jsx(BN,{className:"w-4 h-4"})}),C.jsx("span",{className:"font-display font-medium text-lg text-history-dark tracking-widest uppercase hidden sm:block",children:Y.title}),C.jsx("span",{className:"font-display font-bold text-lg text-history-dark tracking-widest uppercase sm:hidden",children:"SuViet"})]}),C.jsxs("div",{className:"flex items-center gap-4",children:[C.jsxs("button",{onClick:oe,className:"flex items-center gap-2 px-3 py-1.5 rounded-full bg-white/40 hover:bg-white/80 border border-history-gold/20 text-xs tracking-widest transition-all duration-300",children:[C.jsx(E2,{className:"w-3 h-3 text-history-wood"}),C.jsx("span",{className:`transition-colors duration-300 ${n==="vi"?"text-history-ink font-bold":"text-history-wood/50"}`,children:"VN"}),C.jsx("span",{className:"text-history-wood/30",children:"|"}),C.jsx("span",{className:`transition-colors duration-300 ${n==="en"?"text-history-ink font-bold":"text-history-wood/50"}`,children:"EN"})]}),C.jsx("button",{onClick:()=>F(!0),className:"p-2 text-history-wood hover:text-history-dark hover:bg-white/50 rounded-full transition-all duration-300",title:Y.labels.settings.title,children:C.jsx(eM,{className:"w-4 h-4"})}),C.jsx(Bo,{to:"/admin",className:"px-3 py-1.5 rounded-full bg-history-ink text-history-paper text-xs font-bold uppercase tracking-widest hover:bg-black transition-all",children:"Admin"})]})]})}),C.jsxs("main",{className:"pt-24 max-w-7xl mx-auto px-4 lg:px-8",children:[!r&&!c&&C.jsxs("section",{className:"flex flex-col items-center justify-center min-h-[70vh] text-center no-print",children:[C.jsxs("div",{className:"mb-10 relative animate-float opacity-90",children:[C.jsx("div",{className:"absolute -inset-4 bg-history-gold/10 rounded-full blur-3xl opacity-50"}),C.jsx("div",{className:"relative w-20 h-20 bg-gradient-to-br from-history-red to-history-ink rounded-full flex items-center justify-center shadow-lg border-4 border-white/20",children:C.jsx(Z0,{className:"w-8 h-8 text-history-paper"})})]}),C.jsx("h1",{className:"text-4xl md:text-6xl font-display font-medium text-history-ink mb-6 drop-shadow-sm tracking-wide animate-fade-in-up",style:{animationDelay:"0.1s"},children:Y.welcome}),C.jsx("p",{className:"text-history-wood text-lg md:text-xl max-w-2xl mb-12 font-serif italic font-light leading-relaxed animate-fade-in-up",style:{animationDelay:"0.2s"},children:Y.welcomeSub}),C.jsxs("form",{onSubmit:B,className:"w-full max-w-xl relative group z-10 animate-fade-in-up",style:{animationDelay:"0.3s"},children:[C.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-history-gold/50 to-history-red/50 rounded-lg blur opacity-10 group-hover:opacity-30 transition duration-1000"}),C.jsxs("div",{className:"relative flex items-center bg-white/80 rounded-lg shadow-paper p-1.5 transition-all duration-300 focus-within:ring-1 focus-within:ring-history-gold/30 border border-history-gold/20",children:[C.jsx(Z2,{className:"w-5 h-5 text-history-wood ml-4 opacity-50 shrink-0"}),C.jsx("input",{type:"text",value:t,onChange:O=>e(O.target.value),placeholder:Y.placeholder,className:"w-full bg-transparent border-none focus:ring-0 text-history-dark placeholder-history-wood/40 px-4 py-3 text-base font-serif outline-none"}),C.jsxs("button",{type:"submit",disabled:!t.trim(),className:"bg-history-ink hover:bg-black text-history-paper px-6 py-3 rounded-[4px] font-display font-medium text-xs tracking-widest uppercase transition-all flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed shadow-md shrink-0",children:[C.jsx(iM,{className:"w-3 h-3"}),C.jsx("span",{className:"hidden sm:inline",children:Y.teachBtn})]})]})]}),C.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mt-24 w-full max-w-5xl border-t border-history-gold/10 pt-10",children:Y.steps.map((O,L)=>C.jsxs("div",{className:"flex flex-col items-center p-4 hover:-translate-y-1 transition-transform duration-500 animate-fade-in-up group",style:{animationDelay:`${.4+L*.1}s`},children:[C.jsxs("span",{className:"text-history-red/30 font-display font-medium text-4xl mb-3 group-hover:text-history-red/60 transition-colors",children:["0",L+1]}),C.jsx("h3",{className:"text-history-dark font-medium mb-2 uppercase tracking-widest text-xs",children:O.title}),C.jsx("p",{className:"text-history-wood text-sm leading-relaxed max-w-xs font-light",children:O.desc})]},L))}),p&&C.jsxs("div",{className:"mt-8 p-4 glass-panel bg-red-50/50 text-red-900 border-red-200 rounded-lg flex items-center gap-2 animate-pulse font-serif text-sm",children:[C.jsx(WN,{className:"w-4 h-4"}),p]})]}),c&&C.jsxs("div",{className:"min-h-[60vh] flex flex-col items-center justify-center text-center no-print",children:[C.jsxs("div",{className:"relative",children:[C.jsx("div",{className:"w-16 h-16 border-2 border-history-parchment border-t-history-red rounded-full animate-spin mb-8"}),C.jsx("div",{className:"absolute inset-0 flex items-center justify-center mb-8",children:C.jsx(Z0,{className:"w-5 h-5 text-history-red animate-pulse"})})]}),C.jsx("h2",{className:"text-xl font-display font-medium text-history-dark mb-2 animate-pulse tracking-widest uppercase",children:Y.teachingBtn}),C.jsx("p",{className:"text-history-wood font-serif italic text-sm",children:"Consulting the archives..."})]}),!c&&r&&C.jsxs("div",{className:"animate-fade-in-up pb-12",children:[C.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-end mb-12 gap-6 border-b border-history-gold/20 pb-8 no-print",children:[C.jsxs("div",{className:"flex-1",children:[C.jsx("div",{className:"inline-block px-2 py-0.5 bg-history-gold/10 text-history-wood text-[10px] font-bold uppercase tracking-widest rounded mb-3 border border-history-gold/20",children:"Historical Archive"}),C.jsx("h1",{className:"text-3xl md:text-5xl font-display font-medium text-history-ink leading-tight",children:r.title})]}),C.jsxs("div",{className:"flex flex-col items-end gap-4 w-full md:w-auto",children:[C.jsxs("div",{className:"flex p-1 bg-history-parchment/50 rounded-lg border border-history-gold/10 w-full md:w-auto",children:[C.jsxs("button",{onClick:()=>E("explore"),className:`flex-1 md:flex-none flex items-center justify-center gap-2 px-6 py-2 rounded-md font-medium text-xs uppercase tracking-wider transition-all duration-300 ${v==="explore"?"bg-white text-history-ink shadow-sm border border-history-gold/10":"text-history-wood/70 hover:text-history-dark hover:bg-white/30"}`,children:[C.jsx(c2,{className:"w-3 h-3"}),Y.labels.study.exploreLabel]}),C.jsxs("button",{onClick:()=>E("study"),className:`flex-1 md:flex-none flex items-center justify-center gap-2 px-6 py-2 rounded-md font-medium text-xs uppercase tracking-wider transition-all duration-300 ${v==="study"?"bg-history-red text-white shadow-sm":"text-history-red hover:bg-history-red/5"}`,children:[C.jsx(S2,{className:"w-3 h-3"}),Y.labels.study.studyLabel]})]}),C.jsxs("button",{onClick:se,className:"text-[10px] font-bold text-history-wood/60 hover:text-history-red flex items-center gap-2 px-2 transition-colors uppercase tracking-widest",children:[C.jsx(X0,{className:"w-3 h-3"}),Y.labels.study.downloadPdf]})]})]}),C.jsx("div",{className:"no-print min-h-[500px]",children:v==="explore"?C.jsx(IM,{data:r,labels:Y.labels,tabLabels:Y.tabs}):C.jsx(NM,{data:r,labels:Y.labels})}),C.jsx(kM,{data:r,labels:Y.labels,sections:M})]})]}),T&&C.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-history-ink/40 backdrop-blur-sm p-4 animate-fade-in no-print",children:C.jsxs("div",{className:"glass-panel rounded-lg shadow-2xl max-w-md w-full overflow-hidden flex flex-col animate-fade-in-up border border-history-gold/20",children:[C.jsxs("div",{className:"bg-white/80 px-6 py-4 border-b border-history-gold/10 flex justify-between items-center backdrop-blur-sm",children:[C.jsx("div",{children:C.jsx("h3",{className:"text-lg font-display font-medium text-history-ink",children:Y.labels.pdfModal.title})}),C.jsx("button",{onClick:ae,className:"p-1 hover:bg-black/5 rounded-full text-history-wood transition-colors",children:C.jsx(XE,{className:"w-4 h-4"})})]}),C.jsxs("div",{className:"p-6",children:[C.jsx("p",{className:"text-sm text-history-wood/80 mb-5 font-light italic",children:Y.labels.pdfModal.description}),C.jsx("div",{className:"flex justify-end mb-3",children:C.jsx("button",{onClick:N,className:"text-[10px] font-bold uppercase tracking-widest text-history-red hover:underline",children:M.length===Rr.length?Y.labels.pdfModal.deselectAll:Y.labels.pdfModal.selectAll})}),C.jsx("div",{className:"space-y-2",children:Rr.map(O=>{const L=M.includes(O);let z="";switch(O){case"overview":z=`${Y.labels.sections.summary} & ${Y.labels.sections.timeline}`;break;case"analysis":z=Y.labels.sections.analysis;break;case"storyboard":z=Y.labels.sections.storyboard;break;case"assets":z=Y.labels.sections.prompts;break;case"quiz":z=`${Y.labels.sections.flashcards} & ${Y.labels.sections.mcq}`;break}return C.jsxs("div",{onClick:()=>D(O),className:`flex items-center gap-3 p-3 rounded border cursor-pointer transition-all duration-200 ${L?"bg-history-gold/10 border-history-gold/30 text-history-ink font-medium":"bg-white/40 border-transparent text-history-wood/60 hover:bg-white/80"}`,children:[L?C.jsx(sM,{className:"w-4 h-4 text-history-red"}):C.jsx(aM,{className:"w-4 h-4 text-history-gold/30"}),C.jsx("span",{className:"font-serif text-sm",children:z})]},O)})})]}),C.jsxs("div",{className:"p-6 bg-history-parchment/20 border-t border-history-gold/10 flex justify-end gap-3 backdrop-blur-sm",children:[C.jsx("button",{onClick:ae,className:"px-4 py-2 text-history-wood hover:text-history-dark font-medium transition-colors text-xs tracking-wide",children:Y.labels.pdfModal.cancel}),C.jsxs("button",{onClick:I,disabled:M.length===0,className:"px-6 py-2 bg-history-ink text-history-paper rounded-[4px] font-medium shadow-sm hover:bg-black disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center gap-2 text-xs uppercase tracking-widest transform active:scale-95",children:[C.jsx(X0,{className:"w-3 h-3"}),Y.labels.pdfModal.print]})]})]})}),C.jsx(PM,{isOpen:k,onClose:()=>F(!1),labels:Y.labels})]})},rL=({children:t})=>{const{currentUser:e,loading:n}=vS();return n?C.jsx("div",{className:"min-h-screen flex items-center justify-center text-history-wood",children:"Loading..."}):e?t:C.jsx(ND,{to:"/login",replace:!0})},aL=()=>C.jsx(Y3,{children:C.jsx(nk,{children:C.jsxs(DD,{children:[C.jsx(rl,{path:"/",element:C.jsx(sL,{})}),C.jsx(rl,{path:"/login",element:C.jsx(J3,{})}),C.jsx(rl,{path:"/register",element:C.jsx($3,{})}),C.jsx(rl,{path:"/admin",element:C.jsx(rL,{children:C.jsx(iL,{})})})]})})}),MS=document.getElementById("root");if(!MS)throw new Error("Could not find root element to mount to");const lL=vC.createRoot(MS);lL.render(C.jsx(Ct.StrictMode,{children:C.jsx(aL,{})}));
